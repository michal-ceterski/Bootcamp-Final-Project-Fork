function MI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _0={exports:{}},vh={},v0={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),VI=Symbol.for("react.portal"),FI=Symbol.for("react.fragment"),zI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),UI=Symbol.for("react.provider"),jI=Symbol.for("react.context"),$I=Symbol.for("react.forward_ref"),WI=Symbol.for("react.suspense"),HI=Symbol.for("react.memo"),qI=Symbol.for("react.lazy"),D_=Symbol.iterator;function GI(t){return t===null||typeof t!="object"?null:(t=D_&&t[D_]||t["@@iterator"],typeof t=="function"?t:null)}var y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w0=Object.assign,E0={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=E0,this.updater=n||y0}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T0(){}T0.prototype=Lo.prototype;function Jp(t,e,n){this.props=t,this.context=e,this.refs=E0,this.updater=n||y0}var em=Jp.prototype=new T0;em.constructor=Jp;w0(em,Lo.prototype);em.isPureReactComponent=!0;var M_=Array.isArray,S0=Object.prototype.hasOwnProperty,tm={current:null},I0={key:!0,ref:!0,__self:!0,__source:!0};function P0(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)S0.call(e,i)&&!I0.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return{$$typeof:bl,type:t,key:o,ref:l,props:r,_owner:tm.current}}function ZI(t,e){return{$$typeof:bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===bl}function KI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V_=/\/+/g;function Dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KI(""+t.key):e.toString(36)}function nc(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case bl:case VI:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+Dd(l,0):i,M_(r)?(n="",t!=null&&(n=t.replace(V_,"$&/")+"/"),nc(r,e,n,"",function(f){return f})):r!=null&&(nm(r)&&(r=ZI(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(V_,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",M_(t))for(var c=0;c<t.length;c++){o=t[c];var h=i+Dd(o,c);l+=nc(o,e,n,h,r)}else if(h=GI(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=i+Dd(o,c++),l+=nc(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function xu(t,e,n){if(t==null)return t;var i=[],r=0;return nc(t,i,"","",function(o){return e.call(n,o,r++)}),i}function QI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},ic={transition:null},XI={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:ic,ReactCurrentOwner:tm};xe.Children={map:xu,forEach:function(t,e,n){xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Lo;xe.Fragment=FI;xe.Profiler=BI;xe.PureComponent=Jp;xe.StrictMode=zI;xe.Suspense=WI;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XI;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=w0({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=tm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)S0.call(e,h)&&!I0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:bl,type:t.type,key:r,ref:o,props:i,_owner:l}};xe.createContext=function(t){return t={$$typeof:jI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UI,_context:t},t.Consumer=t};xe.createElement=P0;xe.createFactory=function(t){var e=P0.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:$I,render:t}};xe.isValidElement=nm;xe.lazy=function(t){return{$$typeof:qI,_payload:{_status:-1,_result:t},_init:QI}};xe.memo=function(t,e){return{$$typeof:HI,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=ic.transition;ic.transition={};try{t()}finally{ic.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return nn.current.useCallback(t,e)};xe.useContext=function(t){return nn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return nn.current.useEffect(t,e)};xe.useId=function(){return nn.current.useId()};xe.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return nn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};xe.useRef=function(t){return nn.current.useRef(t)};xe.useState=function(t){return nn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return nn.current.useTransition()};xe.version="18.2.0";v0.exports=xe;var H=v0.exports;const yo=g0(H),YI=MI({__proto__:null,default:yo},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=H,eP=Symbol.for("react.element"),tP=Symbol.for("react.fragment"),nP=Object.prototype.hasOwnProperty,iP=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rP={key:!0,ref:!0,__self:!0,__source:!0};function k0(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)nP.call(e,i)&&!rP.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:eP,type:t,key:o,ref:l,props:r,_owner:iP.current}}vh.Fragment=tP;vh.jsx=k0;vh.jsxs=k0;_0.exports=vh;var b=_0.exports,xf={},C0={exports:{}},En={},x0={exports:{}},R0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,_e){var X=B.length;B.push(_e);e:for(;0<X;){var ve=X-1>>>1,Ce=B[ve];if(0<r(Ce,_e))B[ve]=_e,B[X]=Ce,X=ve;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var _e=B[0],X=B.pop();if(X!==_e){B[0]=X;e:for(var ve=0,Ce=B.length,Ye=Ce>>>1;ve<Ye;){var Ve=2*(ve+1)-1,Oe=B[Ve],Se=Ve+1,Ut=B[Se];if(0>r(Oe,X))Se<Ce&&0>r(Ut,Oe)?(B[ve]=Ut,B[Se]=X,ve=Se):(B[ve]=Oe,B[Ve]=X,ve=Ve);else if(Se<Ce&&0>r(Ut,X))B[ve]=Ut,B[Se]=X,ve=Se;else break e}}return _e}function r(B,_e){var X=B.sortIndex-_e.sortIndex;return X!==0?X:B.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,_=null,E=3,I=!1,R=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var _e=n(f);_e!==null;){if(_e.callback===null)i(f);else if(_e.startTime<=B)i(f),_e.sortIndex=_e.expirationTime,e(h,_e);else break;_e=n(f)}}function F(B){if(A=!1,x(B),!R)if(n(h)!==null)R=!0,gt(Q);else{var _e=n(f);_e!==null&&Nn(F,_e.startTime-B)}}function Q(B,_e){R=!1,A&&(A=!1,k(ae),ae=-1),I=!0;var X=E;try{for(x(_e),_=n(h);_!==null&&(!(_.expirationTime>_e)||B&&!je());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,E=_.priorityLevel;var Ce=ve(_.expirationTime<=_e);_e=t.unstable_now(),typeof Ce=="function"?_.callback=Ce:_===n(h)&&i(h),x(_e)}else i(h);_=n(h)}if(_!==null)var Ye=!0;else{var Ve=n(f);Ve!==null&&Nn(F,Ve.startTime-_e),Ye=!1}return Ye}finally{_=null,E=X,I=!1}}var J=!1,ne=null,ae=-1,be=5,Ee=-1;function je(){return!(t.unstable_now()-Ee<be)}function ut(){if(ne!==null){var B=t.unstable_now();Ee=B;var _e=!0;try{_e=ne(!0,B)}finally{_e?vi():(J=!1,ne=null)}}else J=!1}var vi;if(typeof T=="function")vi=function(){T(ut)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,ks=sn.port2;sn.port1.onmessage=ut,vi=function(){ks.postMessage(null)}}else vi=function(){D(ut,0)};function gt(B){ne=B,J||(J=!0,vi())}function Nn(B,_e){ae=D(function(){B(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){R||I||(R=!0,gt(Q))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(E){case 1:case 2:case 3:var _e=3;break;default:_e=E}var X=E;E=_e;try{return B()}finally{E=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,_e){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=E;E=B;try{return _e()}finally{E=X}},t.unstable_scheduleCallback=function(B,_e,X){var ve=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ve+X:ve):X=ve,B){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=X+Ce,B={id:m++,callback:_e,priorityLevel:B,startTime:X,expirationTime:Ce,sortIndex:-1},X>ve?(B.sortIndex=X,e(f,B),n(h)===null&&B===n(f)&&(A?(k(ae),ae=-1):A=!0,Nn(F,X-ve))):(B.sortIndex=Ce,e(h,B),R||I||(R=!0,gt(Q))),B},t.unstable_shouldYield=je,t.unstable_wrapCallback=function(B){var _e=E;return function(){var X=E;E=_e;try{return B.apply(this,arguments)}finally{E=X}}}})(R0);x0.exports=R0;var sP=x0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=H,yn=sP;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b0=new Set,Ga={};function ws(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(Ga[t]=e,t=0;t<e.length;t++)b0.add(e[t])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=Object.prototype.hasOwnProperty,oP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F_={},z_={};function aP(t){return Rf.call(z_,t)?!0:Rf.call(F_,t)?!1:oP.test(t)?z_[t]=!0:(F_[t]=!0,!1)}function lP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uP(t,e,n,i){if(e===null||typeof e>"u"||lP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var im=/[\-:]([a-z])/g;function rm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(im,rm);Bt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(im,rm);Bt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(im,rm);Bt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function sm(t,e,n,i){var r=Bt.hasOwnProperty(e)?Bt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uP(e,n,r,i)&&(n=null),i||r===null?aP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Hi=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),N0=Symbol.for("react.offscreen"),B_=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=B_&&t[B_]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Md;function Ta(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||""}return`
`+Md+t}var Vd=!1;function Fd(t,e){if(!t||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,c=o.length-1;1<=l&&0<=c&&r[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(r[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||r[l]!==o[c]){var h=`
`+r[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=c);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ta(t):""}function cP(t){switch(t.tag){case 5:return Ta(t.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return t=Fd(t.type,!1),t;case 11:return t=Fd(t.type.render,!1),t;case 1:return t=Fd(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ks:return"Fragment";case Zs:return"Portal";case Af:return"Profiler";case om:return"StrictMode";case bf:return"Suspense";case Of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L0:return(t.displayName||"Context")+".Consumer";case O0:return(t._context.displayName||"Context")+".Provider";case am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lm:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function hP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dP(t){var e=D0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=dP(t))}function M0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=D0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nf(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&sm(t,"checked",e,!1)}function Df(t,e){V0(t,e);var n=Ir(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mf(t,e.type,Ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mf(t,e,n){(e!=="number"||Ec(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sa=Array.isArray;function lo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ir(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Sa(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ir(n)}}function F0(t,e){var n=Ir(e.value),i=Ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function W_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,B0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fP=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){fP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ba[e]=ba[t]})});function U0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ba.hasOwnProperty(t)&&ba[t]?(""+e).trim():e+"px"}function j0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=U0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var pP=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zf(t,e){if(e){if(pP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jf=null,uo=null,co=null;function H_(t){if(t=Nl(t)){if(typeof jf!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Sh(e),jf(t.stateNode,t.type,e))}}function $0(t){uo?co?co.push(t):co=[t]:uo=t}function W0(){if(uo){var t=uo,e=co;if(co=uo=null,H_(t),e)for(t=0;t<e.length;t++)H_(e[t])}}function H0(t,e){return t(e)}function q0(){}var zd=!1;function G0(t,e,n){if(zd)return t(e,n);zd=!0;try{return H0(t,e,n)}finally{zd=!1,(uo!==null||co!==null)&&(q0(),W0())}}function Ka(t,e){var n=t.stateNode;if(n===null)return null;var i=Sh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var $f=!1;if(Fi)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){$f=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{$f=!1}function mP(t,e,n,i,r,o,l,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Oa=!1,Tc=null,Sc=!1,Wf=null,gP={onError:function(t){Oa=!0,Tc=t}};function _P(t,e,n,i,r,o,l,c,h){Oa=!1,Tc=null,mP.apply(gP,arguments)}function vP(t,e,n,i,r,o,l,c,h){if(_P.apply(this,arguments),Oa){if(Oa){var f=Tc;Oa=!1,Tc=null}else throw Error(G(198));Sc||(Sc=!0,Wf=f)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q_(t){if(Es(t)!==t)throw Error(G(188))}function yP(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return q_(r),t;if(o===i)return q_(r),e;o=o.sibling}throw Error(G(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,c=r.child;c;){if(c===n){l=!0,n=r,i=o;break}if(c===i){l=!0,i=r,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,i=r;break}if(c===i){l=!0,i=o,n=r;break}c=c.sibling}if(!l)throw Error(G(189))}}if(n.alternate!==i)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function K0(t){return t=yP(t),t!==null?Q0(t):null}function Q0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q0(t);if(e!==null)return e;t=t.sibling}return null}var X0=yn.unstable_scheduleCallback,G_=yn.unstable_cancelCallback,wP=yn.unstable_shouldYield,EP=yn.unstable_requestPaint,lt=yn.unstable_now,TP=yn.unstable_getCurrentPriorityLevel,cm=yn.unstable_ImmediatePriority,Y0=yn.unstable_UserBlockingPriority,Ic=yn.unstable_NormalPriority,SP=yn.unstable_LowPriority,J0=yn.unstable_IdlePriority,yh=null,li=null;function IP(t){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:CP,PP=Math.log,kP=Math.LN2;function CP(t){return t>>>=0,t===0?32:31-(PP(t)/kP|0)|0}var Ou=64,Lu=4194304;function Ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~r;c!==0?i=Ia(c):(o&=l,o!==0&&(i=Ia(o)))}else l=n&~r,l!==0?i=Ia(l):o!==0&&(i=Ia(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Hn(e),r=1<<n,i|=t[n],e&=~r;return i}function xP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Hn(o),c=1<<l,h=r[l];h===-1?(!(c&n)||c&i)&&(r[l]=xP(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function Hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ew(){var t=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),t}function Bd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function AP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Hn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function hm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Hn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Be=0;function tw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nw,dm,iw,rw,sw,qf=!1,Nu=[],fr=null,pr=null,mr=null,Qa=new Map,Xa=new Map,rr=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z_(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(e.pointerId)}}function da(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Nl(e),e!==null&&dm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function OP(t,e,n,i,r){switch(e){case"focusin":return fr=da(fr,t,e,n,i,r),!0;case"dragenter":return pr=da(pr,t,e,n,i,r),!0;case"mouseover":return mr=da(mr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Qa.set(o,da(Qa.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Xa.set(o,da(Xa.get(o)||null,t,e,n,i,r)),!0}return!1}function ow(t){var e=Kr(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=Z0(n),e!==null){t.blockedOn=e,sw(t.priority,function(){iw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Uf=i,n.target.dispatchEvent(i),Uf=null}else return e=Nl(n),e!==null&&dm(e),t.blockedOn=n,!1;e.shift()}return!0}function K_(t,e,n){rc(t)&&n.delete(e)}function LP(){qf=!1,fr!==null&&rc(fr)&&(fr=null),pr!==null&&rc(pr)&&(pr=null),mr!==null&&rc(mr)&&(mr=null),Qa.forEach(K_),Xa.forEach(K_)}function fa(t,e){t.blockedOn===e&&(t.blockedOn=null,qf||(qf=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,LP)))}function Ya(t){function e(r){return fa(r,t)}if(0<Nu.length){fa(Nu[0],t);for(var n=1;n<Nu.length;n++){var i=Nu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(fr!==null&&fa(fr,t),pr!==null&&fa(pr,t),mr!==null&&fa(mr,t),Qa.forEach(e),Xa.forEach(e),n=0;n<rr.length;n++)i=rr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)ow(n),n.blockedOn===null&&rr.shift()}var ho=Hi.ReactCurrentBatchConfig,kc=!0;function NP(t,e,n,i){var r=Be,o=ho.transition;ho.transition=null;try{Be=1,fm(t,e,n,i)}finally{Be=r,ho.transition=o}}function DP(t,e,n,i){var r=Be,o=ho.transition;ho.transition=null;try{Be=4,fm(t,e,n,i)}finally{Be=r,ho.transition=o}}function fm(t,e,n,i){if(kc){var r=Gf(t,e,n,i);if(r===null)Qd(t,e,i,Cc,n),Z_(t,i);else if(OP(r,t,e,n,i))i.stopPropagation();else if(Z_(t,i),e&4&&-1<bP.indexOf(t)){for(;r!==null;){var o=Nl(r);if(o!==null&&nw(o),o=Gf(t,e,n,i),o===null&&Qd(t,e,i,Cc,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Qd(t,e,i,null,n)}}var Cc=null;function Gf(t,e,n,i){if(Cc=null,t=um(i),t=Kr(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Z0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function aw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case cm:return 1;case Y0:return 4;case Ic:case SP:return 16;case J0:return 536870912;default:return 16}default:return 16}}var cr=null,pm=null,sc=null;function lw(){if(sc)return sc;var t,e=pm,n=e.length,i,r="value"in cr?cr.value:cr.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return sc=r.slice(t,1<i?1-i:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function Q_(){return!1}function Tn(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Du:Q_,this.isPropagationStopped=Q_,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=Tn(No),Ll=it({},No,{view:0,detail:0}),MP=Tn(Ll),Ud,jd,pa,wh=it({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(Ud=t.screenX-pa.screenX,jd=t.screenY-pa.screenY):jd=Ud=0,pa=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:jd}}),X_=Tn(wh),VP=it({},wh,{dataTransfer:0}),FP=Tn(VP),zP=it({},Ll,{relatedTarget:0}),$d=Tn(zP),BP=it({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),UP=Tn(BP),jP=it({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$P=Tn(jP),WP=it({},No,{data:0}),Y_=Tn(WP),HP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GP[t])?!!e[t]:!1}function gm(){return ZP}var KP=it({},Ll,{key:function(t){if(t.key){var e=HP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QP=Tn(KP),XP=it({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J_=Tn(XP),YP=it({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),JP=Tn(YP),ek=it({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),tk=Tn(ek),nk=it({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ik=Tn(nk),rk=[9,13,27,32],_m=Fi&&"CompositionEvent"in window,La=null;Fi&&"documentMode"in document&&(La=document.documentMode);var sk=Fi&&"TextEvent"in window&&!La,uw=Fi&&(!_m||La&&8<La&&11>=La),ev=" ",tv=!1;function cw(t,e){switch(t){case"keyup":return rk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function ok(t,e){switch(t){case"compositionend":return hw(e);case"keypress":return e.which!==32?null:(tv=!0,ev);case"textInput":return t=e.data,t===ev&&tv?null:t;default:return null}}function ak(t,e){if(Qs)return t==="compositionend"||!_m&&cw(t,e)?(t=lw(),sc=pm=cr=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uw&&e.locale!=="ko"?null:e.data;default:return null}}var lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lk[t.type]:e==="textarea"}function dw(t,e,n,i){$0(i),e=xc(e,"onChange"),0<e.length&&(n=new mm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Na=null,Ja=null;function uk(t){Sw(t,0)}function Eh(t){var e=Js(t);if(M0(e))return t}function ck(t,e){if(t==="change")return e}var fw=!1;if(Fi){var Wd;if(Fi){var Hd="oninput"in document;if(!Hd){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),Hd=typeof iv.oninput=="function"}Wd=Hd}else Wd=!1;fw=Wd&&(!document.documentMode||9<document.documentMode)}function rv(){Na&&(Na.detachEvent("onpropertychange",pw),Ja=Na=null)}function pw(t){if(t.propertyName==="value"&&Eh(Ja)){var e=[];dw(e,Ja,t,um(t)),G0(uk,e)}}function hk(t,e,n){t==="focusin"?(rv(),Na=e,Ja=n,Na.attachEvent("onpropertychange",pw)):t==="focusout"&&rv()}function dk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(Ja)}function fk(t,e){if(t==="click")return Eh(e)}function pk(t,e){if(t==="input"||t==="change")return Eh(e)}function mk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:mk;function el(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Rf.call(e,r)||!Gn(t[r],e[r]))return!1}return!0}function sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ov(t,e){var n=sv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sv(n)}}function mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gw(){for(var t=window,e=Ec();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ec(t.document)}return e}function vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gk(t){var e=gw(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mw(n.ownerDocument.documentElement,n)){if(i!==null&&vm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=ov(n,o);var l=ov(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _k=Fi&&"documentMode"in document&&11>=document.documentMode,Xs=null,Zf=null,Da=null,Kf=!1;function av(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||Xs==null||Xs!==Ec(i)||(i=Xs,"selectionStart"in i&&vm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Da&&el(Da,i)||(Da=i,i=xc(Zf,"onSelect"),0<i.length&&(e=new mm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Xs)))}function Mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},qd={},_w={};Fi&&(_w=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Th(t){if(qd[t])return qd[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _w)return qd[t]=e[n];return t}var vw=Th("animationend"),yw=Th("animationiteration"),ww=Th("animationstart"),Ew=Th("transitionend"),Tw=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){Tw.set(t,e),ws(e,[t])}for(var Gd=0;Gd<lv.length;Gd++){var Zd=lv[Gd],vk=Zd.toLowerCase(),yk=Zd[0].toUpperCase()+Zd.slice(1);br(vk,"on"+yk)}br(vw,"onAnimationEnd");br(yw,"onAnimationIteration");br(ww,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(Ew,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function uv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,vP(i,e,void 0,t),t.currentTarget=null}function Sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var c=i[l],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&r.isPropagationStopped())break e;uv(r,c,f),o=h}else for(l=0;l<i.length;l++){if(c=i[l],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&r.isPropagationStopped())break e;uv(r,c,f),o=h}}}if(Sc)throw t=Wf,Sc=!1,Wf=null,t}function Ge(t,e){var n=e[ep];n===void 0&&(n=e[ep]=new Set);var i=t+"__bubble";n.has(i)||(Iw(e,t,2,!1),n.add(i))}function Kd(t,e,n){var i=0;e&&(i|=4),Iw(n,t,i,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[Vu]){t[Vu]=!0,b0.forEach(function(n){n!=="selectionchange"&&(wk.has(n)||Kd(n,!1,t),Kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,Kd("selectionchange",!1,e))}}function Iw(t,e,n,i){switch(aw(e)){case 1:var r=NP;break;case 4:r=DP;break;default:r=fm}n=r.bind(null,e,n,t),r=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Qd(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;l=l.return}for(;c!==null;){if(l=Kr(c),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}c=c.parentNode}}i=i.return}G0(function(){var f=o,m=um(n),_=[];e:{var E=Tw.get(t);if(E!==void 0){var I=mm,R=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":I=QP;break;case"focusin":R="focus",I=$d;break;case"focusout":R="blur",I=$d;break;case"beforeblur":case"afterblur":I=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=X_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=FP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=JP;break;case vw:case yw:case ww:I=UP;break;case Ew:I=tk;break;case"scroll":I=MP;break;case"wheel":I=ik;break;case"copy":case"cut":case"paste":I=$P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=J_}var A=(e&4)!==0,D=!A&&t==="scroll",k=A?E!==null?E+"Capture":null:E;A=[];for(var T=f,x;T!==null;){x=T;var F=x.stateNode;if(x.tag===5&&F!==null&&(x=F,k!==null&&(F=Ka(T,k),F!=null&&A.push(nl(T,F,x)))),D)break;T=T.return}0<A.length&&(E=new I(E,R,null,n,m),_.push({event:E,listeners:A}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",E&&n!==Uf&&(R=n.relatedTarget||n.fromElement)&&(Kr(R)||R[zi]))break e;if((I||E)&&(E=m.window===m?m:(E=m.ownerDocument)?E.defaultView||E.parentWindow:window,I?(R=n.relatedTarget||n.toElement,I=f,R=R?Kr(R):null,R!==null&&(D=Es(R),R!==D||R.tag!==5&&R.tag!==6)&&(R=null)):(I=null,R=f),I!==R)){if(A=X_,F="onMouseLeave",k="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(A=J_,F="onPointerLeave",k="onPointerEnter",T="pointer"),D=I==null?E:Js(I),x=R==null?E:Js(R),E=new A(F,T+"leave",I,n,m),E.target=D,E.relatedTarget=x,F=null,Kr(m)===f&&(A=new A(k,T+"enter",R,n,m),A.target=x,A.relatedTarget=D,F=A),D=F,I&&R)t:{for(A=I,k=R,T=0,x=A;x;x=Ws(x))T++;for(x=0,F=k;F;F=Ws(F))x++;for(;0<T-x;)A=Ws(A),T--;for(;0<x-T;)k=Ws(k),x--;for(;T--;){if(A===k||k!==null&&A===k.alternate)break t;A=Ws(A),k=Ws(k)}A=null}else A=null;I!==null&&cv(_,E,I,A,!1),R!==null&&D!==null&&cv(_,D,R,A,!0)}}e:{if(E=f?Js(f):window,I=E.nodeName&&E.nodeName.toLowerCase(),I==="select"||I==="input"&&E.type==="file")var Q=ck;else if(nv(E))if(fw)Q=pk;else{Q=dk;var J=hk}else(I=E.nodeName)&&I.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(Q=fk);if(Q&&(Q=Q(t,f))){dw(_,Q,n,m);break e}J&&J(t,E,f),t==="focusout"&&(J=E._wrapperState)&&J.controlled&&E.type==="number"&&Mf(E,"number",E.value)}switch(J=f?Js(f):window,t){case"focusin":(nv(J)||J.contentEditable==="true")&&(Xs=J,Zf=f,Da=null);break;case"focusout":Da=Zf=Xs=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,av(_,n,m);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":av(_,n,m)}var ne;if(_m)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Qs?cw(t,n)&&(ae="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(ae="onCompositionStart");ae&&(uw&&n.locale!=="ko"&&(Qs||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Qs&&(ne=lw()):(cr=m,pm="value"in cr?cr.value:cr.textContent,Qs=!0)),J=xc(f,ae),0<J.length&&(ae=new Y_(ae,t,null,n,m),_.push({event:ae,listeners:J}),ne?ae.data=ne:(ne=hw(n),ne!==null&&(ae.data=ne)))),(ne=sk?ok(t,n):ak(t,n))&&(f=xc(f,"onBeforeInput"),0<f.length&&(m=new Y_("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=ne))}Sw(_,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Ka(t,n),o!=null&&i.unshift(nl(t,o,r)),o=Ka(t,e),o!=null&&i.push(nl(t,o,r))),t=t.return}return i}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cv(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&f!==null&&(c=f,r?(h=Ka(n,o),h!=null&&l.unshift(nl(n,h,c))):r||(h=Ka(n,o),h!=null&&l.push(nl(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Ek=/\r\n?/g,Tk=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(Ek,`
`).replace(Tk,"")}function Fu(t,e,n){if(e=hv(e),hv(t)!==e&&n)throw Error(G(425))}function Rc(){}var Qf=null,Xf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,Sk=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,Ik=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(Pk)}:Jf;function Pk(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ya(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ya(e)}function gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),ri="__reactFiber$"+Do,il="__reactProps$"+Do,zi="__reactContainer$"+Do,ep="__reactEvents$"+Do,kk="__reactListeners$"+Do,Ck="__reactHandles$"+Do;function Kr(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fv(t);t!==null;){if(n=t[ri])return n;t=fv(t)}return e}t=n,n=t.parentNode}return null}function Nl(t){return t=t[ri]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Sh(t){return t[il]||null}var tp=[],eo=-1;function Or(t){return{current:t}}function Ke(t){0>eo||(t.current=tp[eo],tp[eo]=null,eo--)}function qe(t,e){eo++,tp[eo]=t.current,t.current=e}var Pr={},Xt=Or(Pr),un=Or(!1),us=Pr;function Eo(t,e){var n=t.type.contextTypes;if(!n)return Pr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function cn(t){return t=t.childContextTypes,t!=null}function Ac(){Ke(un),Ke(Xt)}function pv(t,e,n){if(Xt.current!==Pr)throw Error(G(168));qe(Xt,e),qe(un,n)}function Pw(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(G(108,hP(t)||"Unknown",r));return it({},n,i)}function bc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,us=Xt.current,qe(Xt,t),qe(un,un.current),!0}function mv(t,e,n){var i=t.stateNode;if(!i)throw Error(G(169));n?(t=Pw(t,e,us),i.__reactInternalMemoizedMergedChildContext=t,Ke(un),Ke(Xt),qe(Xt,t)):Ke(un),qe(un,n)}var Ri=null,Ih=!1,Yd=!1;function kw(t){Ri===null?Ri=[t]:Ri.push(t)}function xk(t){Ih=!0,kw(t)}function Lr(){if(!Yd&&Ri!==null){Yd=!0;var t=0,e=Be;try{var n=Ri;for(Be=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ri=null,Ih=!1}catch(r){throw Ri!==null&&(Ri=Ri.slice(t+1)),X0(cm,Lr),r}finally{Be=e,Yd=!1}}return null}var to=[],no=0,Oc=null,Lc=0,Cn=[],xn=0,cs=null,Ai=1,bi="";function Hr(t,e){to[no++]=Lc,to[no++]=Oc,Oc=t,Lc=e}function Cw(t,e,n){Cn[xn++]=Ai,Cn[xn++]=bi,Cn[xn++]=cs,cs=t;var i=Ai;t=bi;var r=32-Hn(i)-1;i&=~(1<<r),n+=1;var o=32-Hn(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,Ai=1<<32-Hn(e)+r|n<<r|i,bi=o+t}else Ai=1<<o|n<<r|i,bi=t}function ym(t){t.return!==null&&(Hr(t,1),Cw(t,1,0))}function wm(t){for(;t===Oc;)Oc=to[--no],to[no]=null,Lc=to[--no],to[no]=null;for(;t===cs;)cs=Cn[--xn],Cn[xn]=null,bi=Cn[--xn],Cn[xn]=null,Ai=Cn[--xn],Cn[xn]=null}var vn=null,_n=null,Xe=!1,Un=null;function xw(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,_n=gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:Ai,overflow:bi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,_n=null,!0):!1;default:return!1}}function np(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ip(t){if(Xe){var e=_n;if(e){var n=e;if(!gv(t,e)){if(np(t))throw Error(G(418));e=gr(n.nextSibling);var i=vn;e&&gv(t,e)?xw(i,n):(t.flags=t.flags&-4097|2,Xe=!1,vn=t)}}else{if(np(t))throw Error(G(418));t.flags=t.flags&-4097|2,Xe=!1,vn=t}}}function _v(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function zu(t){if(t!==vn)return!1;if(!Xe)return _v(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=_n)){if(np(t))throw Rw(),Error(G(418));for(;e;)xw(t,e),e=gr(e.nextSibling)}if(_v(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=vn?gr(t.stateNode.nextSibling):null;return!0}function Rw(){for(var t=_n;t;)t=gr(t.nextSibling)}function To(){_n=vn=null,Xe=!1}function Em(t){Un===null?Un=[t]:Un.push(t)}var Rk=Hi.ReactCurrentBatchConfig;function zn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nc=Or(null),Dc=null,io=null,Tm=null;function Sm(){Tm=io=Dc=null}function Im(t){var e=Nc.current;Ke(Nc),t._currentValue=e}function rp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){Dc=t,Tm=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Tm!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(Dc===null)throw Error(G(308));io=t,Dc.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var Qr=null;function Pm(t){Qr===null?Qr=[t]:Qr.push(t)}function Aw(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Pm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Bi(t,i)}function Bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ze&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Bi(t,n)}return r=i.interleaved,r===null?(e.next=e,Pm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Bi(t,n)}function ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hm(t,n)}}function vv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mc(t,e,n,i){var r=t.updateQueue;ir=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var h=c,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;l=0,m=f=h=null,c=o;do{var E=c.lane,I=c.eventTime;if((i&E)===E){m!==null&&(m=m.next={eventTime:I,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var R=t,A=c;switch(E=e,I=n,A.tag){case 1:if(R=A.payload,typeof R=="function"){_=R.call(I,_,E);break e}_=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=A.payload,E=typeof R=="function"?R.call(I,_,E):R,E==null)break e;_=it({},_,E);break e;case 2:ir=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=r.effects,E===null?r.effects=[c]:E.push(c))}else I={eventTime:I,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(f=m=I,h=_):m=m.next=I,l|=E;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;E=c,c=E.next,E.next=null,r.lastBaseUpdate=E,r.shared.pending=null}}while(!0);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ds|=l,t.lanes=l,t.memoizedState=_}}function yv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(G(191,r));r.call(i)}}}var Ow=new A0.Component().refs;function sp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tn(),r=yr(t),o=Di(i,r);o.payload=e,n!=null&&(o.callback=n),e=_r(t,o,r),e!==null&&(qn(e,t,r,i),ac(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tn(),r=yr(t),o=Di(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_r(t,o,r),e!==null&&(qn(e,t,r,i),ac(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),i=yr(t),r=Di(n,i);r.tag=2,e!=null&&(r.callback=e),e=_r(t,r,i),e!==null&&(qn(e,t,i,n),ac(e,t,i))}};function wv(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!el(n,i)||!el(r,o):!0}function Lw(t,e,n){var i=!1,r=Pr,o=e.contextType;return typeof o=="object"&&o!==null?o=On(o):(r=cn(e)?us:Xt.current,i=e.contextTypes,o=(i=i!=null)?Eo(t,r):Pr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ev(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function op(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Ow,km(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=On(o):(o=cn(e)?us:Xt.current,r.context=Eo(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(sp(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ph.enqueueReplaceState(r,r.state,null),Mc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var i=n.stateNode}if(!i)throw Error(G(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var c=r.refs;c===Ow&&(c=r.refs={}),l===null?delete c[o]:c[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Bu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function Nw(t){function e(k,T){if(t){var x=k.deletions;x===null?(k.deletions=[T],k.flags|=16):x.push(T)}}function n(k,T){if(!t)return null;for(;T!==null;)e(k,T),T=T.sibling;return null}function i(k,T){for(k=new Map;T!==null;)T.key!==null?k.set(T.key,T):k.set(T.index,T),T=T.sibling;return k}function r(k,T){return k=wr(k,T),k.index=0,k.sibling=null,k}function o(k,T,x){return k.index=x,t?(x=k.alternate,x!==null?(x=x.index,x<T?(k.flags|=2,T):x):(k.flags|=2,T)):(k.flags|=1048576,T)}function l(k){return t&&k.alternate===null&&(k.flags|=2),k}function c(k,T,x,F){return T===null||T.tag!==6?(T=of(x,k.mode,F),T.return=k,T):(T=r(T,x),T.return=k,T)}function h(k,T,x,F){var Q=x.type;return Q===Ks?m(k,T,x.props.children,F,x.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===nr&&Tv(Q)===T.type)?(F=r(T,x.props),F.ref=ma(k,T,x),F.return=k,F):(F=fc(x.type,x.key,x.props,null,k.mode,F),F.ref=ma(k,T,x),F.return=k,F)}function f(k,T,x,F){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=af(x,k.mode,F),T.return=k,T):(T=r(T,x.children||[]),T.return=k,T)}function m(k,T,x,F,Q){return T===null||T.tag!==7?(T=rs(x,k.mode,F,Q),T.return=k,T):(T=r(T,x),T.return=k,T)}function _(k,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return T=of(""+T,k.mode,x),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ru:return x=fc(T.type,T.key,T.props,null,k.mode,x),x.ref=ma(k,null,T),x.return=k,x;case Zs:return T=af(T,k.mode,x),T.return=k,T;case nr:var F=T._init;return _(k,F(T._payload),x)}if(Sa(T)||ca(T))return T=rs(T,k.mode,x,null),T.return=k,T;Bu(k,T)}return null}function E(k,T,x,F){var Q=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return Q!==null?null:c(k,T,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ru:return x.key===Q?h(k,T,x,F):null;case Zs:return x.key===Q?f(k,T,x,F):null;case nr:return Q=x._init,E(k,T,Q(x._payload),F)}if(Sa(x)||ca(x))return Q!==null?null:m(k,T,x,F,null);Bu(k,x)}return null}function I(k,T,x,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(x)||null,c(T,k,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ru:return k=k.get(F.key===null?x:F.key)||null,h(T,k,F,Q);case Zs:return k=k.get(F.key===null?x:F.key)||null,f(T,k,F,Q);case nr:var J=F._init;return I(k,T,x,J(F._payload),Q)}if(Sa(F)||ca(F))return k=k.get(x)||null,m(T,k,F,Q,null);Bu(T,F)}return null}function R(k,T,x,F){for(var Q=null,J=null,ne=T,ae=T=0,be=null;ne!==null&&ae<x.length;ae++){ne.index>ae?(be=ne,ne=null):be=ne.sibling;var Ee=E(k,ne,x[ae],F);if(Ee===null){ne===null&&(ne=be);break}t&&ne&&Ee.alternate===null&&e(k,ne),T=o(Ee,T,ae),J===null?Q=Ee:J.sibling=Ee,J=Ee,ne=be}if(ae===x.length)return n(k,ne),Xe&&Hr(k,ae),Q;if(ne===null){for(;ae<x.length;ae++)ne=_(k,x[ae],F),ne!==null&&(T=o(ne,T,ae),J===null?Q=ne:J.sibling=ne,J=ne);return Xe&&Hr(k,ae),Q}for(ne=i(k,ne);ae<x.length;ae++)be=I(ne,k,ae,x[ae],F),be!==null&&(t&&be.alternate!==null&&ne.delete(be.key===null?ae:be.key),T=o(be,T,ae),J===null?Q=be:J.sibling=be,J=be);return t&&ne.forEach(function(je){return e(k,je)}),Xe&&Hr(k,ae),Q}function A(k,T,x,F){var Q=ca(x);if(typeof Q!="function")throw Error(G(150));if(x=Q.call(x),x==null)throw Error(G(151));for(var J=Q=null,ne=T,ae=T=0,be=null,Ee=x.next();ne!==null&&!Ee.done;ae++,Ee=x.next()){ne.index>ae?(be=ne,ne=null):be=ne.sibling;var je=E(k,ne,Ee.value,F);if(je===null){ne===null&&(ne=be);break}t&&ne&&je.alternate===null&&e(k,ne),T=o(je,T,ae),J===null?Q=je:J.sibling=je,J=je,ne=be}if(Ee.done)return n(k,ne),Xe&&Hr(k,ae),Q;if(ne===null){for(;!Ee.done;ae++,Ee=x.next())Ee=_(k,Ee.value,F),Ee!==null&&(T=o(Ee,T,ae),J===null?Q=Ee:J.sibling=Ee,J=Ee);return Xe&&Hr(k,ae),Q}for(ne=i(k,ne);!Ee.done;ae++,Ee=x.next())Ee=I(ne,k,ae,Ee.value,F),Ee!==null&&(t&&Ee.alternate!==null&&ne.delete(Ee.key===null?ae:Ee.key),T=o(Ee,T,ae),J===null?Q=Ee:J.sibling=Ee,J=Ee);return t&&ne.forEach(function(ut){return e(k,ut)}),Xe&&Hr(k,ae),Q}function D(k,T,x,F){if(typeof x=="object"&&x!==null&&x.type===Ks&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ru:e:{for(var Q=x.key,J=T;J!==null;){if(J.key===Q){if(Q=x.type,Q===Ks){if(J.tag===7){n(k,J.sibling),T=r(J,x.props.children),T.return=k,k=T;break e}}else if(J.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===nr&&Tv(Q)===J.type){n(k,J.sibling),T=r(J,x.props),T.ref=ma(k,J,x),T.return=k,k=T;break e}n(k,J);break}else e(k,J);J=J.sibling}x.type===Ks?(T=rs(x.props.children,k.mode,F,x.key),T.return=k,k=T):(F=fc(x.type,x.key,x.props,null,k.mode,F),F.ref=ma(k,T,x),F.return=k,k=F)}return l(k);case Zs:e:{for(J=x.key;T!==null;){if(T.key===J)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){n(k,T.sibling),T=r(T,x.children||[]),T.return=k,k=T;break e}else{n(k,T);break}else e(k,T);T=T.sibling}T=af(x,k.mode,F),T.return=k,k=T}return l(k);case nr:return J=x._init,D(k,T,J(x._payload),F)}if(Sa(x))return R(k,T,x,F);if(ca(x))return A(k,T,x,F);Bu(k,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,T!==null&&T.tag===6?(n(k,T.sibling),T=r(T,x),T.return=k,k=T):(n(k,T),T=of(x,k.mode,F),T.return=k,k=T),l(k)):n(k,T)}return D}var So=Nw(!0),Dw=Nw(!1),Dl={},ui=Or(Dl),rl=Or(Dl),sl=Or(Dl);function Xr(t){if(t===Dl)throw Error(G(174));return t}function Cm(t,e){switch(qe(sl,e),qe(rl,t),qe(ui,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ff(e,t)}Ke(ui),qe(ui,e)}function Io(){Ke(ui),Ke(rl),Ke(sl)}function Mw(t){Xr(sl.current);var e=Xr(ui.current),n=Ff(e,t.type);e!==n&&(qe(rl,t),qe(ui,n))}function xm(t){rl.current===t&&(Ke(ui),Ke(rl))}var tt=Or(0);function Vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jd=[];function Rm(){for(var t=0;t<Jd.length;t++)Jd[t]._workInProgressVersionPrimary=null;Jd.length=0}var lc=Hi.ReactCurrentDispatcher,ef=Hi.ReactCurrentBatchConfig,hs=0,nt=null,yt=null,It=null,Fc=!1,Ma=!1,ol=0,Ak=0;function jt(){throw Error(G(321))}function Am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function bm(t,e,n,i,r,o){if(hs=o,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lc.current=t===null||t.memoizedState===null?Nk:Dk,t=n(i,r),Ma){o=0;do{if(Ma=!1,ol=0,25<=o)throw Error(G(301));o+=1,It=yt=null,e.updateQueue=null,lc.current=Mk,t=n(i,r)}while(Ma)}if(lc.current=zc,e=yt!==null&&yt.next!==null,hs=0,It=yt=nt=null,Fc=!1,e)throw Error(G(300));return t}function Om(){var t=ol!==0;return ol=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?nt.memoizedState=It=t:It=It.next=t,It}function Ln(){if(yt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=It===null?nt.memoizedState:It.next;if(e!==null)It=e,yt=t;else{if(t===null)throw Error(G(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?nt.memoizedState=It=t:It=It.next=t}return It}function al(t,e){return typeof e=="function"?e(t):e}function tf(t){var e=Ln(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var i=yt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var c=l=null,h=null,f=o;do{var m=f.lane;if((hs&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=_,l=i):h=h.next=_,nt.lanes|=m,ds|=m}f=f.next}while(f!==null&&f!==o);h===null?l=i:h.next=c,Gn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,nt.lanes|=o,ds|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nf(t){var e=Ln(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);Gn(o,e.memoizedState)||(ln=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Vw(){}function Fw(t,e){var n=nt,i=Ln(),r=e(),o=!Gn(i.memoizedState,r);if(o&&(i.memoizedState=r,ln=!0),i=i.queue,Lm(Uw.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,ll(9,Bw.bind(null,n,i,r,e),void 0,null),kt===null)throw Error(G(349));hs&30||zw(n,e,r)}return r}function zw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bw(t,e,n,i){e.value=n,e.getSnapshot=i,jw(e)&&$w(t)}function Uw(t,e,n){return n(function(){jw(e)&&$w(t)})}function jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function $w(t){var e=Bi(t,1);e!==null&&qn(e,t,1,-1)}function Sv(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=Lk.bind(null,nt,t),[e.memoizedState,t]}function ll(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Ww(){return Ln().memoizedState}function uc(t,e,n,i){var r=ii();nt.flags|=t,r.memoizedState=ll(1|e,n,void 0,i===void 0?null:i)}function kh(t,e,n,i){var r=Ln();i=i===void 0?null:i;var o=void 0;if(yt!==null){var l=yt.memoizedState;if(o=l.destroy,i!==null&&Am(i,l.deps)){r.memoizedState=ll(e,n,o,i);return}}nt.flags|=t,r.memoizedState=ll(1|e,n,o,i)}function Iv(t,e){return uc(8390656,8,t,e)}function Lm(t,e){return kh(2048,8,t,e)}function Hw(t,e){return kh(4,2,t,e)}function qw(t,e){return kh(4,4,t,e)}function Gw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zw(t,e,n){return n=n!=null?n.concat([t]):null,kh(4,4,Gw.bind(null,e,t),n)}function Nm(){}function Kw(t,e){var n=Ln();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Am(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Qw(t,e){var n=Ln();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Am(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Xw(t,e,n){return hs&21?(Gn(n,e)||(n=ew(),nt.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function bk(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var i=ef.transition;ef.transition={};try{t(!1),e()}finally{Be=n,ef.transition=i}}function Yw(){return Ln().memoizedState}function Ok(t,e,n){var i=yr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Jw(t))eE(e,n);else if(n=Aw(t,e,n,i),n!==null){var r=tn();qn(n,t,i,r),tE(n,e,i)}}function Lk(t,e,n){var i=yr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jw(t))eE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(r.hasEagerState=!0,r.eagerState=c,Gn(c,l)){var h=e.interleaved;h===null?(r.next=r,Pm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=Aw(t,e,r,i),n!==null&&(r=tn(),qn(n,t,i,r),tE(n,e,i))}}function Jw(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function eE(t,e){Ma=Fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hm(t,n)}}var zc={readContext:On,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Nk={readContext:On,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Iv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,Gw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=ii();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ii();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ok.bind(null,nt,t),[i.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:Nm,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=bk.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=nt,r=ii();if(Xe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),kt===null)throw Error(G(349));hs&30||zw(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Iv(Uw.bind(null,i,o,t),[t]),i.flags|=2048,ll(9,Bw.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ii(),e=kt.identifierPrefix;if(Xe){var n=bi,i=Ai;n=(i&~(1<<32-Hn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ak++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dk={readContext:On,useCallback:Kw,useContext:On,useEffect:Lm,useImperativeHandle:Zw,useInsertionEffect:Hw,useLayoutEffect:qw,useMemo:Qw,useReducer:tf,useRef:Ww,useState:function(){return tf(al)},useDebugValue:Nm,useDeferredValue:function(t){var e=Ln();return Xw(e,yt.memoizedState,t)},useTransition:function(){var t=tf(al)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:Vw,useSyncExternalStore:Fw,useId:Yw,unstable_isNewReconciler:!1},Mk={readContext:On,useCallback:Kw,useContext:On,useEffect:Lm,useImperativeHandle:Zw,useInsertionEffect:Hw,useLayoutEffect:qw,useMemo:Qw,useReducer:nf,useRef:Ww,useState:function(){return nf(al)},useDebugValue:Nm,useDeferredValue:function(t){var e=Ln();return yt===null?e.memoizedState=t:Xw(e,yt.memoizedState,t)},useTransition:function(){var t=nf(al)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:Vw,useSyncExternalStore:Fw,useId:Yw,unstable_isNewReconciler:!1};function Po(t,e){try{var n="",i=e;do n+=cP(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function rf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vk=typeof WeakMap=="function"?WeakMap:Map;function nE(t,e,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Uc||(Uc=!0,_p=i),ap(t,e)},n}function iE(t,e,n){n=Di(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ap(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ap(t,e),typeof i!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Pv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Vk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Xk.bind(null,t,e,n),e.then(t,t))}function kv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Di(-1,1),e.tag=2,_r(n,e,1))),n.lanes|=1),t)}var Fk=Hi.ReactCurrentOwner,ln=!1;function Jt(t,e,n,i){e.child=t===null?Dw(e,null,n,i):So(e,t.child,n,i)}function xv(t,e,n,i,r){n=n.render;var o=e.ref;return fo(e,r),i=bm(t,e,n,i,o,r),n=Om(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ui(t,e,r)):(Xe&&n&&ym(e),e.flags|=1,Jt(t,e,i,r),e.child)}function Rv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!jm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rE(t,e,o,i,r)):(t=fc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(l,i)&&t.ref===e.ref)return Ui(t,e,r)}return e.flags|=1,t=wr(o,i),t.ref=e.ref,t.return=e,e.child=t}function rE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(el(o,i)&&t.ref===e.ref)if(ln=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Ui(t,e,r)}return lp(t,e,n,i,r)}function sE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(so,gn),gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(so,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,qe(so,gn),gn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,qe(so,gn),gn|=i;return Jt(t,e,r,n),e.child}function oE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lp(t,e,n,i,r){var o=cn(n)?us:Xt.current;return o=Eo(e,o),fo(e,r),n=bm(t,e,n,i,o,r),i=Om(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ui(t,e,r)):(Xe&&i&&ym(e),e.flags|=1,Jt(t,e,n,r),e.child)}function Av(t,e,n,i,r){if(cn(n)){var o=!0;bc(e)}else o=!1;if(fo(e,r),e.stateNode===null)cc(t,e),Lw(e,n,i),op(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=On(f):(f=cn(n)?us:Xt.current,f=Eo(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||h!==f)&&Ev(e,l,i,f),ir=!1;var E=e.memoizedState;l.state=E,Mc(e,i,l,r),h=e.memoizedState,c!==i||E!==h||un.current||ir?(typeof m=="function"&&(sp(e,n,m,i),h=e.memoizedState),(c=ir||wv(e,n,c,i,E,h,f))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,bw(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:zn(e.type,c),l.props=f,_=e.pendingProps,E=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=On(h):(h=cn(n)?us:Xt.current,h=Eo(e,h));var I=n.getDerivedStateFromProps;(m=typeof I=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==_||E!==h)&&Ev(e,l,i,h),ir=!1,E=e.memoizedState,l.state=E,Mc(e,i,l,r);var R=e.memoizedState;c!==_||E!==R||un.current||ir?(typeof I=="function"&&(sp(e,n,I,i),R=e.memoizedState),(f=ir||wv(e,n,f,i,E,R,h)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,R,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,R,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=R),l.props=i,l.state=R,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),i=!1)}return up(t,e,n,i,o,r)}function up(t,e,n,i,r,o){oE(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&mv(e,n,!1),Ui(t,e,o);i=e.stateNode,Fk.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=So(e,t.child,null,o),e.child=So(e,null,c,o)):Jt(t,e,c,o),e.memoizedState=i.state,r&&mv(e,n,!0),e.child}function aE(t){var e=t.stateNode;e.pendingContext?pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pv(t,e.context,!1),Cm(t,e.containerInfo)}function bv(t,e,n,i,r){return To(),Em(r),e.flags|=256,Jt(t,e,n,i),e.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function lE(t,e,n){var i=e.pendingProps,r=tt.current,o=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(r&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qe(tt,r&1),t===null)return ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Rh(l,i,0,null),t=rs(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hp(n),e.memoizedState=cp,t):Dm(e,l));if(r=t.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return zk(t,e,l,i,c,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,c=r.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=wr(r,h),i.subtreeFlags=r.subtreeFlags&14680064),c!==null?o=wr(c,o):(o=rs(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?hp(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=cp,i}return o=t.child,t=o.sibling,i=wr(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Dm(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,i){return i!==null&&Em(i),So(e,t.child,null,n),t=Dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zk(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=rf(Error(G(422))),Uu(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Rh({mode:"visible",children:i.children},r,0,null),o=rs(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&So(e,t.child,null,l),e.child.memoizedState=hp(l),e.memoizedState=cp,o);if(!(e.mode&1))return Uu(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(G(419)),i=rf(o,i,void 0),Uu(t,e,l,i)}if(c=(l&t.childLanes)!==0,ln||c){if(i=kt,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Bi(t,r),qn(i,t,r,-1))}return Um(),i=rf(Error(G(421))),Uu(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Yk.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,_n=gr(r.nextSibling),vn=e,Xe=!0,Un=null,t!==null&&(Cn[xn++]=Ai,Cn[xn++]=bi,Cn[xn++]=cs,Ai=t.id,bi=t.overflow,cs=e),e=Dm(e,i.children),e.flags|=4096,e)}function Ov(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),rp(t.return,e,n)}function sf(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function uE(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Jt(t,e,i.children,n),i=tt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ov(t,n,e);else if(t.tag===19)Ov(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(qe(tt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),sf(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}sf(e,!0,n,null,o);break;case"together":sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bk(t,e,n){switch(e.tag){case 3:aE(e),To();break;case 5:Mw(e);break;case 1:cn(e.type)&&bc(e);break;case 4:Cm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;qe(Nc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(qe(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?lE(t,e,n):(qe(tt,tt.current&1),t=Ui(t,e,n),t!==null?t.sibling:null);qe(tt,tt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return uE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qe(tt,tt.current),i)break;return null;case 22:case 23:return e.lanes=0,sE(t,e,n)}return Ui(t,e,n)}var cE,dp,hE,dE;cE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dp=function(){};hE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Xr(ui.current);var o=null;switch(n){case"input":r=Nf(t,r),i=Nf(t,i),o=[];break;case"select":r=it({},r,{value:void 0}),i=it({},i,{value:void 0}),o=[];break;case"textarea":r=Vf(t,r),i=Vf(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Rc)}zf(n,i);var l;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var c=r[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ga.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(c=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ge("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};dE=function(t,e,n,i){n!==i&&(e.flags|=4)};function ga(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Uk(t,e,n){var i=e.pendingProps;switch(wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return cn(e.type)&&Ac(),$t(e),null;case 3:return i=e.stateNode,Io(),Ke(un),Ke(Xt),Rm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(wp(Un),Un=null))),dp(t,e),$t(e),null;case 5:xm(e);var r=Xr(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)hE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(G(166));return $t(e),null}if(t=Xr(ui.current),zu(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ri]=e,i[il]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(r=0;r<Pa.length;r++)Ge(Pa[r],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":U_(i,o),Ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",i);break;case"textarea":$_(i,o),Ge("invalid",i)}zf(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&Fu(i.textContent,c,t),r=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Fu(i.textContent,c,t),r=["children",""+c]):Ga.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Ge("scroll",i)}switch(n){case"input":Au(i),j_(i,o,!0);break;case"textarea":Au(i),W_(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Rc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[ri]=e,t[il]=i,cE(t,e,!1,!1),e.stateNode=t;e:{switch(l=Bf(n,i),n){case"dialog":Ge("cancel",t),Ge("close",t),r=i;break;case"iframe":case"object":case"embed":Ge("load",t),r=i;break;case"video":case"audio":for(r=0;r<Pa.length;r++)Ge(Pa[r],t);r=i;break;case"source":Ge("error",t),r=i;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),r=i;break;case"details":Ge("toggle",t),r=i;break;case"input":U_(t,i),r=Nf(t,i),Ge("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=it({},i,{value:void 0}),Ge("invalid",t);break;case"textarea":$_(t,i),r=Vf(t,i),Ge("invalid",t);break;default:r=i}zf(n,r),c=r;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?j0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&B0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Za(t,h):typeof h=="number"&&Za(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ga.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Ge("scroll",t):h!=null&&sm(t,o,h,l))}switch(n){case"input":Au(t),j_(t,i,!1);break;case"textarea":Au(t),W_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ir(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?lo(t,!!i.multiple,o,!1):i.defaultValue!=null&&lo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Rc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)dE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(G(166));if(n=Xr(sl.current),Xr(ui.current),zu(e)){if(i=e.stateNode,n=e.memoizedProps,i[ri]=e,(o=i.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:Fu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fu(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ri]=e,e.stateNode=i}return $t(e),null;case 13:if(Ke(tt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&_n!==null&&e.mode&1&&!(e.flags&128))Rw(),To(),e.flags|=98560,o=!1;else if(o=zu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(G(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[ri]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),o=!1}else Un!==null&&(wp(Un),Un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?wt===0&&(wt=3):Um())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Io(),dp(t,e),t===null&&tl(e.stateNode.containerInfo),$t(e),null;case 10:return Im(e.type._context),$t(e),null;case 17:return cn(e.type)&&Ac(),$t(e),null;case 19:if(Ke(tt),o=e.memoizedState,o===null)return $t(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)ga(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Vc(t),l!==null){for(e.flags|=128,ga(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(tt,tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>ko&&(e.flags|=128,i=!0,ga(o,!1),e.lanes=4194304)}else{if(!i)if(t=Vc(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Xe)return $t(e),null}else 2*lt()-o.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,i=!0,ga(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=tt.current,qe(tt,i?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Bm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?gn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function jk(t,e){switch(wm(e),e.tag){case 1:return cn(e.type)&&Ac(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Ke(un),Ke(Xt),Rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xm(e),null;case 13:if(Ke(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(tt),null;case 4:return Io(),null;case 10:return Im(e.type._context),null;case 22:case 23:return Bm(),null;case 24:return null;default:return null}}var ju=!1,qt=!1,$k=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){st(t,e,i)}else n.current=null}function fp(t,e,n){try{n()}catch(i){st(t,e,i)}}var Lv=!1;function Wk(t,e){if(Qf=kc,t=gw(),vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,f=0,m=0,_=t,E=null;t:for(;;){for(var I;_!==n||r!==0&&_.nodeType!==3||(c=l+r),_!==o||i!==0&&_.nodeType!==3||(h=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(I=_.firstChild)!==null;)E=_,_=I;for(;;){if(_===t)break t;if(E===n&&++f===r&&(c=l),E===o&&++m===i&&(h=l),(I=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=I}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:t,selectionRange:n},kc=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var A=R.memoizedProps,D=R.memoizedState,k=e.stateNode,T=k.getSnapshotBeforeUpdate(e.elementType===e.type?A:zn(e.type,A),D);k.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(F){st(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return R=Lv,Lv=!1,R}function Va(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&fp(e,n,o)}r=r.next}while(r!==i)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fE(t){var e=t.alternate;e!==null&&(t.alternate=null,fE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[il],delete e[ep],delete e[kk],delete e[Ck])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pE(t){return t.tag===5||t.tag===3||t.tag===4}function Nv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rc));else if(i!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}function gp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}var Lt=null,Bn=!1;function er(t,e,n){for(n=n.child;n!==null;)mE(t,e,n),n=n.sibling}function mE(t,e,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(yh,n)}catch{}switch(n.tag){case 5:qt||ro(n,e);case 6:var i=Lt,r=Bn;Lt=null,er(t,e,n),Lt=i,Bn=r,Lt!==null&&(Bn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Bn?(t=Lt,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),Ya(t)):Xd(Lt,n.stateNode));break;case 4:i=Lt,r=Bn,Lt=n.stateNode.containerInfo,Bn=!0,er(t,e,n),Lt=i,Bn=r;break;case 0:case 11:case 14:case 15:if(!qt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&fp(n,e,l),r=r.next}while(r!==i)}er(t,e,n);break;case 1:if(!qt&&(ro(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){st(n,e,c)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(qt=(i=qt)||n.memoizedState!==null,er(t,e,n),qt=i):er(t,e,n);break;default:er(t,e,n)}}function Dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $k),e.forEach(function(i){var r=Jk.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:Lt=c.stateNode,Bn=!1;break e;case 3:Lt=c.stateNode.containerInfo,Bn=!0;break e;case 4:Lt=c.stateNode.containerInfo,Bn=!0;break e}c=c.return}if(Lt===null)throw Error(G(160));mE(o,l,r),Lt=null,Bn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){st(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gE(e,t),e=e.sibling}function gE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),ni(t),i&4){try{Va(3,t,t.return),Ch(3,t)}catch(A){st(t,t.return,A)}try{Va(5,t,t.return)}catch(A){st(t,t.return,A)}}break;case 1:Fn(e,t),ni(t),i&512&&n!==null&&ro(n,n.return);break;case 5:if(Fn(e,t),ni(t),i&512&&n!==null&&ro(n,n.return),t.flags&32){var r=t.stateNode;try{Za(r,"")}catch(A){st(t,t.return,A)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&V0(r,o),Bf(c,l);var f=Bf(c,o);for(l=0;l<h.length;l+=2){var m=h[l],_=h[l+1];m==="style"?j0(r,_):m==="dangerouslySetInnerHTML"?B0(r,_):m==="children"?Za(r,_):sm(r,m,_,f)}switch(c){case"input":Df(r,o);break;case"textarea":F0(r,o);break;case"select":var E=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var I=o.value;I!=null?lo(r,!!o.multiple,I,!1):E!==!!o.multiple&&(o.defaultValue!=null?lo(r,!!o.multiple,o.defaultValue,!0):lo(r,!!o.multiple,o.multiple?[]:"",!1))}r[il]=o}catch(A){st(t,t.return,A)}}break;case 6:if(Fn(e,t),ni(t),i&4){if(t.stateNode===null)throw Error(G(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(A){st(t,t.return,A)}}break;case 3:if(Fn(e,t),ni(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(A){st(t,t.return,A)}break;case 4:Fn(e,t),ni(t);break;case 13:Fn(e,t),ni(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Fm=lt())),i&4&&Dv(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(f=qt)||m,Fn(e,t),qt=f):Fn(e,t),ni(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(oe=t,m=t.child;m!==null;){for(_=oe=m;oe!==null;){switch(E=oe,I=E.child,E.tag){case 0:case 11:case 14:case 15:Va(4,E,E.return);break;case 1:ro(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){i=E,n=E.return;try{e=i,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(A){st(i,n,A)}}break;case 5:ro(E,E.return);break;case 22:if(E.memoizedState!==null){Vv(_);continue}}I!==null?(I.return=E,oe=I):Vv(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=U0("display",l))}catch(A){st(t,t.return,A)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(A){st(t,t.return,A)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Fn(e,t),ni(t),i&4&&Dv(t);break;case 21:break;default:Fn(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pE(n)){var i=n;break e}n=n.return}throw Error(G(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Za(r,""),i.flags&=-33);var o=Nv(t);gp(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,c=Nv(t);mp(t,c,l);break;default:throw Error(G(161))}}catch(h){st(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hk(t,e,n){oe=t,_E(t)}function _E(t,e,n){for(var i=(t.mode&1)!==0;oe!==null;){var r=oe,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||ju;if(!l){var c=r.alternate,h=c!==null&&c.memoizedState!==null||qt;c=ju;var f=qt;if(ju=l,(qt=h)&&!f)for(oe=r;oe!==null;)l=oe,h=l.child,l.tag===22&&l.memoizedState!==null?Fv(r):h!==null?(h.return=l,oe=h):Fv(r);for(;o!==null;)oe=o,_E(o),o=o.sibling;oe=r,ju=c,qt=f}Mv(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,oe=o):Mv(t)}}function Mv(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Ch(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!qt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yv(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yv(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Ya(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}qt||e.flags&512&&pp(e)}catch(E){st(e,e.return,E)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Vv(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Fv(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(h){st(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){st(e,r,h)}}var o=e.return;try{pp(e)}catch(h){st(e,o,h)}break;case 5:var l=e.return;try{pp(e)}catch(h){st(e,l,h)}}}catch(h){st(e,e.return,h)}if(e===t){oe=null;break}var c=e.sibling;if(c!==null){c.return=e.return,oe=c;break}oe=e.return}}var qk=Math.ceil,Bc=Hi.ReactCurrentDispatcher,Mm=Hi.ReactCurrentOwner,bn=Hi.ReactCurrentBatchConfig,ze=0,kt=null,pt=null,Ft=0,gn=0,so=Or(0),wt=0,ul=null,ds=0,xh=0,Vm=0,Fa=null,an=null,Fm=0,ko=1/0,xi=null,Uc=!1,_p=null,vr=null,$u=!1,hr=null,jc=0,za=0,vp=null,hc=-1,dc=0;function tn(){return ze&6?lt():hc!==-1?hc:hc=lt()}function yr(t){return t.mode&1?ze&2&&Ft!==0?Ft&-Ft:Rk.transition!==null?(dc===0&&(dc=ew()),dc):(t=Be,t!==0||(t=window.event,t=t===void 0?16:aw(t.type)),t):1}function qn(t,e,n,i){if(50<za)throw za=0,vp=null,Error(G(185));Ol(t,n,i),(!(ze&2)||t!==kt)&&(t===kt&&(!(ze&2)&&(xh|=n),wt===4&&sr(t,Ft)),hn(t,i),n===1&&ze===0&&!(e.mode&1)&&(ko=lt()+500,Ih&&Lr()))}function hn(t,e){var n=t.callbackNode;RP(t,e);var i=Pc(t,t===kt?Ft:0);if(i===0)n!==null&&G_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&G_(n),e===1)t.tag===0?xk(zv.bind(null,t)):kw(zv.bind(null,t)),Ik(function(){!(ze&6)&&Lr()}),n=null;else{switch(tw(i)){case 1:n=cm;break;case 4:n=Y0;break;case 16:n=Ic;break;case 536870912:n=J0;break;default:n=Ic}n=PE(n,vE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vE(t,e){if(hc=-1,dc=0,ze&6)throw Error(G(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var i=Pc(t,t===kt?Ft:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=$c(t,i);else{e=i;var r=ze;ze|=2;var o=wE();(kt!==t||Ft!==e)&&(xi=null,ko=lt()+500,is(t,e));do try{Kk();break}catch(c){yE(t,c)}while(!0);Sm(),Bc.current=o,ze=r,pt!==null?e=0:(kt=null,Ft=0,e=wt)}if(e!==0){if(e===2&&(r=Hf(t),r!==0&&(i=r,e=yp(t,r))),e===1)throw n=ul,is(t,0),sr(t,i),hn(t,lt()),n;if(e===6)sr(t,i);else{if(r=t.current.alternate,!(i&30)&&!Gk(r)&&(e=$c(t,i),e===2&&(o=Hf(t),o!==0&&(i=o,e=yp(t,o))),e===1))throw n=ul,is(t,0),sr(t,i),hn(t,lt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(G(345));case 2:qr(t,an,xi);break;case 3:if(sr(t,i),(i&130023424)===i&&(e=Fm+500-lt(),10<e)){if(Pc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){tn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Jf(qr.bind(null,t,an,xi),e);break}qr(t,an,xi);break;case 4:if(sr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-Hn(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=lt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qk(i/1960))-i,10<i){t.timeoutHandle=Jf(qr.bind(null,t,an,xi),i);break}qr(t,an,xi);break;case 5:qr(t,an,xi);break;default:throw Error(G(329))}}}return hn(t,lt()),t.callbackNode===n?vE.bind(null,t):null}function yp(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=$c(t,e),t!==2&&(e=an,an=n,e!==null&&wp(e)),t}function wp(t){an===null?an=t:an.push.apply(an,t)}function Gk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Gn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~Vm,e&=~xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),i=1<<n;t[n]=-1,e&=~i}}function zv(t){if(ze&6)throw Error(G(327));po();var e=Pc(t,0);if(!(e&1))return hn(t,lt()),null;var n=$c(t,e);if(t.tag!==0&&n===2){var i=Hf(t);i!==0&&(e=i,n=yp(t,i))}if(n===1)throw n=ul,is(t,0),sr(t,e),hn(t,lt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,an,xi),hn(t,lt()),null}function zm(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(ko=lt()+500,Ih&&Lr())}}function fs(t){hr!==null&&hr.tag===0&&!(ze&6)&&po();var e=ze;ze|=1;var n=bn.transition,i=Be;try{if(bn.transition=null,Be=1,t)return t()}finally{Be=i,bn.transition=n,ze=e,!(ze&6)&&Lr()}}function Bm(){gn=so.current,Ke(so)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sk(n)),pt!==null)for(n=pt.return;n!==null;){var i=n;switch(wm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ac();break;case 3:Io(),Ke(un),Ke(Xt),Rm();break;case 5:xm(i);break;case 4:Io();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:Im(i.type._context);break;case 22:case 23:Bm()}n=n.return}if(kt=t,pt=t=wr(t.current,null),Ft=gn=e,wt=0,ul=null,Vm=xh=ds=0,an=Fa=null,Qr!==null){for(e=0;e<Qr.length;e++)if(n=Qr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}Qr=null}return t}function yE(t,e){do{var n=pt;try{if(Sm(),lc.current=zc,Fc){for(var i=nt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fc=!1}if(hs=0,It=yt=nt=null,Ma=!1,ol=0,Mm.current=null,n===null||n.return===null){wt=1,ul=e,pt=null;break}e:{var o=t,l=n.return,c=n,h=e;if(e=Ft,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=c,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var E=m.alternate;E?(m.updateQueue=E.updateQueue,m.memoizedState=E.memoizedState,m.lanes=E.lanes):(m.updateQueue=null,m.memoizedState=null)}var I=kv(l);if(I!==null){I.flags&=-257,Cv(I,l,c,o,e),I.mode&1&&Pv(o,f,e),e=I,h=f;var R=e.updateQueue;if(R===null){var A=new Set;A.add(h),e.updateQueue=A}else R.add(h);break e}else{if(!(e&1)){Pv(o,f,e),Um();break e}h=Error(G(426))}}else if(Xe&&c.mode&1){var D=kv(l);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Cv(D,l,c,o,e),Em(Po(h,c));break e}}o=h=Po(h,c),wt!==4&&(wt=2),Fa===null?Fa=[o]:Fa.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var k=nE(o,h,e);vv(o,k);break e;case 1:c=h;var T=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vr===null||!vr.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var F=iE(o,c,e);vv(o,F);break e}}o=o.return}while(o!==null)}TE(n)}catch(Q){e=Q,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function wE(){var t=Bc.current;return Bc.current=zc,t===null?zc:t}function Um(){(wt===0||wt===3||wt===2)&&(wt=4),kt===null||!(ds&268435455)&&!(xh&268435455)||sr(kt,Ft)}function $c(t,e){var n=ze;ze|=2;var i=wE();(kt!==t||Ft!==e)&&(xi=null,is(t,e));do try{Zk();break}catch(r){yE(t,r)}while(!0);if(Sm(),ze=n,Bc.current=i,pt!==null)throw Error(G(261));return kt=null,Ft=0,wt}function Zk(){for(;pt!==null;)EE(pt)}function Kk(){for(;pt!==null&&!wP();)EE(pt)}function EE(t){var e=IE(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?TE(t):pt=e,Mm.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jk(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,pt=null;return}}else if(n=Uk(n,e,gn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);wt===0&&(wt=5)}function qr(t,e,n){var i=Be,r=bn.transition;try{bn.transition=null,Be=1,Qk(t,e,n,i)}finally{bn.transition=r,Be=i}return null}function Qk(t,e,n,i){do po();while(hr!==null);if(ze&6)throw Error(G(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(AP(t,o),t===kt&&(pt=kt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,PE(Ic,function(){return po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bn.transition,bn.transition=null;var l=Be;Be=1;var c=ze;ze|=4,Mm.current=null,Wk(t,n),gE(n,t),gk(Xf),kc=!!Qf,Xf=Qf=null,t.current=n,Hk(n),EP(),ze=c,Be=l,bn.transition=o}else t.current=n;if($u&&($u=!1,hr=t,jc=r),o=t.pendingLanes,o===0&&(vr=null),IP(n.stateNode),hn(t,lt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Uc)throw Uc=!1,t=_p,_p=null,t;return jc&1&&t.tag!==0&&po(),o=t.pendingLanes,o&1?t===vp?za++:(za=0,vp=t):za=0,Lr(),null}function po(){if(hr!==null){var t=tw(jc),e=bn.transition,n=Be;try{if(bn.transition=null,Be=16>t?16:t,hr===null)var i=!1;else{if(t=hr,hr=null,jc=0,ze&6)throw Error(G(331));var r=ze;for(ze|=4,oe=t.current;oe!==null;){var o=oe,l=o.child;if(oe.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(oe=f;oe!==null;){var m=oe;switch(m.tag){case 0:case 11:case 15:Va(8,m,o)}var _=m.child;if(_!==null)_.return=m,oe=_;else for(;oe!==null;){m=oe;var E=m.sibling,I=m.return;if(fE(m),m===f){oe=null;break}if(E!==null){E.return=I,oe=E;break}oe=I}}}var R=o.alternate;if(R!==null){var A=R.child;if(A!==null){R.child=null;do{var D=A.sibling;A.sibling=null,A=D}while(A!==null)}}oe=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,oe=l;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Va(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,oe=k;break e}oe=o.return}}var T=t.current;for(oe=T;oe!==null;){l=oe;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,oe=x;else e:for(l=T;oe!==null;){if(c=oe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ch(9,c)}}catch(Q){st(c,c.return,Q)}if(c===l){oe=null;break e}var F=c.sibling;if(F!==null){F.return=c.return,oe=F;break e}oe=c.return}}if(ze=r,Lr(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(yh,t)}catch{}i=!0}return i}finally{Be=n,bn.transition=e}}return!1}function Bv(t,e,n){e=Po(n,e),e=nE(t,e,1),t=_r(t,e,1),e=tn(),t!==null&&(Ol(t,1,e),hn(t,e))}function st(t,e,n){if(t.tag===3)Bv(t,t,n);else for(;e!==null;){if(e.tag===3){Bv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(vr===null||!vr.has(i))){t=Po(n,t),t=iE(e,t,1),e=_r(e,t,1),t=tn(),e!==null&&(Ol(e,1,t),hn(e,t));break}}e=e.return}}function Xk(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Ft&n)===n&&(wt===4||wt===3&&(Ft&130023424)===Ft&&500>lt()-Fm?is(t,0):Vm|=n),hn(t,e)}function SE(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=tn();t=Bi(t,e),t!==null&&(Ol(t,e,n),hn(t,n))}function Yk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SE(t,n)}function Jk(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(G(314))}i!==null&&i.delete(e),SE(t,n)}var IE;IE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,Bk(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Xe&&e.flags&1048576&&Cw(e,Lc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;cc(t,e),t=e.pendingProps;var r=Eo(e,Xt.current);fo(e,n),r=bm(null,e,i,t,r,n);var o=Om();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(i)?(o=!0,bc(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,km(e),r.updater=Ph,e.stateNode=r,r._reactInternals=e,op(e,i,t,n),e=up(null,e,i,!0,o,n)):(e.tag=0,Xe&&o&&ym(e),Jt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(cc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=tC(i),t=zn(i,t),r){case 0:e=lp(null,e,i,t,n);break e;case 1:e=Av(null,e,i,t,n);break e;case 11:e=xv(null,e,i,t,n);break e;case 14:e=Rv(null,e,i,zn(i.type,t),n);break e}throw Error(G(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:zn(i,r),lp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:zn(i,r),Av(t,e,i,r,n);case 3:e:{if(aE(e),t===null)throw Error(G(387));i=e.pendingProps,o=e.memoizedState,r=o.element,bw(t,e),Mc(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Po(Error(G(423)),e),e=bv(t,e,i,n,r);break e}else if(i!==r){r=Po(Error(G(424)),e),e=bv(t,e,i,n,r);break e}else for(_n=gr(e.stateNode.containerInfo.firstChild),vn=e,Xe=!0,Un=null,n=Dw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),i===r){e=Ui(t,e,n);break e}Jt(t,e,i,n)}e=e.child}return e;case 5:return Mw(e),t===null&&ip(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,Yf(i,r)?l=null:o!==null&&Yf(i,o)&&(e.flags|=32),oE(t,e),Jt(t,e,l,n),e.child;case 6:return t===null&&ip(e),null;case 13:return lE(t,e,n);case 4:return Cm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=So(e,null,i,n):Jt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:zn(i,r),xv(t,e,i,r,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,qe(Nc,i._currentValue),i._currentValue=l,o!==null)if(Gn(o.value,l)){if(o.children===r.children&&!un.current){e=Ui(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Di(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),rp(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(G(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),rp(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Jt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,fo(e,n),r=On(r),i=i(r),e.flags|=1,Jt(t,e,i,n),e.child;case 14:return i=e.type,r=zn(i,e.pendingProps),r=zn(i.type,r),Rv(t,e,i,r,n);case 15:return rE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:zn(i,r),cc(t,e),e.tag=1,cn(i)?(t=!0,bc(e)):t=!1,fo(e,n),Lw(e,i,r),op(e,i,r,n),up(null,e,i,!0,t,n);case 19:return uE(t,e,n);case 22:return sE(t,e,n)}throw Error(G(156,e.tag))};function PE(t,e){return X0(t,e)}function eC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,i){return new eC(t,e,n,i)}function jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tC(t){if(typeof t=="function")return jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===am)return 11;if(t===lm)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fc(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")jm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ks:return rs(n.children,r,o,e);case om:l=8,r|=8;break;case Af:return t=An(12,n,e,r|2),t.elementType=Af,t.lanes=o,t;case bf:return t=An(13,n,e,r),t.elementType=bf,t.lanes=o,t;case Of:return t=An(19,n,e,r),t.elementType=Of,t.lanes=o,t;case N0:return Rh(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O0:l=10;break e;case L0:l=9;break e;case am:l=11;break e;case lm:l=14;break e;case nr:l=16,i=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=An(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function rs(t,e,n,i){return t=An(7,t,i,e),t.lanes=n,t}function Rh(t,e,n,i){return t=An(22,t,i,e),t.elementType=N0,t.lanes=n,t.stateNode={isHidden:!1},t}function of(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function af(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bd(0),this.expirationTimes=Bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $m(t,e,n,i,r,o,l,c,h){return t=new nC(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=An(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(o),t}function iC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function kE(t){if(!t)return Pr;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(cn(n))return Pw(t,n,e)}return e}function CE(t,e,n,i,r,o,l,c,h){return t=$m(n,i,!0,t,r,o,l,c,h),t.context=kE(null),n=t.current,i=tn(),r=yr(n),o=Di(i,r),o.callback=e??null,_r(n,o,r),t.current.lanes=r,Ol(t,r,i),hn(t,i),t}function Ah(t,e,n,i){var r=e.current,o=tn(),l=yr(r);return n=kE(n),e.context===null?e.context=n:e.pendingContext=n,e=Di(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=_r(r,e,l),t!==null&&(qn(t,r,l,o),ac(t,r,l)),l}function Wc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wm(t,e){Uv(t,e),(t=t.alternate)&&Uv(t,e)}function rC(){return null}var xE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hm(t){this._internalRoot=t}bh.prototype.render=Hm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Ah(t,e,null,null)};bh.prototype.unmount=Hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){Ah(null,t,null,null)}),e[zi]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=rw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&ow(t)}};function qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jv(){}function sC(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Wc(l);o.call(f)}}var l=CE(e,i,t,0,null,!1,!1,"",jv);return t._reactRootContainer=l,t[zi]=l.current,tl(t.nodeType===8?t.parentNode:t),fs(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var c=i;i=function(){var f=Wc(h);c.call(f)}}var h=$m(t,0,!1,null,null,!1,!1,"",jv);return t._reactRootContainer=h,t[zi]=h.current,tl(t.nodeType===8?t.parentNode:t),fs(function(){Ah(e,h,n,i)}),h}function Lh(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var c=r;r=function(){var h=Wc(l);c.call(h)}}Ah(e,l,t,r)}else l=sC(n,e,t,r,i);return Wc(l)}nw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ia(e.pendingLanes);n!==0&&(hm(e,n|1),hn(e,lt()),!(ze&6)&&(ko=lt()+500,Lr()))}break;case 13:fs(function(){var i=Bi(t,1);if(i!==null){var r=tn();qn(i,t,1,r)}}),Wm(t,1)}};dm=function(t){if(t.tag===13){var e=Bi(t,134217728);if(e!==null){var n=tn();qn(e,t,134217728,n)}Wm(t,134217728)}};iw=function(t){if(t.tag===13){var e=yr(t),n=Bi(t,e);if(n!==null){var i=tn();qn(n,t,e,i)}Wm(t,e)}};rw=function(){return Be};sw=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};jf=function(t,e,n){switch(e){case"input":if(Df(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Sh(i);if(!r)throw Error(G(90));M0(i),Df(i,r)}}}break;case"textarea":F0(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};H0=zm;q0=fs;var oC={usingClientEntryPoint:!1,Events:[Nl,Js,Sh,$0,W0,zm]},_a={findFiberByHostInstance:Kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aC={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K0(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||rC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{yh=Wu.inject(aC),li=Wu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oC;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(e))throw Error(G(200));return iC(t,e,null,n)};En.createRoot=function(t,e){if(!qm(t))throw Error(G(299));var n=!1,i="",r=xE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=$m(t,1,!1,null,null,n,!1,i,r),t[zi]=e.current,tl(t.nodeType===8?t.parentNode:t),new Hm(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=K0(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return fs(t)};En.hydrate=function(t,e,n){if(!Oh(e))throw Error(G(200));return Lh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!qm(t))throw Error(G(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=xE;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=CE(e,null,t,1,n??null,r,!1,o,l),t[zi]=e.current,tl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new bh(e)};En.render=function(t,e,n){if(!Oh(e))throw Error(G(200));return Lh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Oh(t))throw Error(G(40));return t._reactRootContainer?(fs(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};En.unstable_batchedUpdates=zm;En.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Oh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Lh(t,e,n,!1,i)};En.version="18.2.0-next-9e3b772b8-20220608";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),C0.exports=En;var AE=C0.exports,$v=AE;xf.createRoot=$v.createRoot,xf.hydrateRoot=$v.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cl.apply(this,arguments)}var dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dr||(dr={}));const Wv="popstate";function lC(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:l,hash:c}=i.location;return Ep("",{pathname:o,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:OE(r)}return cC(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uC(){return Math.random().toString(36).substr(2,8)}function Hv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ep(t,e,n,i){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||i||uC()})}function OE(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function cC(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c=dr.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(cl({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function _(){c=dr.Pop;let D=m(),k=D==null?null:D-f;f=D,h&&h({action:c,location:A.location,delta:k})}function E(D,k){c=dr.Push;let T=Ep(A.location,D,k);n&&n(T,D),f=m()+1;let x=Hv(T,f),F=A.createHref(T);try{l.pushState(x,"",F)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(F)}o&&h&&h({action:c,location:A.location,delta:1})}function I(D,k){c=dr.Replace;let T=Ep(A.location,D,k);n&&n(T,D),f=m();let x=Hv(T,f),F=A.createHref(T);l.replaceState(x,"",F),o&&h&&h({action:c,location:A.location,delta:0})}function R(D){let k=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof D=="string"?D:OE(D);return T=T.replace(/ $/,"%20"),Et(k,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,k)}let A={get action(){return c},get location(){return t(r,l)},listen(D){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Wv,_),h=D,()=>{r.removeEventListener(Wv,_),h=null}},createHref(D){return e(r,D)},createURL:R,encodeLocation(D){let k=R(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:I,go(D){return l.go(D)}};return A}var qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qv||(qv={}));function hC(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Mo(e):e,r=DE(i.pathname||"/",n);if(r==null)return null;let o=LE(t);dC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=IC(r);l=EC(o[c],h)}return l}function LE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Et(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=ss([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),LE(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:yC(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let h of NE(o.path))r(o,l,h)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=NE(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function dC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const fC=/^:[\w-]+$/,pC=3,mC=2,gC=1,_C=10,vC=-2,Gv=t=>t==="*";function yC(t,e){let n=t.split("/"),i=n.length;return n.some(Gv)&&(i+=vC),e&&(i+=mC),n.filter(r=>!Gv(r)).reduce((r,o)=>r+(fC.test(o)?pC:o===""?gC:_C),i)}function wC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function EC(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=TC({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let _=c.route;o.push({params:i,pathname:ss([r,m.pathname]),pathnameBase:AC(ss([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=ss([r,m.pathnameBase]))}return o}function TC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=SC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:E,isOptional:I}=m;if(E==="*"){let A=c[_]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const R=c[_];return I&&!R?f[E]=void 0:f[E]=(R||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function SC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function IC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function PC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:kC(n,e):e,search:bC(i),hash:OC(r)}}function kC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function lf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xC(t,e){let n=CC(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function RC(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Mo(t):(r=cl({},t),Et(!r.pathname||!r.pathname.includes("?"),lf("?","pathname","search",r)),Et(!r.pathname||!r.pathname.includes("#"),lf("#","pathname","hash",r)),Et(!r.search||!r.search.includes("#"),lf("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!i&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;r.pathname=E.join("/")}c=_>=0?e[_]:"/"}let h=PC(r,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),AC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ME=["post","put","patch","delete"];new Set(ME);const NC=["get",...ME];new Set(NC);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hl.apply(this,arguments)}const Gm=H.createContext(null),DC=H.createContext(null),Nh=H.createContext(null),Dh=H.createContext(null),Vo=H.createContext({outlet:null,matches:[],isDataRoute:!1}),VE=H.createContext(null);function Mh(){return H.useContext(Dh)!=null}function FE(){return Mh()||Et(!1),H.useContext(Dh).location}function zE(t){H.useContext(Nh).static||H.useLayoutEffect(t)}function BE(){let{isDataRoute:t}=H.useContext(Vo);return t?ZC():MC()}function MC(){Mh()||Et(!1);let t=H.useContext(Gm),{basename:e,future:n,navigator:i}=H.useContext(Nh),{matches:r}=H.useContext(Vo),{pathname:o}=FE(),l=JSON.stringify(xC(r,n.v7_relativeSplatPath)),c=H.useRef(!1);return zE(()=>{c.current=!0}),H.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){i.go(f);return}let _=RC(f,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ss([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,l,o,t])}function VC(t,e){return FC(t,e)}function FC(t,e,n,i){Mh()||Et(!1);let{navigator:r}=H.useContext(Nh),{matches:o}=H.useContext(Vo),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=FE(),m;if(e){var _;let D=typeof e=="string"?Mo(e):e;h==="/"||(_=D.pathname)!=null&&_.startsWith(h)||Et(!1),m=D}else m=f;let E=m.pathname||"/",I=E;if(h!=="/"){let D=h.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=hC(t,{pathname:I}),A=$C(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:ss([h,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:ss([h,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,i);return e&&A?H.createElement(Dh.Provider,{value:{location:hl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:dr.Pop}},A):A}function zC(){let t=GC(),e=LC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:r},n):null,null)}const BC=H.createElement(zC,null);class UC extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(Vo.Provider,{value:this.props.routeContext},H.createElement(VE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jC(t){let{routeContext:e,match:n,children:i}=t,r=H.useContext(Gm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Vo.Provider,{value:e},i)}function $C(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let l=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let m=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id]));m>=0||Et(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<l.length;m++){let _=l[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=m),_.route.id){let{loaderData:E,errors:I}=n,R=_.route.loader&&E[_.route.id]===void 0&&(!I||I[_.route.id]===void 0);if(_.route.lazy||R){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,_,E)=>{let I,R=!1,A=null,D=null;n&&(I=c&&_.route.id?c[_.route.id]:void 0,A=_.route.errorElement||BC,h&&(f<0&&E===0?(KC("route-fallback",!1),R=!0,D=null):f===E&&(R=!0,D=_.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,E+1)),T=()=>{let x;return I?x=A:R?x=D:_.route.Component?x=H.createElement(_.route.Component,null):_.route.element?x=_.route.element:x=m,H.createElement(jC,{match:_,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:x})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?H.createElement(UC,{location:n.location,revalidation:n.revalidation,component:A,error:I,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}var UE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(UE||{}),Hc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hc||{});function WC(t){let e=H.useContext(Gm);return e||Et(!1),e}function HC(t){let e=H.useContext(DC);return e||Et(!1),e}function qC(t){let e=H.useContext(Vo);return e||Et(!1),e}function jE(t){let e=qC(),n=e.matches[e.matches.length-1];return n.route.id||Et(!1),n.route.id}function GC(){var t;let e=H.useContext(VE),n=HC(Hc.UseRouteError),i=jE(Hc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function ZC(){let{router:t}=WC(UE.UseNavigateStable),e=jE(Hc.UseNavigateStable),n=H.useRef(!1);return zE(()=>{n.current=!0}),H.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,hl({fromRouteId:e},o)))},[t,e])}const Zv={};function KC(t,e,n){!e&&!Zv[t]&&(Zv[t]=!0)}function ka(t){Et(!1)}function QC(t){let{basename:e="/",children:n=null,location:i,navigationType:r=dr.Pop,navigator:o,static:l=!1,future:c}=t;Mh()&&Et(!1);let h=e.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:l,future:hl({v7_relativeSplatPath:!1},c)}),[h,c,o,l]);typeof i=="string"&&(i=Mo(i));let{pathname:m="/",search:_="",hash:E="",state:I=null,key:R="default"}=i,A=H.useMemo(()=>{let D=DE(m,h);return D==null?null:{location:{pathname:D,search:_,hash:E,state:I,key:R},navigationType:r}},[h,m,_,E,I,R,r]);return A==null?null:H.createElement(Nh.Provider,{value:f},H.createElement(Dh.Provider,{children:n,value:A}))}function XC(t){let{children:e,location:n}=t;return VC(Tp(e),n)}new Promise(()=>{});function Tp(t,e){e===void 0&&(e=[]);let n=[];return H.Children.forEach(t,(i,r)=>{if(!H.isValidElement(i))return;let o=[...e,r];if(i.type===H.Fragment){n.push.apply(n,Tp(i.props.children,o));return}i.type!==ka&&Et(!1),!i.props.index||!i.props.children||Et(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Tp(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const YC="6";try{window.__reactRouterVersion=YC}catch{}const JC="startTransition",Kv=YI[JC];function ex(t){let{basename:e,children:n,future:i,window:r}=t,o=H.useRef();o.current==null&&(o.current=lC({window:r,v5Compat:!0}));let l=o.current,[c,h]=H.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=H.useCallback(_=>{f&&Kv?Kv(()=>h(_)):h(_)},[h,f]);return H.useLayoutEffect(()=>l.listen(m),[l,m]),H.createElement(QC,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}var Qv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var Xv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xv||(Xv={}));var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},tx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],c=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,c=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|c>>4;let E=(c&15)<<2|f>>6,I=f&63;h||(I=64,l||(E=64)),i.push(n[m],n[_],n[E],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||f==null||_==null)throw new nx;const E=o<<2|c>>4;if(i.push(E),f!==64){const I=c<<4&240|f>>2;if(i.push(I),_!==64){const R=f<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ix=function(t){const e=$E(t);return WE.encodeByteArray(e,!0)},qc=function(t){return ix(t).replace(/\./g,"")},HE=function(t){try{return WE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=()=>rx().__FIREBASE_DEFAULTS__,ox=()=>{if(typeof process>"u"||typeof Yv>"u")return;const t=Yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ax=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HE(t[1]);return e&&JSON.parse(e)},Vh=()=>{try{return sx()||ox()||ax()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qE=t=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GE=t=>{const e=qE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ZE=()=>{var t;return(t=Vh())===null||t===void 0?void 0:t.config},KE=t=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qc(JSON.stringify(n)),qc(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ux(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function cx(){var t;const e=(t=Vh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fx(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function px(){return!cx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XE(){try{return typeof indexedDB=="object"}catch{return!1}}function mx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="FirebaseError";class gi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gx,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?_x(o,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new gi(r,c,i)}}function _x(t,e){return t.replace(vx,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const vx=/\{\$([^}]+)}/g;function yx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(Jv(o)&&Jv(l)){if(!Gc(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wx(t,e){const n=new Ex(t,e);return n.subscribe.bind(n)}class Ex{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Tx(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=uf),r.error===void 0&&(r.error=uf),r.complete===void 0&&(r.complete=uf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new lx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Px(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ix(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ix(t){return t===Gr?void 0:t}function Px(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const Cx={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},xx=Re.INFO,Rx={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Ax=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Rx[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=xx,this._logHandler=Ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const bx=(t,e)=>e.some(n=>t instanceof n);let ey,ty;function Ox(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lx(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Sp=new WeakMap,JE=new WeakMap,cf=new WeakMap,Km=new WeakMap;function Nx(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Er(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function Dx(t){if(Sp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Sp.set(t,e)}let Ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mx(t){Ip=t(Ip)}function Vx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(hf(this),e,...n);return JE.set(i,e.sort?e.sort():[e]),Er(i)}:Lx().includes(t)?function(...e){return t.apply(hf(this),e),Er(YE.get(this))}:function(...e){return Er(t.apply(hf(this),e))}}function Fx(t){return typeof t=="function"?Vx(t):(t instanceof IDBTransaction&&Dx(t),bx(t,Ox())?new Proxy(t,Ip):t)}function Er(t){if(t instanceof IDBRequest)return Nx(t);if(cf.has(t))return cf.get(t);const e=Fx(t);return e!==t&&(cf.set(t,e),Km.set(e,t)),e}const hf=t=>Km.get(t);function zx(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),c=Er(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Er(l.result),h.oldVersion,h.newVersion,Er(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Bx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],df=new Map;function ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Ux.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Bx.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),r&&h.done]))[0]};return df.set(e,o),o}Mx(t=>({...t,get:(e,n,i)=>ny(e,n)||t.get(e,n,i),has:(e,n)=>!!ny(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($x(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $x(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",iy="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Zm("@firebase/app"),Wx="@firebase/app-compat",Hx="@firebase/analytics-compat",qx="@firebase/analytics",Gx="@firebase/app-check-compat",Zx="@firebase/app-check",Kx="@firebase/auth",Qx="@firebase/auth-compat",Xx="@firebase/database",Yx="@firebase/database-compat",Jx="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",rR="@firebase/messaging-compat",sR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",hR="@firebase/firestore",dR="@firebase/firestore-compat",fR="firebase",pR="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",mR={[Pp]:"fire-core",[Wx]:"fire-core-compat",[qx]:"fire-analytics",[Hx]:"fire-analytics-compat",[Zx]:"fire-app-check",[Gx]:"fire-app-check-compat",[Kx]:"fire-auth",[Qx]:"fire-auth-compat",[Xx]:"fire-rtdb",[Yx]:"fire-rtdb-compat",[Jx]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[rR]:"fire-fcm-compat",[sR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[hR]:"fire-fst",[dR]:"fire-fst-compat","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,Cp=new Map;function gR(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ms(t){const e=t.name;if(Cp.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,t);for(const n of Zc.values())gR(n,t);return!0}function Fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tr=new Ml("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=pR;function eT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:kp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Tr.create("bad-app-name",{appName:String(r)});if(n||(n=ZE()),!n)throw Tr.create("no-options");const o=Zc.get(r);if(o){if(Gc(n,o.options)&&Gc(i,o.config))return o;throw Tr.create("duplicate-app",{appName:r})}const l=new kx(r);for(const h of Cp.values())l.addComponent(h);const c=new vR(n,i,l);return Zc.set(r,c),c}function Qm(t=kp){const e=Zc.get(t);if(!e&&t===kp&&ZE())return eT();if(!e)throw Tr.create("no-app",{appName:t});return e}function ci(t,e,n){var i;let r=(i=mR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(c.join(" "));return}ms(new kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",wR=1,dl="firebase-heartbeat-store";let ff=null;function tT(){return ff||(ff=zx(yR,wR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),ff}async function ER(t){try{const n=(await tT()).transaction(dl),i=await n.objectStore(dl).get(nT(t));return await n.done,i}catch(e){if(e instanceof gi)ps.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function ry(t,e){try{const i=(await tT()).transaction(dl,"readwrite");await i.objectStore(dl).put(e,nT(t)),await i.done}catch(n){if(n instanceof gi)ps.warn(n.message);else{const i=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(i.message)}}}function nT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,SR=30*24*60*60*1e3;class IR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=SR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:i,unsentEntries:r}=PR(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function sy(){return new Date().toISOString().substring(0,10)}function PR(t,e=TR){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),oy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),oy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XE()?mx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ry(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ry(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oy(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){ms(new kr("platform-logger",e=>new jx(e),"PRIVATE")),ms(new kr("heartbeat",e=>new IR(e),"PRIVATE")),ci(Pp,iy,t),ci(Pp,iy,"esm2017"),ci("fire-js","")}CR("");function Xm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=iT,rT=new Ml("auth","Firebase",iT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Zm("@firebase/auth");function RR(t,...e){Kc.logLevel<=Re.WARN&&Kc.warn(`Auth (${Ts}): ${t}`,...e)}function pc(t,...e){Kc.logLevel<=Re.ERROR&&Kc.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw Ym(t,...e)}function hi(t,...e){return Ym(t,...e)}function AR(t,e,n){const i=Object.assign(Object.assign({},xR()),{[e]:n});return new Ml("auth","Firebase",i).create(e,{appName:t.name})}function Ym(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return rT.create(t,...e)}function we(t,e,...n){if(!t)throw Ym(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pc(e),new Error(e)}function ji(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bR(){return ay()==="http:"||ay()==="https:"}function ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||hx()||"connection"in navigator)?navigator.onLine:!0}function LR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=ux()||dx()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Fl(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,n,i,r={}){return oT(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Vl(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),sT.fetch()(aT(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function oT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},NR),e);try{const r=new VR(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Hu(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Hu(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw AR(t,m,f);Zn(t,m)}}catch(r){if(r instanceof gi)throw r;Zn(t,"network-request-failed",{message:String(r)})}}async function zl(t,e,n,i,r={}){const o=await Dr(t,e,n,i,r);return"mfaPendingCredential"in o&&Zn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function aT(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Jm(t.config,r):`${t.config.apiScheme}://${r}`}function MR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(hi(this.auth,"network-request-failed")),DR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=hi(t,e,i);return r.customData._tokenResponse=n,r}function ly(t){return t!==void 0&&t.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function zR(t,e){return Dr(t,"GET","/v2/recaptchaConfig",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function UR(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(t,e=!1){const n=dn(t),i=await n.getIdToken(e),r=eg(i);we(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Ba(pf(r.auth_time)),issuedAtTime:Ba(pf(r.iat)),expirationTime:Ba(pf(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function pf(t){return Number(t)*1e3}function eg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const r=HE(n);return r?JSON.parse(r):(pc("Failed to decode base64 JWT payload"),null)}catch(r){return pc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $R(t){const e=eg(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gi&&WR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function WR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await fl(t,UR(n,{idToken:i}));we(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZR(o.providerUserInfo):[],c=GR(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new lT(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function qR(t){const e=dn(t);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GR(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function ZR(t){return t.map(e=>{var{providerId:n}=e,i=Xm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e){const n=await oT(t,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=aT(t,r,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QR(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return we(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await KR(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new pl;return i&&(we(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(we(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(we(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lT(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jR(this,e)}reload(){return qR(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fl(this,BR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,c,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(r=n.email)!==null&&r!==void 0?r:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(l=n.photoURL)!==null&&l!==void 0?l:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,D=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,k=(f=n.createdAt)!==null&&f!==void 0?f:void 0,T=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:x,emailVerified:F,isAnonymous:Q,providerData:J,stsTokenManager:ne}=n;we(x&&ne,e,"internal-error");const ae=pl.fromJSON(this.name,ne);we(typeof x=="string",e,"internal-error"),tr(_,e.name),tr(E,e.name),we(typeof F=="boolean",e,"internal-error"),we(typeof Q=="boolean",e,"internal-error"),tr(I,e.name),tr(R,e.name),tr(A,e.name),tr(D,e.name),tr(k,e.name),tr(T,e.name);const be=new os({uid:x,auth:e,email:E,emailVerified:F,displayName:_,isAnonymous:Q,photoURL:R,phoneNumber:I,tenantId:A,stsTokenManager:ae,createdAt:k,lastLoginAt:T});return J&&Array.isArray(J)&&(be.providerData=J.map(Ee=>Object.assign({},Ee))),D&&(be._redirectEventId=D),be}static async _fromIdTokenResponse(e,n,i=!1){const r=new pl;r.updateFromServerResponse(n);const o=new os({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Qc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Map;function Li(t){ji(t instanceof Function,"Expected a class definition");let e=uy.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uT.type="NONE";const cy=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=mc(this.userKey,r.apiKey,o),this.fullPersistenceKey=mc("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new mo(Li(cy),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Li(cy);const l=mc(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){const _=os._fromJSON(e,m);f!==o&&(c=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new mo(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new mo(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pT(e))return"Blackberry";if(mT(e))return"Webos";if(tg(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function cT(t=mt()){return/firefox\//i.test(t)}function tg(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(t=mt()){return/crios\//i.test(t)}function dT(t=mt()){return/iemobile/i.test(t)}function fT(t=mt()){return/android/i.test(t)}function pT(t=mt()){return/blackberry/i.test(t)}function mT(t=mt()){return/webos/i.test(t)}function zh(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XR(t=mt()){var e;return zh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YR(){return fx()&&document.documentMode===10}function gT(t=mt()){return zh(t)||fT(t)||mT(t)||pT(t)||/windows phone/i.test(t)||dT(t)}function JR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e=[]){let n;switch(t){case"Browser":n=hy(mt());break;case"Worker":n=`${hy(mt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",Nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=6;class iA{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:nA,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new eA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tA(this),n=new iA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ml("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await QR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ss(t){return dn(t)}class dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=wx(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sA(t){Bh=t}function vT(t){return Bh.loadJS(t)}function oA(){return Bh.recaptchaEnterpriseScript}function aA(){return Bh.gapiScript}function lA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const uA="recaptcha-enterprise",cA="NO_RECAPTCHA";class hA{constructor(e){this.type=uA,this.auth=Ss(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{zR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new FR(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function r(o,l,c){const h=window.grecaptcha;ly(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(cA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&ly(window.grecaptcha))r(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=oA();h.length!==0&&(h+=c),vT(h).then(()=>{r(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function fy(t,e,n,i=!1){const r=new hA(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Rp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fy(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await fy(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e){const n=Fh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Gc(o,e??{}))return r;Zn(r,"already-initialized")}return n.initialize({options:e})}function fA(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pA(t,e,n){const i=Ss(t);we(i._canInitEmulator,i,"emulator-config-failed"),we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=yT(e),{host:l,port:c}=mA(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||gA()}function yT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mA(t){const e=yT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:py(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:py(l)}}}function py(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function _A(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e){return zl(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(t,e){return zl(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}async function wA(t,e){return zl(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends ng{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ml(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ml(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,n,"signInWithPassword",vA);case"emailLink":return yA(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,i,"signUpPassword",_A);case"emailLink":return wA(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return zl(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="http://localhost";class gs extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Xm(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new gs(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,go(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:EA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SA(t){const e=Ca(xa(t)).link,n=e?Ca(xa(e)).deep_link_id:null,i=Ca(xa(t)).deep_link_id;return(i?Ca(xa(i)).link:null)||i||n||e||t}class ig{constructor(e){var n,i,r,o,l,c;const h=Ca(xa(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=TA((r=h.mode)!==null&&r!==void 0?r:null);we(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=SA(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ig.parseLink(n);return we(i,"argument-error"),ml._fromEmailAndCode(e,i.code,i.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Bl{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gs._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ar.credential(n,i)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Bl{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Bl{constructor(){super("twitter.com")}static credential(e,n){return gs._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ur.credential(n,i)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e){return zl(t,"POST","/v1/accounts:signUp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await os._fromIdTokenResponse(e,i,r),l=my(i);return new _s({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=my(i);return new _s({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function my(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends gi{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Xc(e,n,i,r)}}function ET(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(t,o,e,i):o})}async function PA(t,e,n=!1){const i=await fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _s._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await fl(t,ET(i,r,e,t),n);we(o.idToken,i,"internal-error");const l=eg(o.idToken);we(l,i,"internal-error");const{sub:c}=l;return we(t.uid===c,i,"user-mismatch"),_s._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(t,e,n=!1){const i="signIn",r=await ET(t,i,e),o=await _s._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function CA(t,e){return TT(Ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t){const e=Ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xA(t,e,n){const i=Ss(t),l=await Rp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IA).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ST(t),h}),c=await _s._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function RA(t,e,n){return CA(dn(t),Fo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ST(t),i})}function AA(t,e,n,i){return dn(t).onIdTokenChanged(e,n,i)}function bA(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function OA(t,e,n,i){return dn(t).onAuthStateChanged(e,n,i)}function LA(t){return dn(t).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){const t=mt();return tg(t)||zh(t)}const DA=1e3,MA=10;class PT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NA()&&JR(),this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);YR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,MA):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const VA=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kT.type="SESSION";const CT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await FA(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=rg("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const E=_;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function BA(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function UA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $A(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebaseLocalStorageDb",WA=1,Jc="firebaseLocalStorage",AT="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(t,e){return t.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function HA(){const t=indexedDB.deleteDatabase(RT);return new Ul(t).toPromise()}function Ap(){const t=indexedDB.open(RT,WA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Jc,{keyPath:AT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Jc)?e(i):(i.close(),await HA(),e(await Ap()))})})}async function gy(t,e,n){const i=jh(t,!0).put({[AT]:e,value:n});return new Ul(i).toPromise()}async function qA(t,e){const n=jh(t,!1).get(e),i=await new Ul(n).toPromise();return i===void 0?null:i.value}function _y(t,e){const n=jh(t,!0).delete(e);return new Ul(n).toPromise()}const GA=800,ZA=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ZA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance($A()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UA(),!this.activeServiceWorker)return;this.sender=new zA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await gy(e,Yc,"1"),await _y(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>gy(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_y(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=jh(r,!1).getAll();return new Ul(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const KA=bT;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){return e?Li(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XA(t){return TT(t.auth,new sg(t),t.bypassAuthState)}function YA(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),kA(n,new sg(t),t.bypassAuthState)}async function JA(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),PA(n,new sg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XA;case"linkViaPopup":case"linkViaRedirect":return JA;case"reauthViaPopup":case"reauthViaRedirect":return YA;default:Zn(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Fl(2e3,1e4);class oo extends OT{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eb.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="pendingRedirect",gc=new Map;class nb extends OT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=gc.get(this.auth._key());if(!e){try{const i=await ib(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}gc.set(this.auth._key(),e)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ib(t,e){const n=ob(e),i=sb(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function rb(t,e){gc.set(t._key(),e)}function sb(t){return Li(t._redirectPersistence)}function ob(t){return mc(tb,t.config.apiKey,t.name)}async function ab(t,e,n=!1){const i=Ss(t),r=QA(i,e),l=await new nb(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=10*60*1e3;class ub{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!LT(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lb&&this.cachedEventUids.clear(),this.cachedEventUids.has(vy(e))}saveEventToCache(e){this.cachedEventUids.add(vy(e)),this.lastProcessedEventTime=Date.now()}}function vy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fb=/^https?/;async function pb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hb(t);for(const n of e)try{if(mb(n))return}catch{}Zn(t,"unauthorized-domain")}function mb(t){const e=xp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!fb.test(n))return!1;if(db.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Fl(3e4,6e4);function yy(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _b(t){return new Promise((e,n)=>{var i,r,o;function l(){yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yy(),n(hi(t,"network-request-failed"))},timeout:gb.get()})}if(!((r=(i=di().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=di().gapi)===null||o===void 0)&&o.load)l();else{const c=lA("iframefcb");return di()[c]=()=>{gapi.load?l():n(hi(t,"network-request-failed"))},vT(`${aA()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw _c=null,e})}let _c=null;function vb(t){return _c=_c||_b(t),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Fl(5e3,15e3),wb="__/auth/iframe",Eb="emulator/auth/iframe",Tb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ib(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,Eb):`https://${t.config.authDomain}/${wb}`,i={apiKey:e.apiKey,appName:t.name,v:Ts},r=Sb.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Vl(i).slice(1)}`}async function Pb(t){const e=await vb(t),n=di().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:Ib(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tb,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=hi(t,"network-request-failed"),c=di().setTimeout(()=>{o(l)},yb.get());function h(){di().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cb=500,xb=600,Rb="_blank",Ab="http://localhost";class wy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bb(t,e,n,i=Cb,r=xb){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},kb),{width:i.toString(),height:r.toString(),top:o,left:l}),f=mt().toLowerCase();n&&(c=hT(f)?Rb:n),cT(f)&&(e=e||Ab,h.scrollbars="yes");const m=Object.entries(h).reduce((E,[I,R])=>`${E}${I}=${R},`,"");if(XR(f)&&c!=="_self")return Ob(e||"",c),new wy(null);const _=window.open(e||"",c,m);we(_,t,"popup-blocked");try{_.focus()}catch{}return new wy(_)}function Ob(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__/auth/handler",Nb="emulator/auth/handler",Db=encodeURIComponent("fac");async function Ey(t,e,n,i,r,o){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ts,eventId:r};if(e instanceof wT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",yx(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))l[m]=_}if(e instanceof Bl){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${Db}=${encodeURIComponent(h)}`:"";return`${Mb(t)}?${Vl(c).slice(1)}${f}`}function Mb({config:t}){return t.emulator?Jm(t,Nb):`https://${t.authDomain}/${Lb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="webStorageSupport";class Vb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=ab,this._overrideRedirectResult=rb}async _openPopup(e,n,i,r){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Ey(e,n,i,xp(),r);return bb(e,l,rg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Ey(e,n,i,xp(),r);return BA(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ji(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Pb(e),i=new ub(e);return n.register("authEvent",r=>(we(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mf,{type:mf},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[mf];l!==void 0&&n(!!l),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gT()||tg()||zh()}}const Fb=Vb;var Ty="@firebase/auth",Sy="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ub(t){ms(new kr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(t)},f=new rA(i,r,o,h);return fA(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ms(new kr("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(i=>new zb(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Ty,Sy,Bb(t)),ci(Ty,Sy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=5*60,$b=KE("authIdTokenMaxAge")||jb;let Iy=null;const Wb=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$b)return;const r=n==null?void 0:n.token;Iy!==r&&(Iy=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Hb(t=Qm()){const e=Fh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dA(t,{popupRedirectResolver:Fb,persistence:[KA,VA,CT]}),i=KE("authTokenSyncURL");if(i&&i.match(/^\/[^\/].*/)){const o=Wb(i);bA(n,o,()=>o(n.currentUser)),AA(n,l=>o(l))}const r=qE("auth");return r&&pA(n,`http://${r}`),n}function qb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sA({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=hi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",qb().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ub("Browser");var Gb="firebase",Zb="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(Gb,Zb,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebasestorage.googleapis.com",Kb="storageBucket",Qb=2*60*1e3,Xb=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends gi{constructor(e,n,i=0){super(gf(e),`Firebase Storage: ${n} (${gf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fi||(fi={}));function gf(t){return"storage/"+t}function Yb(){const t="An unknown error occurred, please check the error payload for server response.";return new _i(fi.UNKNOWN,t)}function Jb(){return new _i(fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eO(){return new _i(fi.CANCELED,"User canceled the upload/download.")}function tO(t){return new _i(fi.INVALID_URL,"Invalid URL '"+t+"'.")}function nO(t){return new _i(fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Py(t){return new _i(fi.INVALID_ARGUMENT,t)}function DT(){return new _i(fi.APP_DELETED,"The Firebase app was deleted.")}function iO(t){return new _i(fi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=class vc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=vc.makeFromUrl(e,n)}catch{return new vc(e,"")}if(i.path==="")return i;throw nO(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(F){F.path_=decodeURIComponent(F.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${_}/${m}/b/${r}/o${E}`,"i"),R={bucket:1,path:3},A=n===NT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",k=new RegExp(`^https?://${A}/${r}/${D}`,"i"),x=[{regex:c,indices:h,postModify:o},{regex:I,indices:R,postModify:f},{regex:k,indices:{bucket:1,path:2},postModify:f}];for(let F=0;F<x.length;F++){const Q=x[F],J=Q.regex.exec(e);if(J){const ne=J[Q.indices.bucket];let ae=J[Q.indices.path];ae||(ae=""),i=new vc(ne,ae),Q.postModify(i);break}}if(i==null)throw tO(e);return i}};class rO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e,n){let i=1,r=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function m(...D){f||(f=!0,e.apply(null,D))}function _(D){r=setTimeout(()=>{r=null,t(I,h())},D)}function E(){o&&clearTimeout(o)}function I(D,...k){if(f){E();return}if(D){E(),m.call(null,D,...k);return}if(h()||l){E(),m.call(null,D,...k);return}i<64&&(i*=2);let x;c===1?(c=2,x=0):x=(i+Math.random())*1e3,_(x)}let R=!1;function A(D){R||(R=!0,E(),!f&&(r!==null?(D||(c=2),clearTimeout(r),_(0)):D||(c=1)))}return _(0),o=setTimeout(()=>{l=!0,A(!0)},n),A}function oO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){return t!==void 0}function ky(t,e,n,i){if(i<e)throw Py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Py(`Invalid value for '${t}'. Expected ${n} or less.`)}function lO(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(eh||(eh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,i,r,o,l,c,h,f,m,_,E=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,R)=>{this.resolve_=I,this.reject_=R,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new qu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===eh.NO_ERROR,h=o.getStatus();if(!c||uO(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===eh.ABORT;i(!1,new qu(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new qu(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());aO(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=Yb();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(r.canceled){const h=this.appDelete_?DT():eO();l(h)}else{const h=Jb();l(h)}};this.canceled_?n(!1,new qu(!1,null,!0)):this.backoffId_=sO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function hO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mO(t,e,n,i,r,o,l=!0){const c=lO(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return fO(f,e),hO(f,n),dO(f,o),pO(f,i),new cO(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _O(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new th(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _O(this._location.path)}get storage(){return this._service}get parent(){const e=gO(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new th(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iO(e)}}function Cy(t,e){const n=e==null?void 0:e[Kb];return n==null?null:Yr.makeFromBucketSpec(n,t)}function vO(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:QE(r,t.app.options.projectId))}class yO{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=NT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qb,this._maxUploadRetryTime=Xb,this._requests=new Set,r!=null?this._bucket=Yr.makeFromBucketSpec(r,this._host):this._bucket=Cy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=Cy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ky("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ky("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new th(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new rO(DT());{const l=mO(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const xy="@firebase/storage",Ry="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="storage";function wO(t=Qm(),e){t=dn(t);const i=Fh(t,MT).getImmediate({identifier:e}),r=GE("storage");return r&&EO(i,...r),i}function EO(t,e,n,i={}){vO(t,e,n,i)}function TO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new yO(n,i,r,e,Ts)}function SO(){ms(new kr(MT,TO,"PUBLIC").setMultipleInstances(!0)),ci(xy,Ry,""),ci(xy,Ry,"esm2017")}SO();const IO={apiKey:"AIzaSyBSQ3heNYW8OHkhPd_g040aoSTefZyTWq4",authDomain:"dobra-ekipa-6f3c0.firebaseapp.com",projectId:"dobra-ekipa-6f3c0",storageBucket:"dobra-ekipa-6f3c0.appspot.com",messagingSenderId:"102294289914",appId:"1:102294289914:web:a6c10bef8917dc29f63843",measurementId:"G-BD8XWXYD2T"};var PO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,og=og||{},Te=PO||self;function $h(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function kO(t){return Object.prototype.hasOwnProperty.call(t,_f)&&t[_f]||(t[_f]=++CO)}var _f="closure_uid_"+(1e9*Math.random()>>>0),CO=0;function xO(t,e,n){return t.call.apply(t.bind,arguments)}function RO(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=xO:Zt=RO,Zt.apply(null,arguments)}function Gu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[r].apply(i,l)}}function Mr(){this.s=this.s,this.o=this.o}var AO=0;Mr.prototype.s=!1;Mr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AO!=0)&&kO(this)};Mr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ag(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Ay(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if($h(i)){const r=t.length||0,o=i.length||0;t.length=r+o;for(let l=0;l<o;l++)t[r+l]=i[l]}else t.push(i)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var bO=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Te.addEventListener("test",n,e),Te.removeEventListener("test",n,e)}catch{}return t}();function gl(t){return/^[\s\xa0]*$/.test(t)}function Wh(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function si(t){return Wh().indexOf(t)!=-1}function lg(t){return lg[" "](t),t}lg[" "]=function(){};function OO(t,e){var n=IL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var LO=si("Opera"),Co=si("Trident")||si("MSIE"),FT=si("Edge"),bp=FT||Co,zT=si("Gecko")&&!(Wh().toLowerCase().indexOf("webkit")!=-1&&!si("Edge"))&&!(si("Trident")||si("MSIE"))&&!si("Edge"),NO=Wh().toLowerCase().indexOf("webkit")!=-1&&!si("Edge");function BT(){var t=Te.document;return t?t.documentMode:void 0}var Op;e:{var vf="",yf=function(){var t=Wh();if(zT)return/rv:([^\);]+)(\)|;)/.exec(t);if(FT)return/Edge\/([\d\.]+)/.exec(t);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(NO)return/WebKit\/(\S+)/.exec(t);if(LO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yf&&(vf=yf?yf[1]:""),Co){var wf=BT();if(wf!=null&&wf>parseFloat(vf)){Op=String(wf);break e}}Op=vf}var Lp;if(Te.document&&Co){var by=BT();Lp=by||parseInt(Op,10)||void 0}else Lp=void 0;var DO=Lp;function _l(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(zT){e:{try{lg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:MO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_l.$.h.call(this)}}At(_l,Kt);var MO={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $l="closure_listenable_"+(1e6*Math.random()|0),VO=0;function FO(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++VO,this.fa=this.ia=!1}function Hh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ug(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function zO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function UT(t){const e={};for(const n in t)e[n]=t[n];return e}const Oy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jT(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<Oy.length;o++)n=Oy[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function qh(t){this.src=t,this.g={},this.h=0}qh.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=Dp(t,e,i,r);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new FO(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function Np(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=VT(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Hh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dp(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var cg="closure_lm_"+(1e6*Math.random()|0),Ef={};function $T(t,e,n,i,r){if(i&&i.once)return HT(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$T(t,e[o],n,i,r);return null}return n=fg(n),t&&t[$l]?t.O(e,n,jl(i)?!!i.capture:!!i,r):WT(t,e,n,!1,i,r)}function WT(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var l=jl(r)?!!r.capture:!!r,c=dg(t);if(c||(t[cg]=c=new qh(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=BO(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)bO||(r=l),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(GT(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BO(){function t(n){return e.call(t.src,t.listener,n)}const e=UO;return t}function HT(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)HT(t,e[o],n,i,r);return null}return n=fg(n),t&&t[$l]?t.P(e,n,jl(i)?!!i.capture:!!i,r):WT(t,e,n,!0,i,r)}function qT(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)qT(t,e[o],n,i,r);else i=jl(i)?!!i.capture:!!i,n=fg(n),t&&t[$l]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Dp(o,n,i,r),-1<n&&(Hh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=dg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dp(e,n,i,r)),(n=-1<t?e[t]:null)&&hg(n))}function hg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$l])Np(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(GT(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=dg(e))?(Np(n,t),n.h==0&&(n.src=null,e[cg]=null)):Hh(t)}}}function GT(t){return t in Ef?Ef[t]:Ef[t]="on"+t}function UO(t,e){if(t.fa)t=!0;else{e=new _l(e,this);var n=t.listener,i=t.la||t.src;t.ia&&hg(t),t=n.call(i,e)}return t}function dg(t){return t=t[cg],t instanceof qh?t:null}var Tf="__closure_events_fn_"+(1e9*Math.random()>>>0);function fg(t){return typeof t=="function"?t:(t[Tf]||(t[Tf]=function(e){return t.handleEvent(e)}),t[Tf])}function xt(){Mr.call(this),this.i=new qh(this),this.S=this,this.J=null}At(xt,Mr);xt.prototype[$l]=!0;xt.prototype.removeEventListener=function(t,e,n,i){qT(this,t,e,n,i)};function zt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var r=e;e=new Kt(i,t),jT(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];r=Zu(l,i,!0,e)&&r}if(l=e.g=t,r=Zu(l,i,!0,e)&&r,r=Zu(l,i,!1,e)&&r,n)for(o=0;o<n.length;o++)l=e.g=n[o],r=Zu(l,i,!1,e)&&r}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Hh(n[i]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};xt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Zu(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&Np(t.i,l),r=c.call(h,i)!==!1&&r}}return r&&!i.defaultPrevented}var pg=Te.JSON.stringify;class jO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function $O(){var t=mg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class WO{constructor(){this.h=this.g=null}add(e,n){const i=ZT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var ZT=new jO(()=>new HO,t=>t.reset());class HO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function GO(t){Te.setTimeout(()=>{throw t},0)}let vl,yl=!1,mg=new WO,KT=()=>{const t=Te.Promise.resolve(void 0);vl=()=>{t.then(ZO)}};var ZO=()=>{for(var t;t=$O();){try{t.h.call(t.g)}catch(n){GO(n)}var e=ZT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yl=!1};function Gh(t,e){xt.call(this),this.h=t||1,this.g=e||Te,this.j=Zt(this.qb,this),this.l=Date.now()}At(Gh,xt);te=Gh.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(gg(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){Gh.$.N.call(this),gg(this),delete this.g};function _g(t,e,n){if(typeof t=="function")n&&(t=Zt(t,n));else if(t&&typeof t.handleEvent=="function")t=Zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function QT(t){t.g=_g(()=>{t.g=null,t.i&&(t.i=!1,QT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class KO extends Mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QT(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(t){Mr.call(this),this.h=t,this.g={}}At(wl,Mr);var Ly=[];function XT(t,e,n,i){Array.isArray(n)||(n&&(Ly[0]=n.toString()),n=Ly);for(var r=0;r<n.length;r++){var o=$T(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function YT(t){ug(t.g,function(e,n){this.g.hasOwnProperty(n)&&hg(e)},t),t.g={}}wl.prototype.N=function(){wl.$.N.call(this),YT(this)};wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zh(){this.g=!0}Zh.prototype.Ea=function(){this.g=!1};function QO(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var m=f[0];f=f[1];var _=m.split("_");l=2<=_.length&&_[1]=="type"?l+(m+"="+f+"&"):l+(m+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+l})}function XO(t,e,n,i,r,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+l})}function ao(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+JO(t,n)+(i?" "+i:"")})}function YO(t,e){t.info(function(){return"TIMEOUT: "+e})}Zh.prototype.info=function(){};function JO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<r.length;l++)r[l]=""}}}}return pg(n)}catch{return e}}var Is={},Ny=null;function Kh(){return Ny=Ny||new xt}Is.Ta="serverreachability";function JT(t){Kt.call(this,Is.Ta,t)}At(JT,Kt);function El(t){const e=Kh();zt(e,new JT(e))}Is.STAT_EVENT="statevent";function e1(t,e){Kt.call(this,Is.STAT_EVENT,t),this.stat=e}At(e1,Kt);function en(t){const e=Kh();zt(e,new e1(e,t))}Is.Ua="timingevent";function t1(t,e){Kt.call(this,Is.Ua,t),this.size=e}At(t1,Kt);function Wl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var Qh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},n1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vg(){}vg.prototype.h=null;function Dy(t){return t.h||(t.h=t.i())}function i1(){}var Hl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yg(){Kt.call(this,"d")}At(yg,Kt);function wg(){Kt.call(this,"c")}At(wg,Kt);var Mp;function Xh(){}At(Xh,vg);Xh.prototype.g=function(){return new XMLHttpRequest};Xh.prototype.i=function(){return{}};Mp=new Xh;function ql(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new wl(this),this.P=eL,t=bp?125:void 0,this.V=new Gh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new r1}function r1(){this.i=null,this.g="",this.h=!1}var eL=45e3,s1={},Vp={};te=ql.prototype;te.setTimeout=function(t){this.P=t};function Fp(t,e,n){t.L=1,t.A=Jh($i(e)),t.u=n,t.S=!0,o1(t,null)}function o1(t,e){t.G=Date.now(),Gl(t),t.B=$i(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),p1(n.i,"t",i),t.o=0,n=t.l.J,t.h=new r1,t.g=D1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new KO(Zt(t.Pa,t,t.g),t.O)),XT(t.U,t.g,"readystatechange",t.nb),e=t.I?UT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),El(),QO(t.j,t.v,t.B,t.m,t.W,t.u)}te.nb=function(t){t=t.target;const e=this.M;e&&oi(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const m=oi(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>m)&&(m!=3||bp||this.g&&(this.h.h||this.g.ja()||zy(this.g)))){this.J||m!=4||e==7||(e==8||0>=_?El(3):El(2)),Yh(this);var n=this.g.da();this.ca=n;t:if(a1(this)){var i=zy(this.g);t="";var r=i.length,o=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Ua(this);var l="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,XO(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gl(c)){var f=c;break t}}f=null}if(n=f)ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zp(this,n);else{this.i=!1,this.s=3,en(12),Jr(this),Ua(this);break e}}this.S?(l1(this,m,l),bp&&this.i&&m==3&&(XT(this.U,this.V,"tick",this.mb),this.V.start())):(ao(this.j,this.m,l,null),zp(this,l)),m==4&&Jr(this),this.i&&!this.J&&(m==4?b1(this.l,this):(this.i=!1,Gl(this)))}else EL(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Jr(this),Ua(this)}}}catch{}finally{}};function a1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function l1(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=tL(t,n),r==Vp){e==4&&(t.s=4,en(14),i=!1),ao(t.j,t.m,null,"[Incomplete Response]");break}else if(r==s1){t.s=4,en(15),ao(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ao(t.j,t.m,r,null),zp(t,r);a1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,en(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kg(e),e.M=!0,en(11))):(ao(t.j,t.m,n,"[Invalid Chunked Response]"),Jr(t),Ua(t))}te.mb=function(){if(this.g){var t=oi(this.g),e=this.g.ja();this.o<e.length&&(Yh(this),l1(this,t,e),this.i&&t!=4&&Gl(this))}};function tL(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Vp:(n=Number(e.substring(n,i)),isNaN(n)?s1:(i+=1,i+n>e.length?Vp:(e=e.slice(i,i+n),t.o=i+n,e)))}te.cancel=function(){this.J=!0,Jr(this)};function Gl(t){t.Y=Date.now()+t.P,u1(t,t.P)}function u1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Wl(Zt(t.lb,t),e)}function Yh(t){t.C&&(Te.clearTimeout(t.C),t.C=null)}te.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(YO(this.j,this.B),this.L!=2&&(El(),en(17)),Jr(this),this.s=2,Ua(this)):u1(this,this.Y-t)};function Ua(t){t.l.H==0||t.J||b1(t.l,t)}function Jr(t){Yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gg(t.V),YT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Bp(n.i,t))){if(!t.K&&Bp(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rh(n),id(n);else break e;Pg(n),en(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wl(Zt(n.ib,n),6e3));if(1>=_1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else es(n,11)}else if((t.K||n.g==t)&&rh(n),!gl(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const m=f[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const _=f[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const E=f[5];E!=null&&typeof E=="number"&&0<E&&(i=1.5*E,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const I=t.g;if(I){const R=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var o=i.i;o.g||R.indexOf("spdy")==-1&&R.indexOf("quic")==-1&&R.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Eg(o,o.h),o.h=null))}if(i.F){const A=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(i.Da=A,Ze(i.I,i.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=N1(i,i.J?i.pa:null,i.Y),l.K){v1(i.i,l);var c=l,h=i.L;h&&c.setTimeout(h),c.C&&(Yh(c),Gl(c)),i.g=l}else R1(i);0<n.j.length&&rd(n)}else f[0]!="stop"&&f[0]!="close"||es(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?es(n,7):Ig(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}El(4)}catch{}}function nL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function iL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($h(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function c1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($h(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iL(t),i=nL(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var h1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function as(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof as){this.h=t.h,nh(this,t.j),this.s=t.s,this.g=t.g,ih(this,t.m),this.l=t.l;var e=t.i,n=new Tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),My(this,n),this.o=t.o}else t&&(e=String(t).match(h1))?(this.h=!1,nh(this,e[1]||"",!0),this.s=Ra(e[2]||""),this.g=Ra(e[3]||"",!0),ih(this,e[4]),this.l=Ra(e[5]||"",!0),My(this,e[6]||"",!0),this.o=Ra(e[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Aa(e,Vy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Aa(e,Vy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Aa(n,n.charAt(0)=="/"?aL:oL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Aa(n,uL)),t.join("")};function $i(t){return new as(t)}function nh(t,e,n){t.j=n?Ra(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ih(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function My(t,e,n){e instanceof Tl?(t.i=e,cL(t.i,t.h)):(n||(e=Aa(e,lL)),t.i=new Tl(e,t.h))}function Ze(t,e,n){t.i.set(e,n)}function Jh(t){return Ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ra(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Aa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Vy=/[#\/\?@]/g,oL=/[#\?:]/g,aL=/[#\?]/g,lL=/[#\?@]/g,uL=/#/g;function Tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vr(t){t.g||(t.g=new Map,t.h=0,t.i&&rL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=Tl.prototype;te.add=function(t,e){Vr(this),this.i=null,t=zo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function d1(t,e){Vr(t),e=zo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function f1(t,e){return Vr(t),e=zo(t,e),t.g.has(e)}te.forEach=function(t,e){Vr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};te.ta=function(){Vr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};te.Z=function(t){Vr(this);let e=[];if(typeof t=="string")f1(this,t)&&(e=e.concat(this.g.get(zo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return Vr(this),this.i=null,t=zo(this,t),f1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function p1(t,e,n){d1(t,e),0<n.length&&(t.i=null,t.g.set(zo(t,e),ag(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;l[i]!==""&&(r+="="+encodeURIComponent(String(l[i]))),t.push(r)}}return this.i=t.join("&")};function zo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cL(t,e){e&&!t.j&&(Vr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(d1(this,i),p1(this,r,n))},t)),t.j=e}var hL=class{constructor(t,e){this.g=t,this.map=e}};function m1(t){this.l=t||dL,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dL=10;function g1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _1(t){return t.h?1:t.g?t.g.size:0}function Bp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Eg(t,e){t.g?t.g.add(e):t.h=e}function v1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}m1.prototype.cancel=function(){if(this.i=y1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function y1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ag(t.i)}var fL=class{stringify(t){return Te.JSON.stringify(t,void 0)}parse(t){return Te.JSON.parse(t,void 0)}};function pL(){this.g=new fL}function mL(t,e,n){const i=n||"";try{c1(t,function(r,o){let l=r;jl(r)&&(l=pg(r)),e.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function gL(t,e){const n=new Zh;if(Te.Image){const i=new Image;i.onload=Gu(Ku,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Gu(Ku,n,i,"TestLoadImage: error",!1,e),i.onabort=Gu(Ku,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Gu(Ku,n,i,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Ku(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ed(t){this.l=t.ec||null,this.j=t.ob||!1}At(ed,vg);ed.prototype.g=function(){return new td(this.l,this.j)};ed.prototype.i=function(t){return function(){return t}}({});function td(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(td,xt);var Tg=0;te=td.prototype;te.open=function(t,e){if(this.readyState!=Tg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sl(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zl(this)),this.readyState=Tg};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function w1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zl(this):Sl(this),this.readyState==3&&w1(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,Zl(this))};te.Ya=function(t){this.g&&(this.response=t,Zl(this))};te.ka=function(){this.g&&Zl(this)};function Zl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sl(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _L=Te.JSON.parse;function ot(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E1,this.L=this.M=!1}At(ot,xt);var E1="",vL=/^https?$/i,yL=["POST","PUT"];te=ot.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mp.g(),this.C=this.u?Dy(this.u):Dy(Mp),this.g.onreadystatechange=Zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Fy(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Te.FormData&&t instanceof Te.FormData,!(0<=VT(yL,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{I1(this),0<this.B&&((this.L=wL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.ua,this)):this.A=_g(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Fy(this,o)}};function wL(t){return Co&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof og<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function Fy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,T1(t),nd(t)}function T1(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),nd(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),ot.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?S1(this):this.kb())};te.kb=function(){S1(this)};function S1(t){if(t.h&&typeof og<"u"&&(!t.C[1]||oi(t)!=4||t.da()!=2)){if(t.v&&oi(t)==4)_g(t.La,0,t);else if(zt(t,"readystatechange"),oi(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var r=String(t.I).match(h1)[1]||null;!r&&Te.self&&Te.self.location&&(r=Te.self.location.protocol.slice(0,-1)),i=!vL.test(r?r.toLowerCase():"")}n=i}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var o=2<oi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",T1(t)}}finally{nd(t)}}}}function nd(t,e){if(t.g){I1(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=i}catch{}}}function I1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function oi(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_L(e)}};function zy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function EL(t){const e={};t=(t.g&&2<=oi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(gl(t[i]))continue;var n=qO(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}zO(e,function(i){return i.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function P1(t){let e="";return ug(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Sg(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=P1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ze(t,e,n))}function va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function k1(t){this.Ga=0,this.j=[],this.l=new Zh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=va("baseRetryDelayMs",5e3,t),this.hb=va("retryDelaySeedMs",1e4,t),this.eb=va("forwardChannelMaxRetries",2,t),this.xa=va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new m1(t&&t.concurrentRequestLimit),this.Ja=new pL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=k1.prototype;te.ra=8;te.H=1;function Ig(t){if(C1(t),t.H==3){var e=t.W++,n=$i(t.I);if(Ze(n,"SID",t.K),Ze(n,"RID",e),Ze(n,"TYPE","terminate"),Kl(t,n),e=new ql(t,t.l,e),e.L=2,e.A=Jh($i(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon)try{n=Te.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Te.Image&&(new Image().src=e.A,n=!0),n||(e.g=D1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Gl(e)}L1(t)}function id(t){t.g&&(kg(t),t.g.cancel(),t.g=null)}function C1(t){id(t),t.u&&(Te.clearTimeout(t.u),t.u=null),rh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function rd(t){if(!g1(t.i)&&!t.m){t.m=!0;var e=t.Na;vl||KT(),yl||(vl(),yl=!0),mg.add(e,t),t.C=0}}function TL(t,e){return _1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wl(Zt(t.Na,t,e),O1(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ql(this,this.l,t);let o=this.s;if(this.U&&(o?(o=UT(o),jT(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=x1(this,r,e),n=$i(this.I),Ze(n,"RID",t),Ze(n,"CVER",22),this.F&&Ze(n,"X-HTTP-Session-Id",this.F),Kl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(P1(o)))+"&"+e:this.o&&Sg(n,this.o,o)),Eg(this.i,r),this.bb&&Ze(n,"TYPE","init"),this.P?(Ze(n,"$req",e),Ze(n,"SID","null"),r.aa=!0,Fp(r,n,null)):Fp(r,n,e),this.H=2}}else this.H==3&&(t?By(this,t):this.j.length==0||g1(this.i)||By(this))};function By(t,e){var n;e?n=e.m:n=t.W++;const i=$i(t.I);Ze(i,"SID",t.K),Ze(i,"RID",n),Ze(i,"AID",t.V),Kl(t,i),t.o&&t.s&&Sg(i,t.o,t.s),n=new ql(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=x1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Eg(t.i,n),Fp(n,i,e)}function Kl(t,e){t.na&&ug(t.na,function(n,i){Ze(e,i,n)}),t.h&&c1({},function(n,i){Ze(e,i,n)})}function x1(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Zt(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=r[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=r[h].g;const m=r[h].map;if(f-=o,0>f)o=Math.max(0,r[h].g-100),c=!1;else try{mL(m,l,"req"+f+"_")}catch{i&&i(m)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function R1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;vl||KT(),yl||(vl(),yl=!0),mg.add(e,t),t.A=0}}function Pg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wl(Zt(t.Ma,t),O1(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,A1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wl(Zt(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),id(this),A1(this))};function kg(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function A1(t){t.g=new ql(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$i(t.wa);Ze(e,"RID","rpc"),Ze(e,"SID",t.K),Ze(e,"AID",t.V),Ze(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ze(e,"TO",t.qa),Ze(e,"TYPE","xmlhttp"),Kl(t,e),t.o&&t.s&&Sg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Jh($i(e)),n.u=null,n.S=!0,o1(n,t)}te.ib=function(){this.v!=null&&(this.v=null,id(this),Pg(this),en(19))};function rh(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function b1(t,e){var n=null;if(t.g==e){rh(t),kg(t),t.g=null;var i=2}else if(Bp(t.i,e))n=e.F,v1(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Kh(),zt(i,new t1(i,n)),rd(t)}else R1(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&TL(t,e)||i==2&&Pg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:es(t,5);break;case 4:es(t,10);break;case 3:es(t,6);break;default:es(t,2)}}}function O1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function es(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Zt(t.pb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||nh(n,"https"),Jh(n)),gL(n.toString(),i)}else en(2);t.H=0,t.h&&t.h.za(e),L1(t),C1(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function L1(t){if(t.H=0,t.ma=[],t.h){const e=y1(t.i);(e.length!=0||t.j.length!=0)&&(Ay(t.ma,e),Ay(t.ma,t.j),t.i.i.length=0,ag(t.j),t.j.length=0),t.h.ya()}}function N1(t,e,n){var i=n instanceof as?$i(n):new as(n);if(i.g!="")e&&(i.g=e+"."+i.g),ih(i,i.m);else{var r=Te.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new as(null);i&&nh(o,i),e&&(o.g=e),r&&ih(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ze(i,n,e),Ze(i,"VER",t.ra),Kl(t,i),i}function D1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ot(new ed({ob:n})):new ot(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function M1(){}te=M1.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function sh(){if(Co&&!(10<=Number(DO)))throw Error("Environmental error: no available transport.")}sh.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){xt.call(this),this.g=new k1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Bo(this)}At(wn,xt);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=N1(t,null,t.Y),rd(t)};wn.prototype.close=function(){Ig(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=pg(t),t=n);e.j.push(new hL(e.fb++,t)),e.H==3&&rd(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,Ig(this.g),delete this.g,wn.$.N.call(this)};function V1(t){yg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(V1,yg);function F1(){wg.call(this),this.status=1}At(F1,wg);function Bo(t){this.g=t}At(Bo,M1);Bo.prototype.Ba=function(){zt(this.g,"a")};Bo.prototype.Aa=function(t){zt(this.g,new V1(t))};Bo.prototype.za=function(t){zt(this.g,new F1)};Bo.prototype.ya=function(){zt(this.g,"b")};function SL(){this.blockSize=-1}function pi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(pi,SL);pi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sf(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],l=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(l<<22&4294967295|l>>>10),l=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(l<<22&4294967295|l>>>10),l=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(l<<22&4294967295|l>>>10),l=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(l<<17&4294967295|l>>>15),l=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(l<<22&4294967295|l>>>10),l=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(l<<20&4294967295|l>>>12),l=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(l<<20&4294967295|l>>>12),l=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(l<<20&4294967295|l>>>12),l=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(l<<20&4294967295|l>>>12),l=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(l<<23&4294967295|l>>>9),l=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(l<<23&4294967295|l>>>9),l=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(l<<23&4294967295|l>>>9),l=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(l<<16&4294967295|l>>>16),l=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(l<<23&4294967295|l>>>9),l=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(l<<21&4294967295|l>>>11),l=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(l<<21&4294967295|l>>>11),l=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(l<<21&4294967295|l>>>11),l=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(l<<15&4294967295|l>>>17),l=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}pi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)Sf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){Sf(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){Sf(this,i),r=0;break}}this.h=r,this.i+=e};pi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ue(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var IL={};function Cg(t){return-128<=t&&128>t?OO(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function ai(t){if(isNaN(t)||!isFinite(t))return _o;if(0>t)return Mt(ai(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Up;return new Ue(e,0)}function z1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Mt(z1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ai(Math.pow(e,8)),i=_o,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),l=parseInt(t.substring(r,r+o),e);8>o?(o=ai(Math.pow(e,o)),i=i.R(o).add(ai(l))):(i=i.R(n),i=i.add(ai(l)))}return i}var Up=4294967296,_o=Cg(0),jp=Cg(1),Uy=Cg(16777216);te=Ue.prototype;te.ea=function(){if(Rn(this))return-Mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Up+i)*e,e*=Up}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ni(this))return"0";if(Rn(this))return"-"+Mt(this).toString(t);for(var e=ai(Math.pow(t,6)),n=this,i="";;){var r=ah(n,e).g;n=oh(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Ni(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ni(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}te.X=function(t){return t=oh(this,t),Rn(t)?-1:Ni(t)?0:1};function Mt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ue(n,~t.h).add(jp)}te.abs=function(){return Rn(this)?Mt(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),l=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=l>>>16,o&=65535,l&=65535,n[r]=l<<16|o}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function oh(t,e){return t.add(Mt(e))}te.R=function(t){if(Ni(this)||Ni(t))return _o;if(Rn(this))return Rn(t)?Mt(this).R(Mt(t)):Mt(Mt(this).R(t));if(Rn(t))return Mt(this.R(Mt(t)));if(0>this.X(Uy)&&0>t.X(Uy))return ai(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(r)>>>16,h=t.D(r)&65535;n[2*i+2*r]+=l*h,Qu(n,2*i+2*r),n[2*i+2*r+1]+=o*h,Qu(n,2*i+2*r+1),n[2*i+2*r+1]+=l*c,Qu(n,2*i+2*r+1),n[2*i+2*r+2]+=o*c,Qu(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ue(n,0)};function Qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ya(t,e){this.g=t,this.h=e}function ah(t,e){if(Ni(e))throw Error("division by zero");if(Ni(t))return new ya(_o,_o);if(Rn(t))return e=ah(Mt(t),e),new ya(Mt(e.g),Mt(e.h));if(Rn(e))return e=ah(t,Mt(e)),new ya(Mt(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=jp,i=e;0>=i.X(t);)n=jy(n),i=jy(i);var r=Hs(n,1),o=Hs(i,1);for(i=Hs(i,2),n=Hs(n,2);!Ni(i);){var l=o.add(i);0>=l.X(t)&&(r=r.add(n),o=l),i=Hs(i,1),n=Hs(n,1)}return e=oh(t,r.R(e)),new ya(r,e)}for(r=_o;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=ai(n),l=o.R(e);Rn(l)||0<l.X(t);)n-=i,o=ai(n),l=o.R(e);Ni(o)&&(o=jp),r=r.add(o),t=oh(t,l)}return new ya(r,t)}te.gb=function(t){return ah(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ue(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ue(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ue(n,this.h^t.h)};function jy(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ue(n,t.h)}function Hs(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ue(r,t.h)}sh.prototype.createWebChannel=sh.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;Qh.NO_ERROR=0;Qh.TIMEOUT=8;Qh.HTTP_ERROR=6;n1.COMPLETE="complete";i1.EventType=Hl;Hl.OPEN="a";Hl.CLOSE="b";Hl.ERROR="c";Hl.MESSAGE="d";xt.prototype.listen=xt.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;pi.prototype.digest=pi.prototype.l;pi.prototype.reset=pi.prototype.reset;pi.prototype.update=pi.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=ai;Ue.fromString=z1;var PL=function(){return new sh},kL=function(){return Kh()},If=Qh,CL=n1,xL=Is,$y={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xu=i1,RL=ot,AL=Ue;const Wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Zm("@firebase/firestore");function wa(){return vs.logLevel}function se(t,...e){if(vs.logLevel<=Re.DEBUG){const n=e.map(xg);vs.debug(`Firestore (${Uo}): ${t}`,...n)}}function Cr(t,...e){if(vs.logLevel<=Re.ERROR){const n=e.map(xg);vs.error(`Firestore (${Uo}): ${t}`,...n)}}function lh(t,...e){if(vs.logLevel<=Re.WARN){const n=e.map(xg);vs.warn(`Firestore (${Uo}): ${t}`,...n)}}function xg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Rt(t,e){t||Ae()}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class OL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LL{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt(typeof i.accessToken=="string"),new B1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new Ht(e)}}class NL{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DL{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new NL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ML{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new ML(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=FL(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function He(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ct(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new Ct(0,0))}static max(){return new et(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),l=n.get(r);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends Il{construct(e,n,i){return new ft(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const zL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Il{construct(e,n,i){return new Vt(e,n,i)}static isValidIdentifier(e){return zL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(i+=c,r++):(o(),r++)}if(o(),l)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(ft.fromString(e))}static fromName(e){return new Pe(ft.fromString(e).popFirst(5))}static empty(){return new Pe(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new ft(e.slice()))}}function BL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=et.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new xr(r,Pe.empty(),e)}function UL(t){return new xr(t.readTime,t.key,-1)}class xr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new xr(et.min(),Pe.empty(),-1)}static max(){return new xr(et.max(),Pe.empty(),-1)}}function jL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==$L)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,i)=>{n(e)})}static reject(e){return new j((n,i)=>{i(e)})}static waitFor(e){return new j((n,i)=>{let r=0,o=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++o,l&&o===r&&n()},h=>i(h))}),l=!0,o===r&&n()})}static or(e){let n=j.resolve(!1);for(const i of e)n=n.next(r=>r?j.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new j((i,r)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{l[f]=m,++c,c===o&&i(l)},m=>r(m))}})}static doWhile(e,n){return new j((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Sr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ja(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=Ag(i.target.error);this.V.reject(new ja(e,r))}}static open(e,n,i,r){try{return new Rg(n,e.transaction(r,i))}catch(o){throw new ja(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new qL(n)}}class ts{constructor(e,n,i){this.name=e,this.version=n,this.p=i,ts.S(mt())===12.2&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Zr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!XE())return!1;if(ts.C())return!0;const e=mt(),n=ts.S(e),i=0<n&&n<10,r=ts.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{const l=o.target.result;n(l)},r.onblocked=()=>{i(new ja(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const l=o.target.error;l.name==="VersionError"?i(new me(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?i(new me(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):i(new ja(e,l))},r.onupgradeneeded=o=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.p.N(l,r.transaction,o.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,r){const o=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.O(e);const c=Rg.open(this.db,e,o?"readonly":"readwrite",i),h=r(c).next(f=>(c.g(),f)).catch(f=>(c.abort(f),j.reject(f))).toPromise();return h.catch(()=>{}),await c.m,h}catch(c){const h=c,f=h.name!=="FirebaseError"&&l<3;if(se("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}class HL{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Zr(this.k.delete())}}class ja extends me{constructor(e,n){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sd(t){return t.name==="IndexedDbTransactionError"}class qL{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(se("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Zr(i)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Zr(this.store.add(e))}get(e){return Zr(this.store.get(e)).next(n=>(n===void 0&&(n=null),se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Zr(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Zr(this.store.count())}W(e,n){const i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const o=r.getAll(i.range);return new j((l,c)=>{o.onerror=h=>{c(h.target.error)},o.onsuccess=h=>{l(h.target.result)}})}{const o=this.cursor(i),l=[];return this.G(o,(c,h)=>{l.push(h)}).next(()=>l)}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new j((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}H(e,n){se("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const r=this.cursor(i);return this.G(r,(o,l,c)=>c.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.G(r,n)}Z(e){const n=this.cursor({});return new j((i,r)=>{n.onerror=o=>{const l=Ag(o.target.error);r(l)},n.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(c=>{c?l.continue():i()}):i()}})}G(e,n){const i=[];return new j((r,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void r();const h=new HL(c),f=n(c.primaryKey,c.value,h);if(f instanceof j){const m=f.catch(_=>(h.done(),j.reject(_)));i.push(m)}h.isDone?r():h.$===null?c.continue():c.continue(h.$)}}).next(()=>j.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Zr(t){return new j((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=Ag(i.target.error);n(r)}})}let Hy=!1;function Ag(t){const e=ts.S(mt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hy||(Hy=!0,setTimeout(()=>{throw i},0)),i}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}$1._e=-1;function bg(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function GL(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Nt.RED,this.left=r??Nt.EMPTY,this.right=o??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Nt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gy(this.data.getIterator())}getIteratorFrom(e){return new Gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class Gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Qt(Vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZL("Invalid base64 string: "+o):o}}(e);return new Wi(n)}static fromUint8Array(e){const n=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Wi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const KL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Rt(!!t),typeof t=="string"){let e=0;const n=KL.exec(t);if(Rt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pl(t){return typeof t=="string"?Wi.fromBase64String(t):Wi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H1(t){const e=t.mapValue.fields.__previous_value__;return Og(e)?H1(e):e}function ch(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,i,r,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class hh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Og(t)?4:XL(t)?9007199254740991:10:Ae()}function mi(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=ys(r.timestampValue),c=ys(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Pl(r.bytesValue).isEqual(Pl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Dt(r.geoPointValue.latitude)===Dt(o.geoPointValue.latitude)&&Dt(r.geoPointValue.longitude)===Dt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Dt(r.integerValue)===Dt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Dt(r.doubleValue),c=Dt(o.doubleValue);return l===c?uh(l)===uh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(r,o){const l=r.mapValue.fields||{},c=o.mapValue.fields||{};if(qy(l)!==qy(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!mi(l[h],c[h])))return!1;return!0}(t,e);default:return Ae()}}function kl(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=Ro(t),i=Ro(e);if(n!==i)return He(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Dt(o.integerValue||o.doubleValue),h=Dt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Zy(t.timestampValue,e.timestampValue);case 4:return Zy(ch(t),ch(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Pl(o),h=Pl(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=He(c[f],h[f]);if(m!==0)return m}return He(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=He(Dt(o.latitude),Dt(l.latitude));return c!==0?c:He(Dt(o.longitude),Dt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],h=l.values||[];for(let f=0;f<c.length&&f<h.length;++f){const m=Ao(c[f],h[f]);if(m)return m}return He(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Ju.mapValue&&l===Ju.mapValue)return 0;if(o===Ju.mapValue)return 1;if(l===Ju.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const E=He(h[_],m[_]);if(E!==0)return E;const I=Ao(c[h[_]],f[m[_]]);if(I!==0)return I}return He(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Zy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ys(t),i=ys(e),r=He(n.seconds,i.seconds);return r!==0?r:He(n.nanos,i.nanos)}function bo(t){return $p(t)}function $p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ys(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=$p(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${$p(n.fields[l])}`;return r+"}"}(t.mapValue):Ae()}function Wp(t){return!!t&&"integerValue"in t}function Lg(t){return!!t&&"arrayValue"in t}function yc(t){return!!t&&"mapValue"in t}function $a(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=$a(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$a(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(n)}setAll(e){let n=Vt.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=c.popLast()}l?i[c.lastSegment()]=$a(l):r.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ql(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new $n($a(this.value))}}function q1(t){const e=[];return Ql(t.fields,(n,i)=>{const r=new Vt([n]);if(yc(i)){const o=q1(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,i,r,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new jn(e,0,et.min(),et.min(),et.min(),$n.empty(),0)}static newFoundDocument(e,n,i,r){return new jn(e,1,n,et.min(),i,r,0)}static newNoDocument(e,n){return new jn(e,2,n,et.min(),et.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,et.min(),et.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function Ky(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?i=Pe.comparator(Pe.fromName(l.referenceValue),n.key):i=Ao(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function YL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class Pt extends G1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new eN(e,n,i):n==="array-contains"?new iN(e,i):n==="in"?new rN(e,i):n==="not-in"?new sN(e,i):n==="array-contains-any"?new oN(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new tN(e,i):new nN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Rr(e,n)}matches(e){return Z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Z1(t){return t.op==="and"}function K1(t){return JL(t)&&Z1(t)}function JL(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Hp(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(K1(t))return t.filters.map(e=>Hp(e)).join(",");{const e=t.filters.map(n=>Hp(n)).join(",");return`${t.op}(${e})`}}function Q1(t,e){return t instanceof Pt?function(i,r){return r instanceof Pt&&i.op===r.op&&i.field.isEqual(r.field)&&mi(i.value,r.value)}(t,e):t instanceof Rr?function(i,r){return r instanceof Rr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,c)=>o&&Q1(l,r.filters[c]),!0):!1}(t,e):void Ae()}function X1(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(X1).join(" ,")+"}"}(t):"Filter"}class eN extends Pt{constructor(e,n,i){super(e,n,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class tN extends Pt{constructor(e,n){super(e,"in",n),this.keys=Y1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nN extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=Y1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class iN extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lg(n)&&kl(n.arrayValue,this.value)}}class rN extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class sN extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kl(this.value.arrayValue,n)}}class oN extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>kl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n=null,i=[],r=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function Xy(t,e=null,n=[],i=[],r=null,o=null,l=null){return new aN(t,e,n,i,r,o,l)}function Ng(t){const e=Qe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Hp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),bg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>bo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>bo(i)).join(",")),e.ce=n}return e.ce}function Dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qy(t.startAt,e.startAt)&&Qy(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n=null,i=[],r=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lN(t,e,n,i,r,o,l,c){return new od(t,e,n,i,r,o,l,c)}function uN(t){return new od(t)}function Yy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cN(t){return t.collectionGroup!==null}function Wa(t){const e=Qe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Qt(Vt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new fh(o,i))}),n.has(Vt.keyField().canonicalString())||e.le.push(new fh(Vt.keyField(),i))}return e.le}function ls(t){const e=Qe(t);return e.he||(e.he=hN(e,Wa(t))),e.he}function hN(t,e){if(t.limitType==="F")return Xy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new fh(r.field,o)});const n=t.endAt?new dh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new dh(t.startAt.position,t.startAt.inclusive):null;return Xy(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function qp(t,e,n){return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function J1(t,e){return Dg(ls(t),ls(e))&&t.limitType===e.limitType}function eS(t){return`${Ng(ls(t))}|lt:${t.limitType}`}function Ea(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>X1(r)).join(", ")}]`),bg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>bo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>bo(r)).join(",")),`Target(${i})`}(ls(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Wa(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,c,h){const f=Ky(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Wa(i),r)||i.endAt&&!function(l,c,h){const f=Ky(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Wa(i),r))}(t,e)}function dN(t){return(e,n)=>{let i=!1;for(const r of Wa(t)){const o=fN(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function fN(t,e,n){const i=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Ao(h,f):Ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new fn(Pe.comparator);function ph(){return pN}const tS=new fn(Pe.comparator);function ec(...t){let e=tS;for(const n of t)e=e.insert(n.key,n);return e}function nS(t){let e=tS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ns(){return Ha()}function iS(){return Ha()}function Ha(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const mN=new fn(Pe.comparator),gN=new Qt(Pe.comparator);function Gt(...t){let e=gN;for(const n of t)e=e.add(n);return e}const _N=new Qt(He);function vN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function sS(t){return{integerValue:""+t}}function yN(t,e){return GL(e)?sS(e):rS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function wN(t,e,n){return t instanceof mh?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Og(o)&&(o=H1(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Cl?aS(t,e):t instanceof xl?lS(t,e):function(r,o){const l=oS(r,o),c=Jy(l)+Jy(r.Ie);return Wp(l)&&Wp(r.Ie)?sS(c):rS(r.serializer,c)}(t,e)}function EN(t,e,n){return t instanceof Cl?aS(t,e):t instanceof xl?lS(t,e):n}function oS(t,e){return t instanceof gh?function(i){return Wp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class mh extends ad{}class Cl extends ad{constructor(e){super(),this.elements=e}}function aS(t,e){const n=uS(e);for(const i of t.elements)n.some(r=>mi(r,i))||n.push(i);return{arrayValue:{values:n}}}class xl extends ad{constructor(e){super(),this.elements=e}}function lS(t,e){let n=uS(e);for(const i of t.elements)n=n.filter(r=>!mi(r,i));return{arrayValue:{values:n}}}class gh extends ad{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Jy(t){return Dt(t.integerValue||t.doubleValue)}function uS(t){return Lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TN(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Cl&&r instanceof Cl||i instanceof xl&&r instanceof xl?xo(i.elements,r.elements,mi):i instanceof gh&&r instanceof gh?mi(i.Ie,r.Ie):i instanceof mh&&r instanceof mh}(t.transform,e.transform)}class SN{constructor(e,n){this.version=e,this.transformResults=n}}class Mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function cS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dS(t.key,Mi.none()):new Xl(t.key,t.data,Mi.none());{const n=t.data,i=$n.empty();let r=new Qt(Vt.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Ps(t.key,i,new Wn(r.toArray()),Mi.none())}}function IN(t,e,n){t instanceof Xl?function(r,o,l){const c=r.value.clone(),h=t0(r.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(r,o,l){if(!wc(r.precondition,o))return void o.convertToUnknownDocument(l.version);const c=t0(r.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(hS(r)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,i){return t instanceof Xl?function(o,l,c,h){if(!wc(o.precondition,l))return c;const f=o.value.clone(),m=n0(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ps?function(o,l,c,h){if(!wc(o.precondition,l))return c;const f=n0(o.fieldTransforms,h,l),m=l.data;return m.setAll(hS(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(o,l,c){return wc(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function PN(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=oS(i.transform,r||null);o!=null&&(n===null&&(n=$n.empty()),n.set(i.field,o))}return n||null}function e0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&xo(i,r,(o,l)=>TN(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends ld{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ps extends ld{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function t0(t,e,n){const i=new Map;Rt(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,c=e.data.field(o.field);i.set(o.field,EN(l,c,n[r]))}return i}function n0(t,e,n){const i=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);i.set(r.field,wN(o,l,e))}return i}class dS extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kN extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&IN(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=qa(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=qa(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=iS();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(r.key)?null:c;const h=cS(l,c);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Gt())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,i)=>e0(n,i))&&xo(this.baseMutations,e.baseMutations,(n,i)=>e0(n,i))}}class Vg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Rt(e.mutations.length===i.length);let r=function(){return mN}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Vg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function RN(t){switch(t){default:return Ae();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function AN(t){if(t===void 0)return Cr("GRPC error has no .code"),Z.UNKNOWN;switch(t){case dt.OK:return Z.OK;case dt.CANCELLED:return Z.CANCELLED;case dt.UNKNOWN:return Z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Z.INTERNAL;case dt.UNAVAILABLE:return Z.UNAVAILABLE;case dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case dt.NOT_FOUND:return Z.NOT_FOUND;case dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case dt.ABORTED:return Z.ABORTED;case dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case dt.DATA_LOSS:return Z.DATA_LOSS;default:return Ae()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new AL([4294967295,4294967295],0);class bN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ON(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LN(t,e){return Gp(t,e.toTimestamp())}function vo(t){return Rt(!!t),et.fromTimestamp(function(n){const i=ys(n);return new Ct(i.seconds,i.nanos)}(t))}function fS(t,e){return Zp(t,e).canonicalString()}function Zp(t,e){const n=function(r){return new ft(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NN(t){const e=ft.fromString(t);return Rt(jN(e)),e}function Kp(t,e){return fS(t.databaseId,e.path)}function DN(t){const e=NN(t);return e.length===4?ft.emptyPath():VN(e)}function MN(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VN(t){return Rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function i0(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function FN(t,e){let n;if(e instanceof Xl)n={update:i0(t,e.key,e.value)};else if(e instanceof dS)n={delete:Kp(t,e.key)};else if(e instanceof Ps)n={update:i0(t,e.key,e.data),updateMask:UN(e.fieldMask)};else{if(!(e instanceof kN))return Ae();n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof mh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Cl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:LN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae()}(t,e.precondition)),n}function zN(t,e){return t&&t.length>0?(Rt(e!==void 0),t.map(n=>function(r,o){let l=r.updateTime?vo(r.updateTime):vo(o);return l.isEqual(et.min())&&(l=vo(o)),new SN(l,r.transformResults||[])}(n,e))):[]}function BN(t){let e=DN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Rt(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(_){const E=pS(_);return E instanceof Rr&&K1(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(R){return new fh(Gs(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(_){let E;return E=typeof _=="object"?_.value:_,bg(E)?null:E}(n.limit));let h=null;n.startAt&&(h=function(_){const E=!!_.before,I=_.values||[];return new dh(I,E)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const E=!_.before,I=_.values||[];return new dh(I,E)}(n.endAt)),lN(e,r,l,o,c,"F",h,f)}function pS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Gs(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Gs(n.unaryFilter.field);return Pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gs(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Gs(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Gs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(i=>pS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function Gs(t){return Vt.fromServerFormat(t.fieldPath)}function UN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.ct=e}}function WN(t){const e=BN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this._n=new qN}addToCollectionParentIndex(e,n){return this._n.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(xr.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class qN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Qt(ft.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Oo(0)}static Ln(){return new Oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&qa(i.mutation,r,Wn.empty(),Ct.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Gt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Gt()){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let l=ec();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Gt()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,r){let o=ph();const l=Ha(),c=function(){return Ha()}();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof Ps)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),qa(m.mutation,f,m.mutation.getFieldMask(),Ct.now())):l.set(f.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var _;return c.set(f,new ZN(m,(_=l.get(f))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Ha();let r=new fn((l,c)=>l-c),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||Wn.empty();m=c.applyToLocalView(f,m),i.set(h,m);const _=(r.get(c.batchId)||Gt()).add(h);r=r.insert(c.batchId,_)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,_=iS();m.forEach(E=>{if(!o.has(E)){const I=cS(n.get(E),i.get(E));I!==null&&_.set(E,I),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return j.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):j.resolve(ns());let c=-1,h=o;return l.next(f=>j.forEach(f,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(m)?j.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{h=h.insert(m,E)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Gt())).next(m=>({batchId:c,changes:nS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(i=>{let r=ec();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let l=ec();return this.indexManager.getCollectionParents(e,o).next(c=>j.forEach(c,h=>{const f=function(_,E){return new od(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,jn.newInvalidDocument(m)))});let c=ec();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&qa(m.mutation,f,Wn.empty(),Ct.now()),Mg(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return j.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:vo(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:WN(r.bundledQuery),readTime:vo(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.overlays=new fn(Pe.comparator),this.hr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ns();return j.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){const r=ns(),o=n.length+1,l=new Pe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new fn((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=ns(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=ns(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=r)););return j.resolve(c)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new xN(n,i));let o=this.hr.get(n);o===void 0&&(o=Gt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Pr=new Qt(St.Ir),this.Tr=new Qt(St.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new St(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new St(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new Pe(new ft([])),i=new St(n,e),r=new St(n,e+1),o=[];return this.Tr.forEachInRange([i,r],l=>{this.Ar(l),o.push(l.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Pe(new ft([])),i=new St(n,e),r=new St(n,e+1);let o=Gt();return this.Tr.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new St(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Pe.comparator(e.key,n.key)||He(e.pr,n.pr)}static Er(e,n){return He(e.pr,n.pr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qt(St.Ir)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new CN(o,n,i,r);this.mutationQueue.push(l);for(const c of r)this.wr=this.wr.add(new St(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(l)}lookupMutationBatch(e,n){return j.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),o=r<0?0:r;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new St(n,0),r=new St(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],l=>{const c=this.Sr(l.pr);o.push(c)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(He);return n.forEach(r=>{const o=new St(r,0),l=new St(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,l],c=>{i=i.add(c.pr)})}),j.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Pe.isDocumentKey(o)||(o=o.child(""));const l=new St(new Pe(o),0);let c=new Qt(He);return this.wr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(h.pr)),!0)},l),j.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return j.forEach(n.mutations,r=>{const o=new St(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new St(n,0),r=this.wr.firstAfterOrEqual(i);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.vr=e,this.docs=function(){return new fn(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let i=ph();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():jn.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ph();const l=n.path,c=new Pe(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||jL(UL(m),i)<=0||(r.has(m.key)||Mg(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ae()}Fr(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new eD(this)}getSize(e){return j.resolve(this.size)}}class eD extends GN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.persistence=e,this.Mr=new jo(n=>Ng(n),Dg),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fg,this.targetCount=0,this.Lr=Oo.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),j.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.qn(n),j.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Mr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),j.waitFor(o).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),j.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.Br={},this.overlays={},this.kr=new $1(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new tD(this),this.indexManager=new HN,this.remoteDocumentCache=function(r){return new JN(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new $N(n),this.$r=new QN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new YN(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){se("MemoryPersistence","Starting transaction:",e);const r=new iD(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return j.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class iD extends WL{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.zr=new Fg,this.jr=null}static Hr(e){return new zg(e)}get Jr(){if(this.jr)return this.jr;throw Ae()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),j.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Jr,i=>{const r=Pe.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,et.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return j.or([()=>j.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Gt(),r=Gt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Bg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return px()?8:ts.v(mt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ji(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new rD;return this.Ji(e,n,l).next(c=>{if(o.result=c,this.Ui)return this.Yi(e,n,l,c.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(wa()<=Re.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),j.resolve()):(wa()<=Re.DEBUG&&se("QueryEngine","Query:",Ea(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(wa()<=Re.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):j.resolve())}ji(e,n){if(Yy(n))return j.resolve(null);let i=ls(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=qp(n,null,"F"),i=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Gt(...o);return this.zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Zi(n,c);return this.Xi(n,f,l,h.readTime)?this.ji(e,qp(n,null,"F")):this.es(e,f,n,h)}))})))}Hi(e,n,i,r){return Yy(n)||r.isEqual(et.min())?j.resolve(null):this.zi.getDocuments(e,i).next(o=>{const l=this.Zi(n,o);return this.Xi(n,l,i,r)?j.resolve(null):(wa()<=Re.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ea(n)),this.es(e,l,n,BL(r,-1)).next(c=>c))})}Zi(e,n){let i=new Qt(dN(e));return n.forEach((r,o)=>{Mg(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return wa()<=Re.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ea(n)),this.zi.getDocumentsMatchingQuery(e,n,xr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new fn(He),this.rs=new jo(o=>Ng(o),Dg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function aD(t,e,n,i){return new oD(t,e,n,i)}async function mS(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=Gt();for(const f of r){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({us:f,removedBatchIds:l,addedBatchIds:c}))})})}function lD(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(c,h,f,m){const _=f.batch,E=_.keys();let I=j.resolve();return E.forEach(R=>{I=I.next(()=>m.getEntry(h,R)).next(A=>{const D=f.docVersions.get(R);Rt(D!==null),A.version.compareTo(D)<0&&(_.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),m.addEntry(A)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Gt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function uD(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function cD(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class r0{constructor(){this.activeTargetIds=vN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hD{constructor(){this.no=new r0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function Pf(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class mD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,l){const c=Pf(),h=this.bo(n,i.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,o,l),this.Co(n,h,f,r).then(m=>(se("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw lh("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",h,"request:",r),m})}vo(n,i,r,o,l,c){return this.So(n,i,r,o,l)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),r&&r.headers.forEach((o,l)=>n[l]=o)}bo(n,i){const r=fD[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){const o=Pf();return new Promise((l,c)=>{const h=new RL;h.setWithCredentials(!0),h.listenOnce(CL.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case If.NO_ERROR:const m=h.getResponseJson();se(Wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case If.TIMEOUT:se(Wt,`RPC '${e}' ${o} timed out`),c(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const _=h.getStatus();if(se(Wt,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const R=function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(k)>=0?k:Z.UNKNOWN}(I.status);c(new me(R,I.message))}else c(new me(Z.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{se(Wt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);se(Wt,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",f,i,15)})}Fo(e,n,i){const r=Pf(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PL(),c=kL(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");se(Wt,`Creating RPC '${e}' stream ${r}: ${m}`,h);const _=l.createWebChannel(m,h);let E=!1,I=!1;const R=new pD({lo:D=>{I?se(Wt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(E||(se(Wt,`Opening RPC '${e}' stream ${r} transport.`),_.open(),E=!0),se(Wt,`RPC '${e}' stream ${r} sending:`,D),_.send(D))},ho:()=>_.close()}),A=(D,k,T)=>{D.listen(k,x=>{try{T(x)}catch(F){setTimeout(()=>{throw F},0)}})};return A(_,Xu.EventType.OPEN,()=>{I||se(Wt,`RPC '${e}' stream ${r} transport opened.`)}),A(_,Xu.EventType.CLOSE,()=>{I||(I=!0,se(Wt,`RPC '${e}' stream ${r} transport closed`),R.Vo())}),A(_,Xu.EventType.ERROR,D=>{I||(I=!0,lh(Wt,`RPC '${e}' stream ${r} transport errored:`,D),R.Vo(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),A(_,Xu.EventType.MESSAGE,D=>{var k;if(!I){const T=D.data[0];Rt(!!T);const x=T,F=x.error||((k=x[0])===null||k===void 0?void 0:k.error);if(F){se(Wt,`RPC '${e}' stream ${r} received error:`,F);const Q=F.status;let J=function(be){const Ee=dt[be];if(Ee!==void 0)return AN(Ee)}(Q),ne=F.message;J===void 0&&(J=Z.INTERNAL,ne="Unknown error status: "+Q+" with message "+F.message),I=!0,R.Vo(new me(J,ne)),_.close()}else se(Wt,`RPC '${e}' stream ${r} received:`,T),R.mo(T)}}),A(c,xL.STAT_EVENT,D=>{D.stat===$y.PROXY?se(Wt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===$y.NOPROXY&&se(Wt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.Ro()},0),R}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return new bN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,i,r,o,l,c,h){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gS(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{const r=new me(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){const i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _D extends gD{constructor(e,n,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=zN(e.writeResults,e.commitTime),i=vo(e.commitTime);return this.listener.T_(i,n)}return Rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=MN(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>FN(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,Zp(n,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(Z.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.vo(e,Zp(n,i),r,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(Z.UNKNOWN,l.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class yD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Cr(n),this.g_=!1):se("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(l=>{i.enqueueAndForget(async()=>{Jl(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=Qe(h);f.v_.add(4),await Yl(f),f.x_.set("Unknown"),f.v_.delete(4),await cd(f)}(this))})}),this.x_=new yD(i,r)}}async function cd(t){if(Jl(t))for(const e of t.F_)await e(!0)}async function Yl(t){for(const e of t.F_)await e(!1)}function Jl(t){return Qe(t).v_.size===0}async function _S(t,e,n){if(!sd(e))throw e;t.v_.add(1),await Yl(t),t.x_.set("Offline"),n||(n=()=>uD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await cd(t)})}function vS(t,e){return e().catch(n=>_S(t,n,e))}async function hd(t){const e=Qe(t),n=Ar(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;ED(e);)try{const r=await cD(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,TD(e,r)}catch(r){await _S(e,r)}yS(e)&&wS(e)}function ED(t){return Jl(t)&&t.D_.length<10}function TD(t,e){t.D_.push(e);const n=Ar(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function yS(t){return Jl(t)&&!Ar(t).Ho()&&t.D_.length>0}function wS(t){Ar(t).start()}async function SD(t){Ar(t).d_()}async function ID(t){const e=Ar(t);for(const n of t.D_)e.I_(n.mutations)}async function PD(t,e,n){const i=t.D_.shift(),r=Vg.from(i,e,n);await vS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await hd(t)}async function kD(t,e){e&&Ar(t).P_&&await async function(i,r){if(function(l){return RN(l)&&l!==Z.ABORTED}(r.code)){const o=i.D_.shift();Ar(i).Zo(),await vS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await hd(i)}}(t,e),yS(t)&&wS(t)}async function o0(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=Jl(n);n.v_.add(3),await Yl(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await cd(n)}async function CD(t,e){const n=Qe(t);e?(n.v_.delete(2),await cd(n)):e||(n.v_.add(2),await Yl(n),n.x_.set("Unknown"))}function Ar(t){return t.L_||(t.L_=function(n,i,r){const o=Qe(n);return o.R_(),new _D(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:SD.bind(null,t),To:kD.bind(null,t),E_:ID.bind(null,t),T_:PD.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await hd(t)):(await t.L_.stop(),t.D_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const l=Date.now()+i,c=new Ug(e,n,l,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ES(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),sd(t))return new me(Z.UNAVAILABLE,`${e}: ${t}`);throw t}class xD{constructor(){this.queries=new jo(e=>eS(e),J1),this.onlineState="Unknown",this.W_=new Set}}function RD(t){t.W_.forEach(e=>{e.next()})}var a0,l0;(l0=a0||(a0={})).j_="default",l0.Cache="cache";class AD{constructor(e,n,i,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.ya={},this.wa=new jo(c=>eS(c),J1),this.Sa=new Map,this.ba=new Set,this.Da=new fn(Pe.comparator),this.Ca=new Map,this.va=new Fg,this.Fa={},this.Ma=new Map,this.xa=Oo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function bD(t,e,n){const i=DD(t);try{const r=await function(l,c){const h=Qe(l),f=Ct.now(),m=c.reduce((I,R)=>I.add(R.key),Gt());let _,E;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=ph(),A=Gt();return h.os.getEntries(I,m).next(D=>{R=D,R.forEach((k,T)=>{T.isValidDocument()||(A=A.add(k))})}).next(()=>h.localDocuments.getOverlayedDocuments(I,R)).next(D=>{_=D;const k=[];for(const T of c){const x=PN(T,_.get(T.key).overlayedDocument);x!=null&&k.push(new Ps(T.key,x,q1(x.value.mapValue),Mi.exists(!0)))}return h.mutationQueue.addMutationBatch(I,f,k,c)}).next(D=>{E=D;const k=D.applyToLocalDocumentSet(_,A);return h.documentOverlayCache.saveOverlays(I,D.batchId,k)})}).then(()=>({batchId:E.batchId,changes:nS(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,c,h){let f=l.Fa[l.currentUser.toKey()];f||(f=new fn(He)),f=f.insert(c,h),l.Fa[l.currentUser.toKey()]=f}(i,r.batchId,n),await dd(i,r.changes),await hd(i.remoteStore)}catch(r){const o=ES(r,"Failed to persist write");n.reject(o)}}function u0(t,e,n){const i=Qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wa.forEach((o,l)=>{const c=l.view.G_(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const h=Qe(l);h.onlineState=c;let f=!1;h.queries.forEach((m,_)=>{for(const E of _.Q_)E.G_(c)&&(f=!0)}),f&&RD(h)}(i.eventManager,e),r.length&&i.ya.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OD(t,e){const n=Qe(t),i=e.batch.batchId;try{const r=await lD(n.localStore,e);SS(n,i,null),TS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dd(n,r)}catch(r){await j1(r)}}async function LD(t,e,n){const i=Qe(t);try{const r=await function(l,c){const h=Qe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next(_=>(Rt(_!==null),m=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(i.localStore,e);SS(i,e,n),TS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await dd(i,r)}catch(r){await j1(r)}}function TS(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function SS(t,e,n){const i=Qe(t);let r=i.Fa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}async function dd(t,e,n){const i=Qe(t),r=[],o=[],l=[];i.wa.isEmpty()||(i.wa.forEach((c,h)=>{l.push(i.Na(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){r.push(f);const m=Bg.Ki(h.targetId,f);o.push(m)}}))}),await Promise.all(l),i.ya.u_(r),await async function(h,f){const m=Qe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>j.forEach(f,E=>j.forEach(E.qi,I=>m.persistence.referenceDelegate.addReference(_,E.targetId,I)).next(()=>j.forEach(E.Qi,I=>m.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))}catch(_){if(!sd(_))throw _;se("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const E=_.targetId;if(!_.fromCache){const I=m.ns.get(E),R=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(R);m.ns=m.ns.insert(E,A)}}}(i.localStore,o))}async function ND(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=await mS(n.localStore,e);n.currentUser=e,function(o,l){o.Ma.forEach(c=>{c.forEach(h=>{h.reject(new me(Z.CANCELLED,l))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await dd(n,i.us)}}function DD(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,e),e}class c0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aD(this.persistence,new sD,e.initialUser,this.serializer)}createPersistence(e){return new nD(zg.Hr,this.serializer)}createSharedClientState(e){return new hD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>u0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await CD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xD}()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),i=function(o){return new mD(o)}(e.databaseInfo);return function(o,l,c,h){return new vD(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,l,c){return new wD(i,r,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>u0(this.syncEngine,n,0),function(){return s0.D()?new s0:new dD}())}createSyncEngine(e,n){return function(r,o,l,c,h,f,m){const _=new AD(r,o,l,c,h,f);return m&&(_.Oa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=Qe(i);se("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Yl(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ht.UNAUTHENTICATED,this.clientId=U1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ES(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cf(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await mS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function h0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zD(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>o0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>o0(e.remoteStore,r)),t._onlineComponents=e}function FD(t){return t.name==="FirebaseError"?t.code===Z.FAILED_PRECONDITION||t.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!FD(n))throw n;lh("Error using user provided cache. Falling back to memory cache: "+n),await Cf(t,new c0)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Cf(t,new c0);return t._offlineComponents}async function BD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await h0(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await h0(t,new MD))),t._onlineComponents}function UD(t){return BD(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e,n){if(!n)throw new me(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $D(t,e,n,i){if(e===!0&&i===!0)throw new me(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f0(t){if(!Pe.isDocumentKey(t))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function Qp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $g{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bL;switch(i.type){case"firstParty":return new DL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=d0.get(n);i&&(se("ComponentProvider","Removing Datastore"),d0.delete(n),i.terminate())}(this),Promise.resolve()}}function WD(t,e,n,i={}){var r;const o=(t=Qp(t,$g))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Ht.MOCK_USER;else{c=QE(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ht(f)}t._authCredentials=new OL(new B1(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wg(this.firestore,e,this._query)}}class Vi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class Rl extends Wg{constructor(e,n,i){super(e,n,uN(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new Pe(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function HD(t,e,...n){if(t=dn(t),arguments.length===1&&(e=U1.newId()),jD("doc","path",e),t instanceof $g){const i=ft.fromString(e,...n);return f0(i),new Vi(t,null,new Pe(i))}{if(!(t instanceof Vi||t instanceof Rl))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ft.fromString(e,...n));return f0(i),new Vi(t.firestore,t instanceof Rl?t.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new gS(this,"async_queue_retry"),this.cu=()=>{const n=kf();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=kf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Sr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!sd(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;const r=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Cr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const r=Ug.createAndSchedule(this,e,n,i,o=>this.Iu(o));return this.su.push(r),r}lu(){this.ou&&Ae()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class PS extends $g{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new qD}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kS(this),this._firestoreClient.terminate()}}function GD(t,e){const n=typeof t=="object"?t:Qm(),i=typeof t=="string"?t:e||"(default)",r=Fh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=GE("firestore");o&&WD(r,...o)}return r}function ZD(t){return t._firestoreClient||kS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kS(t){var e,n,i;const r=t._freezeSettings(),o=function(c,h,f,m){return new QL(c,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,IS(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new VD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(Wi.fromBase64String(e))}catch(n){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Al(Wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^__.*__$/;class QD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Hg{constructor(e,n,i,r,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.pu(e),r}yu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return _h(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(AS(this.Vu)&&KD.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ud(e)}Cu(e,n,i,r=!1){return new Hg({Vu:e,methodName:n,Du:i,path:Vt.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YD(t){const e=t._freezeSettings(),n=ud(t._databaseId);return new XD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JD(t,e,n,i,r,o={}){const l=t.Cu(o.merge||o.mergeFields?2:0,e,n,r);NS("Data must be an object, but it was:",l,i);const c=OS(i,l);let h,f;if(o.merge)h=new Wn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const E=eM(e,_,n);if(!l.contains(E))throw new me(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);iM(m,E)||m.push(E)}h=new Wn(m),f=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=l.fieldTransforms;return new QD(new $n(c),h,f)}function bS(t,e){if(LS(t=dn(t)))return NS("Unsupported field value:",e,t),OS(t,e);if(t instanceof xS)return function(i,r){if(!AS(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const c of i){let h=bS(c,r.wu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return yN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ct.fromDate(i);return{timestampValue:Gp(r.serializer,o)}}if(i instanceof Ct){const o=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gp(r.serializer,o)}}if(i instanceof RS)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Al)return{bytesValue:ON(r.serializer,i._byteString)};if(i instanceof Vi){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Su(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fS(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${jg(i)}`)}(t,e)}function OS(t,e){const n={};return W1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,(i,r)=>{const o=bS(r,e.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof RS||t instanceof Al||t instanceof Vi||t instanceof xS)}function NS(t,e,n){if(!LS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=jg(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function eM(t,e,n){if((e=dn(e))instanceof CS)return e._internalPath;if(typeof e=="string")return nM(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const tM=new RegExp("[~\\*/\\[\\]]");function nM(t,e,n){if(e.search(tM)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new CS(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new me(Z.INVALID_ARGUMENT,c+t+h)}function iM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}function sM(t,e,n){t=Qp(t,Vi);const i=Qp(t.firestore,PS),r=rM(t.converter,e,n);return oM(i,[JD(YD(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Mi.none())])}function oM(t,e){return function(i,r){const o=new Sr;return i.asyncQueue.enqueueAndForget(async()=>bD(await UD(i),r,o)),o.promise}(ZD(t),e)}(function(e,n=!0){(function(r){Uo=r})(Ts),ms(new kr("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new PS(new LL(i.getProvider("auth-internal")),new VL(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(f.options.projectId,m)}(l,r),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ci(Wy,"4.5.0",e),ci(Wy,"4.5.0","esm2017")})();const qg=eT(IO),rt=Hb(qg);wO(qg);const m0=GD(qg),aM=({onClose:t,onRegisterClick:e})=>{const[n,i]=H.useState({login:"",password:""}),r=c=>{const{name:h,value:f}=c.target;i({...n,[h]:f})},o=c=>{c.preventDefault(),RA(rt,n.login,n.password).then(()=>{t()}).catch(h=>{console.error("Error during login:",h)})},l=()=>{t(),e()};return b.jsx("div",{className:"popup",children:b.jsxs("div",{className:"popup-content",children:[b.jsx("button",{id:"close-btn",onClick:t,children:"X"}),b.jsx("h3",{children:"Sign In"}),b.jsx("div",{className:"popup-body",children:b.jsxs("form",{onSubmit:o,children:[b.jsx("input",{id:"input-login",type:"text",name:"login",placeholder:"Login",value:n.login,onChange:r,required:!0}),b.jsx("input",{id:"input-password",type:"password",name:"password",placeholder:"Password",value:n.password,onChange:r,required:!0})]})}),b.jsx("button",{id:"login",type:"submit",className:"submit-btn",children:"Login"}),b.jsxs("div",{className:"popup-login-register",children:[b.jsx("span",{children:"You don't have an account?"}),b.jsx("button",{id:"button_register",onClick:l,children:"Sign up"})]})]})})},lM=({onClose:t,onLoginClick:e})=>{const[n,i]=H.useState({login:"",password:""}),r=c=>{const{name:h,value:f}=c.target;i({...n,[h]:f})},o=c=>{c.preventDefault(),xA(rt,n.login,n.password).then(()=>{t()}).catch(h=>{console.error("Error during registration:",h)})},l=()=>{t(),e()};return b.jsx("div",{className:"popup",children:b.jsxs("div",{className:"popup-content",children:[b.jsx("button",{id:"close-btn",onClick:t,children:"X"}),b.jsx("h3",{children:"Sign Up"}),b.jsx("div",{className:"popup-body",children:b.jsxs("form",{onSubmit:o,children:[b.jsx("input",{id:"input-login",type:"text",name:"login",placeholder:"Login",value:n.login,onChange:r,required:!0}),b.jsx("input",{id:"input-password",type:"password",name:"password",placeholder:"Password",value:n.password,onChange:r,required:!0})]})}),b.jsx("button",{id:"register",type:"submit",className:"submit-btn",children:"Regist"}),b.jsxs("div",{className:"popup-login-register",children:[b.jsx("span",{children:"You have an account?"}),b.jsx("button",{id:"button_login",onClick:l,children:"Sign in"})]})]})})},uM=()=>{var I,R,A;const[t,e]=H.useState(!1),[n,i]=H.useState(!1),r=BE(),o=()=>{LA(rt).then(()=>{}).then(()=>{window.location.reload()}).catch(D=>{console.error("Error during logout:",D)})},l=()=>{e(!1)},c=()=>{e(!0)},h=()=>{i(!1)},f=()=>{i(!0)},m=()=>{r("/contact")},_=()=>{r("/booking")},E=()=>{r("/ourrooms")};return b.jsxs("header",{className:"header",children:[b.jsxs("div",{className:"logo",children:[b.jsx("img",{id:"hotel_logo",src:"https://firebasestorage.googleapis.com/v0/b/dobra-ekipa-6f3c0.appspot.com/o/logo%2F2.png?alt=media&token=59adcdea-ea81-4400-b9f0-10c042d5fae1",alt:"Logo",className:"logo",onClick:()=>window.location.replace("/")}),b.jsx("span",{className:"hotel_name",onClick:()=>window.location.replace("/"),children:"Sol Hotel"})]}),b.jsxs("div",{className:"navigation",children:[((I=rt==null?void 0:rt.currentUser)==null?void 0:I.email)&&b.jsx("button",{onClick:_,className:"navi_button",children:"Book Now"}),b.jsx("button",{onClick:E,className:"navi_button",children:"Our Rooms"}),b.jsx("button",{onClick:m,className:"navi_button",children:"Contact Us"}),!((R=rt==null?void 0:rt.currentUser)!=null&&R.email)&&b.jsx("button",{onClick:c,className:"navi_button",style:{backgroundColor:"#2c3f1f",color:"#f1f3ee"},children:"Login"}),((A=rt==null?void 0:rt.currentUser)==null?void 0:A.email)&&b.jsx("button",{onClick:o,className:"navi_button",style:{backgroundColor:"#2c3f1f",color:"#f1f3ee"},children:"Log Out"})]}),t&&b.jsx(aM,{onClose:l,onRegisterClick:f}),n&&b.jsx(lM,{onClose:h,onLoginClick:c})]})},cM=()=>b.jsxs(b.Fragment,{children:[b.jsx("div",{children:"RECEIVE AN EXTRA 10% DISCOUNT"}),b.jsx("div",{children:"Sign up to the newsletter and have all the promos in your inbox the moment they are published."}),b.jsxs("form",{children:[b.jsx("label",{htmlFor:"email",children:"Enter your Email"}),b.jsx("input",{type:"email",id:"email",name:"email",required:!0}),b.jsx("input",{type:"checkbox",id:"agreed",name:"agreed",value:"Agreed",required:!0}),b.jsx("label",{htmlFor:"agreed",children:" I hereby agree to receive commercial information (newsletter) from Sol Hotel with its registered office in Tajna Gra (01-100) al. Nieznana 5 (hereinafter referred to as the Company) by electronic means to the e-mail address provided in the form. I understand that I may withdraw my consent at any time and that such withdrawal shall not affect the lawfulness of processing based on consent before its withdrawal."}),b.jsx("input",{type:"submit",id:"submit",name:"submit",value:"Submit"})]})]});var DS={exports:{}};(function(t,e){(function(n,i){t.exports=i(H)})(qs,n=>(()=>{var i={703:(c,h,f)=>{var m=f(414);function _(){}function E(){}E.resetWarningCache=_,c.exports=function(){function I(D,k,T,x,F,Q){if(Q!==m){var J=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw J.name="Invariant Violation",J}}function R(){return I}I.isRequired=I;var A={array:I,bool:I,func:I,number:I,object:I,string:I,symbol:I,any:I,arrayOf:R,element:I,elementType:I,instanceOf:R,node:I,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:E,resetWarningCache:_};return A.PropTypes=A,A}},697:(c,h,f)=>{c.exports=f(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:c=>{var h=typeof Element<"u",f=typeof Map=="function",m=typeof Set=="function",_=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function E(I,R){if(I===R)return!0;if(I&&R&&typeof I=="object"&&typeof R=="object"){if(I.constructor!==R.constructor)return!1;var A,D,k,T;if(Array.isArray(I)){if((A=I.length)!=R.length)return!1;for(D=A;D--!=0;)if(!E(I[D],R[D]))return!1;return!0}if(f&&I instanceof Map&&R instanceof Map){if(I.size!==R.size)return!1;for(T=I.entries();!(D=T.next()).done;)if(!R.has(D.value[0]))return!1;for(T=I.entries();!(D=T.next()).done;)if(!E(D.value[1],R.get(D.value[0])))return!1;return!0}if(m&&I instanceof Set&&R instanceof Set){if(I.size!==R.size)return!1;for(T=I.entries();!(D=T.next()).done;)if(!R.has(D.value[0]))return!1;return!0}if(_&&ArrayBuffer.isView(I)&&ArrayBuffer.isView(R)){if((A=I.length)!=R.length)return!1;for(D=A;D--!=0;)if(I[D]!==R[D])return!1;return!0}if(I.constructor===RegExp)return I.source===R.source&&I.flags===R.flags;if(I.valueOf!==Object.prototype.valueOf)return I.valueOf()===R.valueOf();if(I.toString!==Object.prototype.toString)return I.toString()===R.toString();if((A=(k=Object.keys(I)).length)!==Object.keys(R).length)return!1;for(D=A;D--!=0;)if(!Object.prototype.hasOwnProperty.call(R,k[D]))return!1;if(h&&I instanceof Element)return!1;for(D=A;D--!=0;)if((k[D]!=="_owner"&&k[D]!=="__v"&&k[D]!=="__o"||!I.$$typeof)&&!E(I[k[D]],R[k[D]]))return!1;return!0}return I!=I&&R!=R}c.exports=function(I,R){try{return E(I,R)}catch(A){if((A.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw A}}},359:c=>{c.exports=n}},r={};function o(c){var h=r[c];if(h!==void 0)return h.exports;var f=r[c]={exports:{}};return i[c](f,f.exports,o),f.exports}o.n=c=>{var h=c&&c.__esModule?()=>c.default:()=>c;return o.d(h,{a:h}),h},o.d=(c,h)=>{for(var f in h)o.o(h,f)&&!o.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:h[f]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(c,h)=>Object.prototype.hasOwnProperty.call(c,h),o.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var l={};return(()=>{function c(S){var v,C,N="";if(typeof S=="string"||typeof S=="number")N+=S;else if(typeof S=="object")if(Array.isArray(S))for(v=0;v<S.length;v++)S[v]&&(C=c(S[v]))&&(N&&(N+=" "),N+=C);else for(v in S)S[v]&&(N&&(N+=" "),N+=v);return N}function h(){for(var S,v,C=0,N="";C<arguments.length;)(S=arguments[C++])&&(v=c(S))&&(N&&(N+=" "),N+=v);return N}o.r(l),o.d(l,{default:()=>mu});var f=o(359),m=o.n(f);const _=function(S){var v=typeof S;return S!=null&&(v=="object"||v=="function")},E=typeof qs=="object"&&qs&&qs.Object===Object&&qs;var I=typeof self=="object"&&self&&self.Object===Object&&self;const R=E||I||Function("return this")(),A=function(){return R.Date.now()};var D=/\s/,k=/^\s+/;const T=function(S){return S&&S.slice(0,function(v){for(var C=v.length;C--&&D.test(v.charAt(C)););return C}(S)+1).replace(k,"")},x=R.Symbol;var F=Object.prototype,Q=F.hasOwnProperty,J=F.toString,ne=x?x.toStringTag:void 0,ae=Object.prototype.toString,be=x?x.toStringTag:void 0;const Ee=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":be&&be in Object(S)?function(v){var C=Q.call(v,ne),N=v[ne];try{v[ne]=void 0;var q=!0}catch{}var le=J.call(v);return q&&(C?v[ne]=N:delete v[ne]),le}(S):function(v){return ae.call(v)}(S)};var je=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,vi=/^0o[0-7]+$/i,sn=parseInt;const ks=function(S){if(typeof S=="number")return S;if(function(N){return typeof N=="symbol"||function(q){return q!=null&&typeof q=="object"}(N)&&Ee(N)=="[object Symbol]"}(S))return NaN;if(_(S)){var v=typeof S.valueOf=="function"?S.valueOf():S;S=_(v)?v+"":v}if(typeof S!="string")return S===0?S:+S;S=T(S);var C=ut.test(S);return C||vi.test(S)?sn(S.slice(2),C?2:8):je.test(S)?NaN:+S};var gt=Math.max,Nn=Math.min;const B=function(S,v,C){var N,q,le,Ie,y,w,M=0,W=!1,$=!1,K=!0;if(typeof S!="function")throw new TypeError("Expected a function");function fe(ce){var ye=N,Le=q;return N=q=void 0,M=ce,Ie=S.apply(Le,ye)}function de(ce){return M=ce,y=setTimeout(Y,v),W?fe(ce):Ie}function ue(ce){var ye=ce-w;return w===void 0||ye>=v||ye<0||$&&ce-M>=le}function Y(){var ce=A();if(ue(ce))return ee(ce);y=setTimeout(Y,function(ye){var Le=v-(ye-w);return $?Nn(Le,le-(ye-M)):Le}(ce))}function ee(ce){return y=void 0,K&&N?fe(ce):(N=q=void 0,Ie)}function ie(){var ce=A(),ye=ue(ce);if(N=arguments,q=this,w=ce,ye){if(y===void 0)return de(w);if($)return clearTimeout(y),y=setTimeout(Y,v),fe(w)}return y===void 0&&(y=setTimeout(Y,v)),Ie}return v=ks(v)||0,_(C)&&(W=!!C.leading,le=($="maxWait"in C)?gt(ks(C.maxWait)||0,v):le,K="trailing"in C?!!C.trailing:K),ie.cancel=function(){y!==void 0&&clearTimeout(y),M=0,N=w=q=y=void 0},ie.flush=function(){return y===void 0?Ie:ee(A())},ie},_e=function(S,v,C){var N=!0,q=!0;if(typeof S!="function")throw new TypeError("Expected a function");return _(C)&&(N="leading"in C?!!C.leading:N,q="trailing"in C?!!C.trailing:q),B(S,v,{leading:N,maxWait:v,trailing:q})};var X=o(590),ve=o.n(X),Ce=function(){if(typeof Map<"u")return Map;function S(v,C){var N=-1;return v.some(function(q,le){return q[0]===C&&(N=le,!0)}),N}return function(){function v(){this.__entries__=[]}return Object.defineProperty(v.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),v.prototype.get=function(C){var N=S(this.__entries__,C),q=this.__entries__[N];return q&&q[1]},v.prototype.set=function(C,N){var q=S(this.__entries__,C);~q?this.__entries__[q][1]=N:this.__entries__.push([C,N])},v.prototype.delete=function(C){var N=this.__entries__,q=S(N,C);~q&&N.splice(q,1)},v.prototype.has=function(C){return!!~S(this.__entries__,C)},v.prototype.clear=function(){this.__entries__.splice(0)},v.prototype.forEach=function(C,N){N===void 0&&(N=null);for(var q=0,le=this.__entries__;q<le.length;q++){var Ie=le[q];C.call(N,Ie[1],Ie[0])}},v}()}(),Ye=typeof window<"u"&&typeof document<"u"&&window.document===document,Ve=o.g!==void 0&&o.g.Math===Math?o.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Oe=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ve):function(S){return setTimeout(function(){return S(Date.now())},1e3/60)},Se=["top","right","bottom","left","width","height","size","weight"],Ut=typeof MutationObserver<"u",Kn=function(){function S(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(v,C){var N=!1,q=!1,le=0;function Ie(){N&&(N=!1,v()),q&&w()}function y(){Oe(Ie)}function w(){var M=Date.now();if(N){if(M-le<2)return;q=!0}else N=!0,q=!1,setTimeout(y,20);le=M}return w}(this.refresh.bind(this))}return S.prototype.addObserver=function(v){~this.observers_.indexOf(v)||this.observers_.push(v),this.connected_||this.connect_()},S.prototype.removeObserver=function(v){var C=this.observers_,N=C.indexOf(v);~N&&C.splice(N,1),!C.length&&this.connected_&&this.disconnect_()},S.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},S.prototype.updateObservers_=function(){var v=this.observers_.filter(function(C){return C.gatherActive(),C.hasActive()});return v.forEach(function(C){return C.broadcastActive()}),v.length>0},S.prototype.connect_=function(){Ye&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ut?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},S.prototype.disconnect_=function(){Ye&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},S.prototype.onTransitionEnd_=function(v){var C=v.propertyName,N=C===void 0?"":C;Se.some(function(q){return!!~N.indexOf(q)})&&this.refresh()},S.getInstance=function(){return this.instance_||(this.instance_=new S),this.instance_},S.instance_=null,S}(),$o=function(S,v){for(var C=0,N=Object.keys(v);C<N.length;C++){var q=N[C];Object.defineProperty(S,q,{value:v[q],enumerable:!1,writable:!1,configurable:!0})}return S},Qn=function(S){return S&&S.ownerDocument&&S.ownerDocument.defaultView||Ve},Cs=Fr(0,0,0,0);function Xn(S){return parseFloat(S)||0}function xs(S){for(var v=[],C=1;C<arguments.length;C++)v[C-1]=arguments[C];return v.reduce(function(N,q){return N+Xn(S["border-"+q+"-width"])},0)}var pd=typeof SVGGraphicsElement<"u"?function(S){return S instanceof Qn(S).SVGGraphicsElement}:function(S){return S instanceof Qn(S).SVGElement&&typeof S.getBBox=="function"};function eu(S){return Ye?pd(S)?function(v){var C=v.getBBox();return Fr(0,0,C.width,C.height)}(S):function(v){var C=v.clientWidth,N=v.clientHeight;if(!C&&!N)return Cs;var q=Qn(v).getComputedStyle(v),le=function(K){for(var fe={},de=0,ue=["top","right","bottom","left"];de<ue.length;de++){var Y=ue[de],ee=K["padding-"+Y];fe[Y]=Xn(ee)}return fe}(q),Ie=le.left+le.right,y=le.top+le.bottom,w=Xn(q.width),M=Xn(q.height);if(q.boxSizing==="border-box"&&(Math.round(w+Ie)!==C&&(w-=xs(q,"left","right")+Ie),Math.round(M+y)!==N&&(M-=xs(q,"top","bottom")+y)),!function(K){return K===Qn(K).document.documentElement}(v)){var W=Math.round(w+Ie)-C,$=Math.round(M+y)-N;Math.abs(W)!==1&&(w-=W),Math.abs($)!==1&&(M-=$)}return Fr(le.left,le.top,w,M)}(S):Cs}function Fr(S,v,C,N){return{x:S,y:v,width:C,height:N}}var Wo=function(){function S(v){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fr(0,0,0,0),this.target=v}return S.prototype.isActive=function(){var v=eu(this.target);return this.contentRect_=v,v.width!==this.broadcastWidth||v.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var v=this.contentRect_;return this.broadcastWidth=v.width,this.broadcastHeight=v.height,v},S}(),Rs=function(S,v){var C,N,q,le,Ie,y,w,M=(N=(C=v).x,q=C.y,le=C.width,Ie=C.height,y=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,w=Object.create(y.prototype),$o(w,{x:N,y:q,width:le,height:Ie,top:q,right:N+le,bottom:Ie+q,left:N}),w);$o(this,{target:S,contentRect:M})},md=function(){function S(v,C,N){if(this.activeObservations_=[],this.observations_=new Ce,typeof v!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=v,this.controller_=C,this.callbackCtx_=N}return S.prototype.observe=function(v){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(v instanceof Qn(v).Element))throw new TypeError('parameter 1 is not of type "Element".');var C=this.observations_;C.has(v)||(C.set(v,new Wo(v)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(v){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(v instanceof Qn(v).Element))throw new TypeError('parameter 1 is not of type "Element".');var C=this.observations_;C.has(v)&&(C.delete(v),C.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var v=this;this.clearActive(),this.observations_.forEach(function(C){C.isActive()&&v.activeObservations_.push(C)})},S.prototype.broadcastActive=function(){if(this.hasActive()){var v=this.callbackCtx_,C=this.activeObservations_.map(function(N){return new Rs(N.target,N.broadcastRect())});this.callback_.call(v,C,v),this.clearActive()}},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return this.activeObservations_.length>0},S}(),Ho=typeof WeakMap<"u"?new WeakMap:new Ce,As=function S(v){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var C=Kn.getInstance(),N=new md(v,C,this);Ho.set(this,N)};["observe","unobserve","disconnect"].forEach(function(S){As.prototype[S]=function(){var v;return(v=Ho.get(this))[S].apply(v,arguments)}});const qo=Ve.ResizeObserver!==void 0?Ve.ResizeObserver:As,yi="Left",wi="Right",qi="Up",Dn="Down",Ei={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},bs={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},tu="mousemove",Go="mouseup";function Zo(S,v){if(v===0)return S;const C=Math.PI/180*v;return[S[0]*Math.cos(C)+S[1]*Math.sin(C),S[1]*Math.cos(C)-S[0]*Math.sin(C)]}function gd(S){const{trackMouse:v}=S,C=f.useRef(Object.assign({},bs)),N=f.useRef(Object.assign({},Ei)),q=f.useRef(Object.assign({},N.current));let le;for(le in q.current=Object.assign({},N.current),N.current=Object.assign(Object.assign({},Ei),S),Ei)N.current[le]===void 0&&(N.current[le]=Ei[le]);const[Ie,y]=f.useMemo(()=>function(w,M){const W=Y=>{const ee="touches"in Y;ee&&Y.touches.length>1||w((ie,ce)=>{ce.trackMouse&&!ee&&(document.addEventListener(tu,$),document.addEventListener(Go,fe));const{clientX:ye,clientY:Le}=ee?Y.touches[0]:Y,We=Zo([ye,Le],ce.rotationAngle);return ce.onTouchStartOrOnMouseDown&&ce.onTouchStartOrOnMouseDown({event:Y}),Object.assign(Object.assign(Object.assign({},ie),bs),{initial:We.slice(),xy:We,start:Y.timeStamp||0})})},$=Y=>{w((ee,ie)=>{const ce="touches"in Y;if(ce&&Y.touches.length>1)return ee;if(Y.timeStamp-ee.start>ie.swipeDuration)return ee.swiping?Object.assign(Object.assign({},ee),{swiping:!1}):ee;const{clientX:ye,clientY:Le}=ce?Y.touches[0]:Y,[We,_t]=Zo([ye,Le],ie.rotationAngle),vt=We-ee.xy[0],at=_t-ee.xy[1],$e=Math.abs(vt),Fe=Math.abs(at),In=(Y.timeStamp||0)-ee.start,Ur=Math.sqrt($e*$e+Fe*Fe)/(In||1),ge=[vt/(In||1),at/(In||1)],ct=function(Si,Jn,mn,bt){return Si>Jn?mn>0?wi:yi:bt>0?Dn:qi}($e,Fe,vt,at),Ne=typeof ie.delta=="number"?ie.delta:ie.delta[ct.toLowerCase()]||Ei.delta;if($e<Ne&&Fe<Ne&&!ee.swiping)return ee;const pn={absX:$e,absY:Fe,deltaX:vt,deltaY:at,dir:ct,event:Y,first:ee.first,initial:ee.initial,velocity:Ur,vxvy:ge};pn.first&&ie.onSwipeStart&&ie.onSwipeStart(pn),ie.onSwiping&&ie.onSwiping(pn);let Yn=!1;return(ie.onSwiping||ie.onSwiped||ie[`onSwiped${ct}`])&&(Yn=!0),Yn&&ie.preventScrollOnSwipe&&ie.trackTouch&&Y.cancelable&&Y.preventDefault(),Object.assign(Object.assign({},ee),{first:!1,eventData:pn,swiping:!0})})},K=Y=>{w((ee,ie)=>{let ce;if(ee.swiping&&ee.eventData){if(Y.timeStamp-ee.start<ie.swipeDuration){ce=Object.assign(Object.assign({},ee.eventData),{event:Y}),ie.onSwiped&&ie.onSwiped(ce);const ye=ie[`onSwiped${ce.dir}`];ye&&ye(ce)}}else ie.onTap&&ie.onTap({event:Y});return ie.onTouchEndOrOnMouseUp&&ie.onTouchEndOrOnMouseUp({event:Y}),Object.assign(Object.assign(Object.assign({},ee),bs),{eventData:ce})})},fe=Y=>{document.removeEventListener(tu,$),document.removeEventListener(Go,fe),K(Y)},de=(Y,ee)=>{let ie=()=>{};if(Y&&Y.addEventListener){const ce=Object.assign(Object.assign({},Ei.touchEventOptions),ee.touchEventOptions),ye=[["touchstart",W,ce],["touchmove",$,Object.assign(Object.assign({},ce),ee.preventScrollOnSwipe?{passive:!1}:{})],["touchend",K,ce]];ye.forEach(([Le,We,_t])=>Y.addEventListener(Le,We,_t)),ie=()=>ye.forEach(([Le,We])=>Y.removeEventListener(Le,We))}return ie},ue={ref:Y=>{Y!==null&&w((ee,ie)=>{if(ee.el===Y)return ee;const ce={};return ee.el&&ee.el!==Y&&ee.cleanUpTouch&&(ee.cleanUpTouch(),ce.cleanUpTouch=void 0),ie.trackTouch&&Y&&(ce.cleanUpTouch=de(Y,ie)),Object.assign(Object.assign(Object.assign({},ee),{el:Y}),ce)})}};return M.trackMouse&&(ue.onMouseDown=W),[ue,de]}(w=>C.current=w(C.current,N.current),{trackMouse:v}),[v]);return C.current=function(w,M,W,$){return M.trackTouch&&w.el?w.cleanUpTouch?M.preventScrollOnSwipe!==W.preventScrollOnSwipe||M.touchEventOptions.passive!==W.touchEventOptions.passive?(w.cleanUpTouch(),Object.assign(Object.assign({},w),{cleanUpTouch:$(w.el,M)})):w:Object.assign(Object.assign({},w),{cleanUpTouch:$(w.el,M)}):(w.cleanUpTouch&&w.cleanUpTouch(),Object.assign(Object.assign({},w),{cleanUpTouch:void 0}))}(C.current,N.current,q.current,y),Ie}var z=o(697);function Ti(S){return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Ti(S)}function Ko(S,v){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);v&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),C.push.apply(C,N)}return C}function nu(S){for(var v=1;v<arguments.length;v++){var C=arguments[v]!=null?arguments[v]:{};v%2?Ko(Object(C),!0).forEach(function(N){zr(S,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(C)):Ko(Object(C)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(C,N))})}return S}function zr(S,v,C){return(v=function(N){var q=function(le,Ie){if(Ti(le)!=="object"||le===null)return le;var y=le[Symbol.toPrimitive];if(y!==void 0){var w=y.call(le,Ie);if(Ti(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(N,"string");return Ti(q)==="symbol"?q:String(q)}(v))in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}var _d={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"},Qo=m().memo(function(S){var v=nu(nu({},_d),S),C=v.description,N=v.fullscreen,q=v.handleImageLoaded,le=v.isFullscreen,Ie=v.onImageError,y=v.original,w=v.originalAlt,M=v.originalHeight,W=v.originalWidth,$=v.originalTitle,K=v.sizes,fe=v.srcSet,de=v.loading,ue=le&&N||y;return m().createElement(m().Fragment,null,m().createElement("img",{className:"image-gallery-image",src:ue,alt:w,srcSet:fe,height:M,width:W,sizes:K,title:$,onLoad:function(Y){return q(Y,y)},onError:Ie,loading:de}),C&&m().createElement("span",{className:"image-gallery-description"},C))});Qo.displayName="Item",Qo.propTypes={description:z.string,fullscreen:z.string,handleImageLoaded:z.func.isRequired,isFullscreen:z.bool,onImageError:z.func.isRequired,original:z.string.isRequired,originalAlt:z.string,originalHeight:z.string,originalWidth:z.string,originalTitle:z.string,sizes:z.string,srcSet:z.string,loading:z.string};const iu=Qo;function Gi(S){return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Gi(S)}function Xo(S,v){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);v&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),C.push.apply(C,N)}return C}function ru(S){for(var v=1;v<arguments.length;v++){var C=arguments[v]!=null?arguments[v]:{};v%2?Xo(Object(C),!0).forEach(function(N){vd(S,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(C)):Xo(Object(C)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(C,N))})}return S}function vd(S,v,C){return(v=function(N){var q=function(le,Ie){if(Gi(le)!=="object"||le===null)return le;var y=le[Symbol.toPrimitive];if(y!==void 0){var w=y.call(le,Ie);if(Gi(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(N,"string");return Gi(q)==="symbol"?q:String(q)}(v))in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}var yd={left:m().createElement("polyline",{points:"15 18 9 12 15 6"}),right:m().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:m().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:m().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:m().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:m().createElement(m().Fragment,null,m().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),m().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},wd={strokeWidth:1,viewBox:"0 0 24 24"},su=function(S){var v=ru(ru({},wd),S),C=v.strokeWidth,N=v.viewBox,q=v.icon;return m().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:N,fill:"none",stroke:"currentColor",strokeWidth:C,strokeLinecap:"round",strokeLinejoin:"round"},yd[q])};su.propTypes={strokeWidth:z.number,viewBox:z.string,icon:(0,z.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired};const Os=su;var Br=m().memo(function(S){var v=S.isFullscreen,C=S.onClick;return m().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:C,"aria-label":"Open Fullscreen"},m().createElement(Os,{strokeWidth:2,icon:v?"minimize":"maximize"}))});Br.displayName="Fullscreen",Br.propTypes={isFullscreen:z.bool.isRequired,onClick:z.func.isRequired};const Ed=Br;var Yo=m().memo(function(S){var v=S.disabled,C=S.onClick;return m().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:v,onClick:C,"aria-label":"Previous Slide"},m().createElement(Os,{icon:"left",viewBox:"6 0 12 24"}))});Yo.displayName="LeftNav",Yo.propTypes={disabled:z.bool.isRequired,onClick:z.func.isRequired};const Td=Yo;var Jo=m().memo(function(S){var v=S.disabled,C=S.onClick;return m().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:v,onClick:C,"aria-label":"Next Slide"},m().createElement(Os,{icon:"right",viewBox:"6 0 12 24"}))});Jo.displayName="RightNav",Jo.propTypes={disabled:z.bool.isRequired,onClick:z.func.isRequired};const Sn=Jo;var he=m().memo(function(S){var v=S.isPlaying,C=S.onClick;return m().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:C,"aria-label":"Play or Pause Slideshow"},m().createElement(Os,{strokeWidth:2,icon:v?"pause":"play"}))});he.displayName="PlayPause",he.propTypes={isPlaying:z.bool.isRequired,onClick:z.func.isRequired};const ou=he;function Zi(S){return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Zi(S)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(S){for(var v=1;v<arguments.length;v++){var C=arguments[v];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(S[N]=C[N])}return S},Ls.apply(this,arguments)}function ea(S,v){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);v&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),C.push.apply(C,N)}return C}function Ns(S){for(var v=1;v<arguments.length;v++){var C=arguments[v]!=null?arguments[v]:{};v%2?ea(Object(C),!0).forEach(function(N){au(S,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(C)):ea(Object(C)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(C,N))})}return S}function au(S,v,C){return(v=function(N){var q=function(le,Ie){if(Zi(le)!=="object"||le===null)return le;var y=le[Symbol.toPrimitive];if(y!==void 0){var w=y.call(le,Ie);if(Zi(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(N,"string");return Zi(q)==="symbol"?q:String(q)}(v))in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}var Ki={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}},ta=function(S){var v=Ns(Ns({},Ki),S),C=v.children,N=v.className,q=gd({delta:v.delta,onSwiping:v.onSwiping,onSwiped:v.onSwiped});return m().createElement("div",Ls({},q,{className:N}),C)};ta.propTypes={children:z.node.isRequired,className:z.string,delta:z.number,onSwiped:z.func,onSwiping:z.func};const lu=ta;function Qi(S){return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Qi(S)}function uu(S,v){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);v&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),C.push.apply(C,N)}return C}function cu(S){for(var v=1;v<arguments.length;v++){var C=arguments[v]!=null?arguments[v]:{};v%2?uu(Object(C),!0).forEach(function(N){du(S,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(C)):uu(Object(C)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(C,N))})}return S}function hu(S,v){for(var C=0;C<v.length;C++){var N=v[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,fu(N.key),N)}}function na(S,v){return na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,N){return C.__proto__=N,C},na(S,v)}function Ds(S,v){if(v&&(Qi(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(S)}function Je(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function Ms(S){return Ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},Ms(S)}function du(S,v,C){return(v=fu(v))in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}function fu(S){var v=function(C,N){if(Qi(C)!=="object"||C===null)return C;var q=C[Symbol.toPrimitive];if(q!==void 0){var le=q.call(C,N);if(Qi(le)!=="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(S,"string");return Qi(v)==="symbol"?v:String(v)}var pu=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],ia=(0,z.arrayOf)((0,z.shape)({srcSet:z.string,media:z.string}));function Xi(S){var v=parseInt(S.keyCode||S.which||0,10);return v===66||v===62}var Vs=function(S){(function(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),w&&na(y,w)})(Ie,S);var v,C,N,q,le=(N=Ie,q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,w=Ms(N);if(q){var M=Ms(this).constructor;y=Reflect.construct(w,arguments,M)}else y=w.apply(this,arguments);return Ds(this,y)});function Ie(y){var w;return function(M,W){if(!(M instanceof W))throw new TypeError("Cannot call a class as a function")}(this,Ie),du(Je(w=le.call(this,y)),"onBulletClick",function(M,W){var $=w.props,K=$.onBulletClick,fe=$.items,de=w.state.currentIndex;M.target.blur(),de!==W&&(fe.length===2?w.slideToIndexWithStyleReset(W,M):w.slideToIndex(W,M)),K&&K(M,W)}),w.state={currentIndex:y.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(y.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},w.loadedImages={},w.imageGallery=m().createRef(),w.thumbnailsWrapper=m().createRef(),w.thumbnails=m().createRef(),w.imageGallerySlideWrapper=m().createRef(),w.handleImageLoaded=w.handleImageLoaded.bind(Je(w)),w.handleKeyDown=w.handleKeyDown.bind(Je(w)),w.handleMouseDown=w.handleMouseDown.bind(Je(w)),w.handleResize=w.handleResize.bind(Je(w)),w.handleTouchMove=w.handleTouchMove.bind(Je(w)),w.handleOnSwiped=w.handleOnSwiped.bind(Je(w)),w.handleScreenChange=w.handleScreenChange.bind(Je(w)),w.handleSwiping=w.handleSwiping.bind(Je(w)),w.handleThumbnailSwiping=w.handleThumbnailSwiping.bind(Je(w)),w.handleOnThumbnailSwiped=w.handleOnThumbnailSwiped.bind(Je(w)),w.onThumbnailMouseLeave=w.onThumbnailMouseLeave.bind(Je(w)),w.handleImageError=w.handleImageError.bind(Je(w)),w.pauseOrPlay=w.pauseOrPlay.bind(Je(w)),w.renderThumbInner=w.renderThumbInner.bind(Je(w)),w.renderItem=w.renderItem.bind(Je(w)),w.slideLeft=w.slideLeft.bind(Je(w)),w.slideRight=w.slideRight.bind(Je(w)),w.toggleFullScreen=w.toggleFullScreen.bind(Je(w)),w.togglePlay=w.togglePlay.bind(Je(w)),w.unthrottledSlideToIndex=w.slideToIndex,w.slideToIndex=_e(w.unthrottledSlideToIndex,y.slideDuration,{trailing:!1}),y.lazyLoad&&(w.lazyLoaded=[]),w}return v=Ie,C=[{key:"componentDidMount",value:function(){var y=this.props,w=y.autoPlay,M=y.useWindowKeyDown;w&&this.play(),M?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(y,w){var M=this.props,W=M.items,$=M.lazyLoad,K=M.slideDuration,fe=M.slideInterval,de=M.startIndex,ue=M.thumbnailPosition,Y=M.showThumbnails,ee=M.useWindowKeyDown,ie=this.state,ce=ie.currentIndex,ye=ie.isPlaying,Le=y.items.length!==W.length,We=!ve()(y.items,W),_t=y.startIndex!==de,vt=y.thumbnailPosition!==ue,at=y.showThumbnails!==Y;fe===y.slideInterval&&K===y.slideDuration||ye&&(this.pause(),this.play()),vt&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),at&&Y&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),at&&!Y&&this.removeThumbnailsResizeObserver(),(Le||at)&&this.handleResize(),w.currentIndex!==ce&&this.slideThumbnailBar(),y.slideDuration!==K&&(this.slideToIndex=_e(this.unthrottledSlideToIndex,K,{trailing:!1})),!$||y.lazyLoad&&!We||(this.lazyLoaded=[]),ee!==y.useWindowKeyDown&&(ee?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(_t||We)&&this.setState({currentIndex:de,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var y=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),y?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var y=this,w=this.state,M=w.currentIndex,W=w.isTransitioning,$=this.props,K=$.onSlide,fe=$.slideDuration;this.transitionTimer=window.setTimeout(function(){W&&(y.setState({isTransitioning:!W,isSwipingThumbnail:!1}),K&&K(M))},fe+50)}},{key:"onThumbnailClick",value:function(y,w){var M=this.props,W=M.onThumbnailClick,$=M.items,K=this.state.currentIndex;y.target.parentNode.parentNode.blur(),K!==w&&($.length===2?this.slideToIndexWithStyleReset(w,y):this.slideToIndex(w,y)),W&&W(y,w)}},{key:"onThumbnailMouseOver",value:function(y,w){var M=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){M.slideToIndex(w),M.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var y=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,y&&this.play()}}},{key:"setThumbsTranslate",value:function(y){this.setState({thumbsTranslate:y})}},{key:"setModalFullscreen",value:function(y){var w=this.props.onScreenChange;this.setState({modalFullscreen:y}),w&&w(y)}},{key:"getThumbsTranslate",value:function(y){var w,M=this.props,W=M.disableThumbnailScroll,$=M.items,K=this.state,fe=K.thumbnailsWrapperWidth,de=K.thumbnailsWrapperHeight,ue=this.thumbnails&&this.thumbnails.current;if(W)return 0;if(ue){if(this.isThumbnailVertical()){if(ue.scrollHeight<=de)return 0;w=ue.scrollHeight-de}else{if(ue.scrollWidth<=fe||fe<=0)return 0;w=ue.scrollWidth-fe}return y*(w/($.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(y){switch(y){case"left":y=" ".concat("image-gallery-thumbnails-left");break;case"right":y=" ".concat("image-gallery-thumbnails-right");break;case"bottom":y=" ".concat("image-gallery-thumbnails-bottom");break;case"top":y=" ".concat("image-gallery-thumbnails-top")}return y}},{key:"getAlignmentClassName",value:function(y){var w=this.state.currentIndex,M=this.props,W=M.infinite,$=M.items,K="",fe="image-gallery-left",de="image-gallery-right";switch(y){case w-1:K=" ".concat(fe);break;case w:K=" ".concat("image-gallery-center");break;case w+1:K=" ".concat(de)}return $.length>=3&&W&&(y===0&&w===$.length-1?K=" ".concat(de):y===$.length-1&&w===0&&(K=" ".concat(fe))),K}},{key:"getTranslateXForTwoSlide",value:function(y){var w=this.state,M=w.currentIndex,W=w.currentSlideOffset,$=w.previousIndex,K=M!==$,fe=y===0&&$===0,de=y===1&&$===1,ue=y===0&&M===1,Y=y===1&&M===0,ee=W===0,ie=-100*M+100*y+W;return W>0?this.direction="left":W<0&&(this.direction="right"),Y&&W>0&&(ie=-100+W),ue&&W<0&&(ie=100+W),K?fe&&ee&&this.direction==="left"?ie=100:de&&ee&&this.direction==="right"&&(ie=-100):(Y&&ee&&this.direction==="left"&&(ie=-100),ue&&ee&&this.direction==="right"&&(ie=100)),ie}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(y){var w=this.state,M=w.currentIndex,W=w.currentSlideOffset,$=w.slideStyle,K=this.props,fe=K.infinite,de=K.items,ue=K.useTranslate3D,Y=K.isRTL,ee=-100*M,ie=de.length-1,ce=(ee+100*y)*(Y?-1:1)+W;fe&&de.length>2&&(M===0&&y===ie?ce=-100*(Y?-1:1)+W:M===ie&&y===0&&(ce=100*(Y?-1:1)+W)),fe&&de.length===2&&(ce=this.getTranslateXForTwoSlide(y));var ye="translate(".concat(ce,"%, 0)");return ue&&(ye="translate3d(".concat(ce,"%, 0, 0)")),cu({display:this.isSlideVisible(y)?"inherit":"none",WebkitTransform:ye,MozTransform:ye,msTransform:ye,OTransform:ye,transform:ye},$)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var y,w=this.props,M=w.useTranslate3D,W=w.isRTL,$=this.state,K=$.thumbsTranslate,fe=$.thumbsStyle,de=W?-1*K:K;return this.isThumbnailVertical()?(y="translate(0, ".concat(K,"px)"),M&&(y="translate3d(0, ".concat(K,"px, 0)"))):(y="translate(".concat(de,"px, 0)"),M&&(y="translate3d(".concat(de,"px, 0, 0)"))),cu({WebkitTransform:y,MozTransform:y,msTransform:y,OTransform:y,transform:y},fe)}},{key:"getSlideItems",value:function(){var y=this,w=this.state.currentIndex,M=this.props,W=M.items,$=M.slideOnThumbnailOver,K=M.onClick,fe=M.lazyLoad,de=M.onTouchMove,ue=M.onTouchEnd,Y=M.onTouchStart,ee=M.onMouseOver,ie=M.onMouseLeave,ce=M.renderItem,ye=M.renderThumbInner,Le=M.showThumbnails,We=M.showBullets,_t=[],vt=[],at=[];return W.forEach(function($e,Fe){var In=y.getAlignmentClassName(Fe),Ur=$e.originalClass?" ".concat($e.originalClass):"",ge=$e.thumbnailClass?" ".concat($e.thumbnailClass):"",ct=$e.renderItem||ce||y.renderItem,Ne=$e.renderThumbInner||ye||y.renderThumbInner,pn=!fe||In||y.lazyLoaded[Fe];pn&&fe&&!y.lazyLoaded[Fe]&&(y.lazyLoaded[Fe]=!0);var Yn=y.getSlideStyle(Fe),Si=m().createElement("div",{"aria-label":"Go to Slide ".concat(Fe+1),key:"slide-".concat(Fe),tabIndex:"-1",className:"image-gallery-slide ".concat(In," ").concat(Ur),style:Yn,onClick:K,onKeyUp:y.handleSlideKeyUp,onTouchMove:de,onTouchEnd:ue,onTouchStart:Y,onMouseOver:ee,onFocus:ee,onMouseLeave:ie,role:"button"},pn?ct($e):m().createElement("div",{style:{height:"100%"}}));if(_t.push(Si),Le&&$e.thumbnail){var Jn=h("image-gallery-thumbnail",ge,{active:w===Fe});vt.push(m().createElement("button",{key:"thumbnail-".concat(Fe),type:"button",tabIndex:"0","aria-pressed":w===Fe?"true":"false","aria-label":"Go to Slide ".concat(Fe+1),className:Jn,onMouseLeave:$?y.onThumbnailMouseLeave:null,onMouseOver:function(bt){return y.handleThumbnailMouseOver(bt,Fe)},onFocus:function(bt){return y.handleThumbnailMouseOver(bt,Fe)},onKeyUp:function(bt){return y.handleThumbnailKeyUp(bt,Fe)},onClick:function(bt){return y.onThumbnailClick(bt,Fe)}},Ne($e)))}if(We){var mn=h("image-gallery-bullet",$e.bulletClass,{active:w===Fe});at.push(m().createElement("button",{type:"button",key:"bullet-".concat(Fe),className:mn,onClick:function(bt){return y.onBulletClick(bt,Fe)},"aria-pressed":w===Fe?"true":"false","aria-label":"Go to Slide ".concat(Fe+1)}))}}),{slides:_t,thumbnails:vt,bullets:at}}},{key:"ignoreIsTransitioning",value:function(){var y=this.props.items,w=this.state,M=w.previousIndex,W=w.currentIndex,$=y.length-1;return Math.abs(M-W)>1&&!(M===0&&W===$)&&!(M===$&&W===0)}},{key:"isFirstOrLastSlide",value:function(y){return y===this.props.items.length-1||y===0}},{key:"slideIsTransitioning",value:function(y){var w=this.state,M=w.isTransitioning,W=w.previousIndex,$=w.currentIndex;return M&&!(y===W||y===$)}},{key:"isSlideVisible",value:function(y){return!this.slideIsTransitioning(y)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(y)}},{key:"slideThumbnailBar",value:function(){var y=this.state,w=y.currentIndex,M=y.isSwipingThumbnail,W=-this.getThumbsTranslate(w);M||(w===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:W,thumbsSwipedTranslate:W}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){return this.props.infinite||this.canSlidePrevious()}},{key:"canSlideRight",value:function(){return this.props.infinite||this.canSlideNext()}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(y){var w=y.event,M=y.absX,W=y.dir,$=this.props,K=$.disableSwipe,fe=$.stopPropagation,de=this.state,ue=de.galleryWidth,Y=de.isTransitioning,ee=de.swipingUpDown,ie=de.swipingLeftRight;if(W!==qi&&W!==Dn&&!ee||ie){if(W!==yi&&W!==wi||ie||this.setState({swipingLeftRight:!0}),!K){var ce=this.props.swipingTransitionDuration;if(fe&&w.preventDefault(),Y)this.setState({currentSlideOffset:0});else{var ye=W===wi?1:-1,Le=M/ue*100;Math.abs(Le)>=100&&(Le=100);var We={transition:"transform ".concat(ce,"ms ease-out")};this.setState({currentSlideOffset:ye*Le,slideStyle:We})}}}else ee||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(y){var w=y.event,M=y.absX,W=y.absY,$=y.dir,K=this.props,fe=K.stopPropagation,de=K.swipingThumbnailTransitionDuration,ue=this.state,Y=ue.thumbsSwipedTranslate,ee=ue.thumbnailsWrapperHeight,ie=ue.thumbnailsWrapperWidth,ce=ue.swipingUpDown,ye=ue.swipingLeftRight;if(this.isThumbnailVertical()){if(($===yi||$===wi||ye)&&!ce)return void(ye||this.setState({swipingLeftRight:!0}));$!==qi&&$!==Dn||ce||this.setState({swipingUpDown:!0})}else{if(($===qi||$===Dn||ce)&&!ye)return void(ce||this.setState({swipingUpDown:!0}));$!==yi&&$!==wi||ye||this.setState({swipingLeftRight:!0})}var Le,We,_t,vt,at,$e=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(Le=Y+($===Dn?W:-W),We=$e.scrollHeight-ee+20,_t=Math.abs(Le)>We,vt=Le>20,at=$e.scrollHeight<=ee):(Le=Y+($===wi?M:-M),We=$e.scrollWidth-ie+20,_t=Math.abs(Le)>We,vt=Le>20,at=$e.scrollWidth<=ie),!at&&($!==yi&&$!==qi||!_t)&&($!==wi&&$!==Dn||!vt)){fe&&w.stopPropagation();var Fe={transition:"transform ".concat(de,"ms ease-out")};this.setState({thumbsTranslate:Le,thumbsStyle:Fe})}}},{key:"handleOnThumbnailSwiped",value:function(){var y=this.state.thumbsTranslate,w=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:y,thumbsStyle:{transition:"all ".concat(w,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var y=this.state.currentSlideOffset,w=this.props.swipeThreshold;return Math.abs(y)>w}},{key:"resetSwipingDirection",value:function(){var y=this.state,w=y.swipingUpDown,M=y.swipingLeftRight;w&&this.setState({swipingUpDown:!1}),M&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(y){var w=y.event,M=y.dir,W=y.velocity,$=this.props,K=$.disableSwipe,fe=$.stopPropagation,de=$.flickThreshold;if(!K){var ue=this.props.isRTL;fe&&w.stopPropagation(),this.resetSwipingDirection();var Y=(M===yi?1:-1)*(ue?-1:1),ee=W>de&&!(M===qi||M===Dn);this.handleOnSwipedTo(Y,ee)}}},{key:"handleOnSwipedTo",value:function(y,w){var M=this.state,W=M.currentIndex,$=M.isTransitioning,K=W;!this.sufficientSwipe()&&!w||$||(K+=y),(y===-1&&!this.canSlideLeft()||y===1&&!this.canSlideRight())&&(K=W),this.unthrottledSlideToIndex(K)}},{key:"handleTouchMove",value:function(y){this.state.swipingLeftRight&&y.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(y){var w=this.props,M=w.disableKeyDown,W=w.useBrowserFullscreen,$=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!M)switch(parseInt(y.keyCode||y.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(y);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(y);break;case 27:$&&!W&&this.exitFullScreen()}}},{key:"handleImageError",value:function(y){var w=this.props.onErrorImageURL;w&&y.target.src.indexOf(w)===-1&&(y.target.src=w)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var y=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(y)))}},{key:"initSlideWrapperResizeObserver",value:function(y){var w=this;y&&!y.current||(this.resizeSlideWrapperObserver=new qo(B(function(M){M&&M.forEach(function(W){w.setState({thumbnailsWrapperWidth:W.contentRect.width},w.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(y.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(y){var w=this;y&&!y.current||(this.resizeThumbnailWrapperObserver=new qo(B(function(M){M&&M.forEach(function(W){w.setState({thumbnailsWrapperHeight:W.contentRect.height},w.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(y.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var y=this.props,w=y.onScreenChange,M=y.useBrowserFullscreen,W=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,$=this.imageGallery.current===W;w&&w($),M&&this.setState({isFullscreen:$})}},{key:"slideToIndex",value:function(y,w){var M=this.state,W=M.currentIndex,$=M.isTransitioning,K=this.props,fe=K.items,de=K.slideDuration,ue=K.onBeforeSlide;if(!$){w&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var Y=fe.length-1,ee=y;y<0?ee=Y:y>Y&&(ee=0),ue&&ee!==W&&ue(ee),this.setState({previousIndex:W,currentIndex:ee,isTransitioning:ee!==W,currentSlideOffset:0,slideStyle:{transition:"all ".concat(de,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(y){var w=this.props.isRTL;this.slideTo(y,w?"right":"left")}},{key:"slideRight",value:function(y){var w=this.props.isRTL;this.slideTo(y,w?"left":"right")}},{key:"slideTo",value:function(y,w){var M=this.state,W=M.currentIndex,$=M.isTransitioning,K=this.props.items,fe=W+(w==="left"?-1:1);$||(K.length===2?this.slideToIndexWithStyleReset(fe,y):this.slideToIndex(fe,y))}},{key:"slideToIndexWithStyleReset",value:function(y,w){var M=this,W=this.state,$=W.currentIndex,K=W.currentSlideOffset;this.setState({currentSlideOffset:K+($>y?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return M.slideToIndex(y,w)},25)})}},{key:"handleThumbnailMouseOver",value:function(y,w){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(y,w)}},{key:"handleThumbnailKeyUp",value:function(y,w){Xi(y)&&this.onThumbnailClick(y,w)}},{key:"handleSlideKeyUp",value:function(y){Xi(y)&&(0,this.props.onClick)(y)}},{key:"isThumbnailVertical",value:function(){var y=this.props.thumbnailPosition;return y==="left"||y==="right"}},{key:"addScreenChangeEvent",value:function(){var y=this;pu.forEach(function(w){document.addEventListener(w,y.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var y=this;pu.forEach(function(w){document.removeEventListener(w,y.handleScreenChange)})}},{key:"fullScreen",value:function(){var y=this.props.useBrowserFullscreen,w=this.imageGallery.current;y?w.requestFullscreen?w.requestFullscreen():w.msRequestFullscreen?w.msRequestFullscreen():w.mozRequestFullScreen?w.mozRequestFullScreen():w.webkitRequestFullscreen?w.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var y=this.state.isFullscreen,w=this.props.useBrowserFullscreen;y&&(w?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var y=this.props.infinite,w=this.state.currentIndex;y||this.canSlideRight()?this.slideToIndex(w+1):this.pause()}},{key:"play",value:function(){var y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],w=this.props,M=w.onPlay,W=w.slideInterval,$=w.slideDuration,K=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(W,$)),M&&y&&M(K))}},{key:"pause",value:function(){var y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],w=this.props.onPause,M=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),w&&y&&w(M))}},{key:"isImageLoaded",value:function(y){return!!this.loadedImages[y.original]||(this.loadedImages[y.original]=!0,!1)}},{key:"handleImageLoaded",value:function(y,w){var M=this.props.onImageLoad;!this.loadedImages[w]&&M&&(this.loadedImages[w]=!0,M(y))}},{key:"renderItem",value:function(y){var w=this.state.isFullscreen,M=this.props.onImageError||this.handleImageError;return m().createElement(iu,{description:y.description,fullscreen:y.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:w,onImageError:M,original:y.original,originalAlt:y.originalAlt,originalHeight:y.originalHeight,originalWidth:y.originalWidth,originalTitle:y.originalTitle,sizes:y.sizes,loading:y.loading,srcSet:y.srcSet})}},{key:"renderThumbInner",value:function(y){var w=this.props.onThumbnailError||this.handleImageError;return m().createElement("span",{className:"image-gallery-thumbnail-inner"},m().createElement("img",{className:"image-gallery-thumbnail-image",src:y.thumbnail,height:y.thumbnailHeight,width:y.thumbnailWidth,alt:y.thumbnailAlt,title:y.thumbnailTitle,loading:y.thumbnailLoading,onError:w}),y.thumbnailLabel&&m().createElement("div",{className:"image-gallery-thumbnail-label"},y.thumbnailLabel))}},{key:"render",value:function(){var y=this.state,w=y.currentIndex,M=y.isFullscreen,W=y.modalFullscreen,$=y.isPlaying,K=this.props,fe=K.additionalClass,de=K.disableThumbnailSwipe,ue=K.indexSeparator,Y=K.isRTL,ee=K.items,ie=K.thumbnailPosition,ce=K.renderFullscreenButton,ye=K.renderCustomControls,Le=K.renderLeftNav,We=K.renderRightNav,_t=K.showBullets,vt=K.showFullscreenButton,at=K.showIndex,$e=K.showThumbnails,Fe=K.showNav,In=K.showPlayButton,Ur=K.renderPlayPauseButton,ge=this.getThumbnailStyle(),ct=this.getSlideItems(),Ne=ct.slides,pn=ct.thumbnails,Yn=ct.bullets,Si=h("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(ie),{"image-gallery-rtl":Y}),Jn=m().createElement("div",{ref:this.imageGallerySlideWrapper,className:Si},ye&&ye(),this.canSlide()?m().createElement(m().Fragment,null,Fe&&m().createElement(m().Fragment,null,Le(this.slideLeft,!this.canSlideLeft()),We(this.slideRight,!this.canSlideRight())),m().createElement(lu,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},m().createElement("div",{className:"image-gallery-slides"},Ne))):m().createElement("div",{className:"image-gallery-slides"},Ne),In&&Ur(this.togglePlay,$),_t&&m().createElement("div",{className:"image-gallery-bullets"},m().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},Yn)),vt&&ce(this.toggleFullScreen,M),at&&m().createElement("div",{className:"image-gallery-index"},m().createElement("span",{className:"image-gallery-index-current"},w+1),m().createElement("span",{className:"image-gallery-index-separator"},ue),m().createElement("span",{className:"image-gallery-index-total"},ee.length))),mn=h("image-gallery",fe,{"fullscreen-modal":W}),bt=h("image-gallery-content",this.getThumbnailPositionClassName(ie),{fullscreen:M}),jr=h("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(ie),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&Y},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!de},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!de});return m().createElement("div",{ref:this.imageGallery,className:mn,"aria-live":"polite"},m().createElement("div",{className:bt},(ie==="bottom"||ie==="right")&&Jn,$e&&pn.length>0?m().createElement(lu,{className:jr,delta:0,onSwiping:!de&&this.handleThumbnailSwiping,onSwiped:!de&&this.handleOnThumbnailSwiped},m().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},m().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:ge,"aria-label":"Thumbnail Navigation"},pn))):null,(ie==="top"||ie==="left")&&Jn))}}],C&&hu(v.prototype,C),Object.defineProperty(v,"prototype",{writable:!1}),Ie}(m().Component);Vs.propTypes={flickThreshold:z.number,items:(0,z.arrayOf)((0,z.shape)({bulletClass:z.string,bulletOnClick:z.func,description:z.string,original:z.string,originalHeight:z.number,originalWidth:z.number,loading:z.string,thumbnailHeight:z.number,thumbnailWidth:z.number,thumbnailLoading:z.string,fullscreen:z.string,originalAlt:z.string,originalTitle:z.string,thumbnail:z.string,thumbnailAlt:z.string,thumbnailLabel:z.string,thumbnailTitle:z.string,originalClass:z.string,thumbnailClass:z.string,renderItem:z.func,renderThumbInner:z.func,imageSet:ia,srcSet:z.string,sizes:z.string})).isRequired,showNav:z.bool,autoPlay:z.bool,lazyLoad:z.bool,infinite:z.bool,showIndex:z.bool,showBullets:z.bool,showThumbnails:z.bool,showPlayButton:z.bool,showFullscreenButton:z.bool,disableThumbnailScroll:z.bool,disableKeyDown:z.bool,disableSwipe:z.bool,disableThumbnailSwipe:z.bool,useBrowserFullscreen:z.bool,onErrorImageURL:z.string,indexSeparator:z.string,thumbnailPosition:(0,z.oneOf)(["top","bottom","left","right"]),startIndex:z.number,slideDuration:z.number,slideInterval:z.number,slideOnThumbnailOver:z.bool,swipeThreshold:z.number,swipingTransitionDuration:z.number,swipingThumbnailTransitionDuration:z.number,onSlide:z.func,onBeforeSlide:z.func,onScreenChange:z.func,onPause:z.func,onPlay:z.func,onClick:z.func,onImageLoad:z.func,onImageError:z.func,onTouchMove:z.func,onTouchEnd:z.func,onTouchStart:z.func,onMouseOver:z.func,onMouseLeave:z.func,onBulletClick:z.func,onThumbnailError:z.func,onThumbnailClick:z.func,renderCustomControls:z.func,renderLeftNav:z.func,renderRightNav:z.func,renderPlayPauseButton:z.func,renderFullscreenButton:z.func,renderItem:z.func,renderThumbInner:z.func,stopPropagation:z.bool,additionalClass:z.string,useTranslate3D:z.bool,isRTL:z.bool,useWindowKeyDown:z.bool},Vs.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onBulletClick:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(S,v){return m().createElement(Td,{onClick:S,disabled:v})},renderRightNav:function(S,v){return m().createElement(Sn,{onClick:S,disabled:v})},renderPlayPauseButton:function(S,v){return m().createElement(ou,{onClick:S,isPlaying:v})},renderFullscreenButton:function(S,v){return m().createElement(Ed,{onClick:S,isFullscreen:v})},useWindowKeyDown:!0};const mu=Vs})(),l})())})(DS);var hM=DS.exports;const dM=g0(hM),fM=[{original:"https://media.tacdn.com/media/attractions-splice-spp-674x446/0b/2c/ef/d0.jpg",originalHeight:500,originalWidth:500,loading:"lazy"},{original:"https://static.prsa.pl/images/56f92698-7b84-416d-ae66-344c25d948d2.jpg?format=500",originalHeight:500,originalWidth:500,loading:"lazy"},{original:"https://naukawpolsce.pl/sites/default/files/styles/strona_glowna_slider_750x420/public/202310/46711862_46709856.jpg?itok=oqfQC8-R",originalHeight:500,originalWidth:500,loading:"lazy"}],pM=()=>b.jsx(b.Fragment,{children:b.jsx("div",{className:"image-gallery-wrapper",children:b.jsx(dM,{items:fM,autoPlay:!0,showThumbnails:!1})})});function MS(t,e){const n=H.useRef(e);H.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const mM=1;function gM(t){return Object.freeze({__version:mM,map:t})}function _M(t,e){return Object.freeze({...t,...e})}const VS=H.createContext(null),FS=VS.Provider;function zS(){const t=H.useContext(VS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function vM(t){function e(n,i){const{instance:r,context:o}=t(n).current;return H.useImperativeHandle(i,()=>r),n.children==null?null:yo.createElement(FS,{value:o},n.children)}return H.forwardRef(e)}function yM(t){function e(n,i){const[r,o]=H.useState(!1),{instance:l}=t(n,o).current;H.useImperativeHandle(i,()=>l),H.useEffect(function(){r&&l.update()},[l,r,n.children]);const c=l._contentNode;return c?AE.createPortal(n.children,c):null}return H.forwardRef(e)}function wM(t){function e(n,i){const{instance:r}=t(n).current;return H.useImperativeHandle(i,()=>r),null}return H.forwardRef(e)}function BS(t,e){const n=H.useRef();H.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Gg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function EM(t,e){return function(i,r){const o=zS(),l=t(Gg(i,o),o);return MS(o.map,i.attribution),BS(l.current,i.eventHandlers),e(l.current,o,i,r),l}}var Xp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(qs,function(n){var i="1.9.4";function r(s){var a,u,d,p;for(u=1,d=arguments.length;u<d;u++){p=arguments[u];for(a in p)s[a]=p[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var d=u.call(arguments,2);return function(){return s.apply(a,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function f(s,a,u){var d,p,g,P;return P=function(){d=!1,p&&(g.apply(u,p),p=!1)},g=function(){d?p=arguments:(s.apply(u,arguments),setTimeout(P,a),d=!0)},g}function m(s,a,u){var d=a[1],p=a[0],g=d-p;return s===d&&u?s:((s-p)%g+g)%g+p}function _(){return!1}function E(s,a){if(a===!1)return s;var u=Math.pow(10,a===void 0?6:a);return Math.round(s*u)/u}function I(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function R(s){return I(s).split(/\s+/)}function A(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var u in a)s.options[u]=a[u];return s.options}function D(s,a,u){var d=[];for(var p in s)d.push(encodeURIComponent(u?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function T(s,a){return s.replace(k,function(u,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+u);return typeof p=="function"&&(p=p(a)),p})}var x=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function F(s,a){for(var u=0;u<s.length;u++)if(s[u]===a)return u;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function J(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var ne=0;function ae(s){var a=+new Date,u=Math.max(0,16-(a-ne));return ne=a+u,window.setTimeout(s,u)}var be=window.requestAnimationFrame||J("RequestAnimationFrame")||ae,Ee=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function je(s,a,u){if(u&&be===ae)s.call(a);else return be.call(window,l(s,a))}function ut(s){s&&Ee.call(window,s)}var vi={__proto__:null,extend:r,create:o,bind:l,get lastId(){return c},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:E,trim:I,splitWords:R,setOptions:A,getParamString:D,template:T,isArray:x,indexOf:F,emptyImageUrl:Q,requestFn:be,cancelFn:Ee,requestAnimFrame:je,cancelAnimFrame:ut};function sn(){}sn.extend=function(s){var a=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,d=o(u);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return s.statics&&r(a,s.statics),s.includes&&(ks(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,P=d._initHooks.length;g<P;g++)d._initHooks[g].call(this)}},a},sn.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},sn.mergeOptions=function(s){return r(this.prototype.options,s),this},sn.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function ks(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=x(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var gt={on:function(s,a,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],a);else{s=R(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,u)}return this},off:function(s,a,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],a);else{s=R(s);for(var p=arguments.length===1,g=0,P=s.length;g<P;g++)p?this._off(s[g]):this._off(s[g],a,u)}return this},_on:function(s,a,u,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,u)===!1){u===this&&(u=void 0);var p={fn:a,ctx:u};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,a,u){var d,p,g;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,g=d.length;p<g;p++)d[p].fn=_;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var P=this._listens(s,a,u);if(P!==!1){var O=d[P];this._firingCount&&(O.fn=_,this._events[s]=d=d.slice()),d.splice(P,1)}}},fire:function(s,a,u){if(!this.listens(s,u))return this;var d=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,P=p.length;g<P;g++){var O=p[g],V=O.fn;O.once&&this.off(s,V,O.ctx),V.call(O.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(s,a,u,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,u=void 0);var g=this._events&&this._events[s];if(g&&g.length&&this._listens(s,p,u)!==!1)return!0;if(d){for(var P in this._eventParents)if(this._eventParents[P].listens(s,a,u,d))return!0}return!1},_listens:function(s,a,u){if(!this._events)return!1;var d=this._events[s]||[];if(!a)return!!d.length;u===this&&(u=void 0);for(var p=0,g=d.length;p<g;p++)if(d[p].fn===a&&d[p].ctx===u)return p;return!1},once:function(s,a,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],a,!0);else{s=R(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var Nn=sn.extend(gt);function B(s,a,u){this.x=u?Math.round(s):s,this.y=u?Math.round(a):a}var _e=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(s){return this.clone()._add(X(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(X(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new B(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new B(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_e(this.x),this.y=_e(this.y),this},distanceTo:function(s){s=X(s);var a=s.x-this.x,u=s.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(s){return s=X(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=X(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function X(s,a,u){return s instanceof B?s:x(s)?new B(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new B(s.x,s.y):new B(s,a,u)}function ve(s,a){if(s)for(var u=a?[s,a]:s,d=0,p=u.length;d<p;d++)this.extend(u[d])}ve.prototype={extend:function(s){var a,u;if(!s)return this;if(s instanceof B||typeof s[0]=="number"||"x"in s)a=u=X(s);else if(s=Ce(s),a=s.min,u=s.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,u;return typeof s[0]=="number"||s instanceof B?s=X(s):s=Ce(s),s instanceof ve?(a=s.min,u=s.max):a=u=s,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=Ce(s);var a=this.min,u=this.max,d=s.min,p=s.max,g=p.x>=a.x&&d.x<=u.x,P=p.y>=a.y&&d.y<=u.y;return g&&P},overlaps:function(s){s=Ce(s);var a=this.min,u=this.max,d=s.min,p=s.max,g=p.x>a.x&&d.x<u.x,P=p.y>a.y&&d.y<u.y;return g&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,u=this.max,d=Math.abs(a.x-u.x)*s,p=Math.abs(a.y-u.y)*s;return Ce(X(a.x-d,a.y-p),X(u.x+d,u.y+p))},equals:function(s){return s?(s=Ce(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Ce(s,a){return!s||s instanceof ve?s:new ve(s,a)}function Ye(s,a){if(s)for(var u=a?[s,a]:s,d=0,p=u.length;d<p;d++)this.extend(u[d])}Ye.prototype={extend:function(s){var a=this._southWest,u=this._northEast,d,p;if(s instanceof Oe)d=s,p=s;else if(s instanceof Ye){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(Se(s)||Ve(s)):this;return!a&&!u?(this._southWest=new Oe(d.lat,d.lng),this._northEast=new Oe(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),u.lat=Math.max(p.lat,u.lat),u.lng=Math.max(p.lng,u.lng)),this},pad:function(s){var a=this._southWest,u=this._northEast,d=Math.abs(a.lat-u.lat)*s,p=Math.abs(a.lng-u.lng)*s;return new Ye(new Oe(a.lat-d,a.lng-p),new Oe(u.lat+d,u.lng+p))},getCenter:function(){return new Oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Oe||"lat"in s?s=Se(s):s=Ve(s);var a=this._southWest,u=this._northEast,d,p;return s instanceof Ye?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=a.lat&&p.lat<=u.lat&&d.lng>=a.lng&&p.lng<=u.lng},intersects:function(s){s=Ve(s);var a=this._southWest,u=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>=a.lat&&d.lat<=u.lat,P=p.lng>=a.lng&&d.lng<=u.lng;return g&&P},overlaps:function(s){s=Ve(s);var a=this._southWest,u=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>a.lat&&d.lat<u.lat,P=p.lng>a.lng&&d.lng<u.lng;return g&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=Ve(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ve(s,a){return s instanceof Ye?s:new Ye(s,a)}function Oe(s,a,u){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,u!==void 0&&(this.alt=+u)}Oe.prototype={equals:function(s,a){if(!s)return!1;s=Se(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+E(this.lat,s)+", "+E(this.lng,s)+")"},distanceTo:function(s){return Kn.distance(this,Se(s))},wrap:function(){return Kn.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,u=a/Math.cos(Math.PI/180*this.lat);return Ve([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new Oe(this.lat,this.lng,this.alt)}};function Se(s,a,u){return s instanceof Oe?s:x(s)&&typeof s[0]!="object"?s.length===3?new Oe(s[0],s[1],s[2]):s.length===2?new Oe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Oe(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new Oe(s,a,u)}var Ut={latLngToPoint:function(s,a){var u=this.projection.project(s),d=this.scale(a);return this.transformation._transform(u,d)},pointToLatLng:function(s,a){var u=this.scale(a),d=this.transformation.untransform(s,u);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(s),d=this.transformation.transform(a.min,u),p=this.transformation.transform(a.max,u);return new ve(d,p)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new Oe(u,a,d)},wrapLatLngBounds:function(s){var a=s.getCenter(),u=this.wrapLatLng(a),d=a.lat-u.lat,p=a.lng-u.lng;if(d===0&&p===0)return s;var g=s.getSouthWest(),P=s.getNorthEast(),O=new Oe(g.lat-d,g.lng-p),V=new Oe(P.lat-d,P.lng-p);return new Ye(O,V)}},Kn=r({},Ut,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var u=Math.PI/180,d=s.lat*u,p=a.lat*u,g=Math.sin((a.lat-s.lat)*u/2),P=Math.sin((a.lng-s.lng)*u/2),O=g*g+Math.cos(d)*Math.cos(p)*P*P,V=2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O));return this.R*V}}),$o=6378137,Qn={R:$o,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,s.lat),-u),p=Math.sin(d*a);return new B(this.R*s.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var a=180/Math.PI;return new Oe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=$o*Math.PI;return new ve([-s,-s],[s,s])}()};function Cs(s,a,u,d){if(x(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=u,this._d=d}Cs.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new B((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function Xn(s,a,u,d){return new Cs(s,a,u,d)}var xs=r({},Kn,{code:"EPSG:3857",projection:Qn,transformation:function(){var s=.5/(Math.PI*Qn.R);return Xn(s,.5,-s,.5)}()}),pd=r({},xs,{code:"EPSG:900913"});function eu(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Fr(s,a){var u="",d,p,g,P,O,V;for(d=0,g=s.length;d<g;d++){for(O=s[d],p=0,P=O.length;p<P;p++)V=O[p],u+=(p?"L":"M")+V.x+" "+V.y;u+=a?he.svg?"z":"x":""}return u||"M0 0"}var Wo=document.documentElement.style,Rs="ActiveXObject"in window,md=Rs&&!document.addEventListener,Ho="msLaunchUri"in navigator&&!("documentMode"in document),As=Sn("webkit"),qo=Sn("android"),yi=Sn("android 2")||Sn("android 3"),wi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qi=qo&&Sn("Google")&&wi<537&&!("AudioNode"in window),Dn=!!window.opera,Ei=!Ho&&Sn("chrome"),bs=Sn("gecko")&&!As&&!Dn&&!Rs,tu=!Ei&&Sn("safari"),Go=Sn("phantom"),Zo="OTransition"in Wo,gd=navigator.platform.indexOf("Win")===0,z=Rs&&"transition"in Wo,Ti="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yi,Ko="MozPerspective"in Wo,nu=!window.L_DISABLE_3D&&(z||Ti||Ko)&&!Zo&&!Go,zr=typeof orientation<"u"||Sn("mobile"),_d=zr&&As,Qo=zr&&Ti,iu=!window.PointerEvent&&window.MSPointerEvent,Gi=!!(window.PointerEvent||iu),Xo="ontouchstart"in window||!!window.TouchEvent,ru=!window.L_NO_TOUCH&&(Xo||Gi),vd=zr&&Dn,yd=zr&&bs,wd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,su=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return s}(),Os=function(){return!!document.createElement("canvas").getContext}(),Br=!!(document.createElementNS&&eu("svg").createSVGRect),Ed=!!Br&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yo=!Br&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Td=navigator.platform.indexOf("Mac")===0,Jo=navigator.platform.indexOf("Linux")===0;function Sn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var he={ie:Rs,ielt9:md,edge:Ho,webkit:As,android:qo,android23:yi,androidStock:qi,opera:Dn,chrome:Ei,gecko:bs,safari:tu,phantom:Go,opera12:Zo,win:gd,ie3d:z,webkit3d:Ti,gecko3d:Ko,any3d:nu,mobile:zr,mobileWebkit:_d,mobileWebkit3d:Qo,msPointer:iu,pointer:Gi,touch:ru,touchNative:Xo,mobileOpera:vd,mobileGecko:yd,retina:wd,passiveEvents:su,canvas:Os,svg:Br,vml:Yo,inlineSvg:Ed,mac:Td,linux:Jo},ou=he.msPointer?"MSPointerDown":"pointerdown",Zi=he.msPointer?"MSPointerMove":"pointermove",Ls=he.msPointer?"MSPointerUp":"pointerup",ea=he.msPointer?"MSPointerCancel":"pointercancel",Ns={touchstart:ou,touchmove:Zi,touchend:Ls,touchcancel:ea},au={touchstart:Je,touchmove:Ds,touchend:Ds,touchcancel:Ds},Ki={},ta=!1;function lu(s,a,u){return a==="touchstart"&&na(),au[a]?(u=au[a].bind(this,u),s.addEventListener(Ns[a],u,!1),u):(console.warn("wrong event specified:",a),_)}function Qi(s,a,u){if(!Ns[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Ns[a],u,!1)}function uu(s){Ki[s.pointerId]=s}function cu(s){Ki[s.pointerId]&&(Ki[s.pointerId]=s)}function hu(s){delete Ki[s.pointerId]}function na(){ta||(document.addEventListener(ou,uu,!0),document.addEventListener(Zi,cu,!0),document.addEventListener(Ls,hu,!0),document.addEventListener(ea,hu,!0),ta=!0)}function Ds(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in Ki)a.touches.push(Ki[u]);a.changedTouches=[a],s(a)}}function Je(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ot(a),Ds(s,a)}function Ms(s){var a={},u,d;for(d in s)u=s[d],a[d]=u&&u.bind?u.bind(s):u;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var du=200;function fu(s,a){s.addEventListener("dblclick",a);var u=0,d;function p(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var P=Xg(g);if(!(P.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!P.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var O=Date.now();O-u<=du?(d++,d===2&&a(Ms(g))):d=1,u=O}}}return s.addEventListener("click",p),{dblclick:a,simDblclick:p}}function pu(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var ia=fe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xi=fe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vs=Xi==="webkitTransition"||Xi==="OTransition"?Xi+"End":"transitionend";function mu(s){return typeof s=="string"?document.getElementById(s):s}function S(s,a){var u=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);u=d?d[a]:null}return u==="auto"?null:u}function v(s,a,u){var d=document.createElement(s);return d.className=a||"",u&&u.appendChild(d),d}function C(s){var a=s.parentNode;a&&a.removeChild(s)}function N(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function q(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function le(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function Ie(s,a){if(s.classList!==void 0)return s.classList.contains(a);var u=W(s);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function y(s,a){if(s.classList!==void 0)for(var u=R(a),d=0,p=u.length;d<p;d++)s.classList.add(u[d]);else if(!Ie(s,a)){var g=W(s);M(s,(g?g+" ":"")+a)}}function w(s,a){s.classList!==void 0?s.classList.remove(a):M(s,I((" "+W(s)+" ").replace(" "+a+" "," ")))}function M(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function W(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function $(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&K(s,a)}function K(s,a){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):s.style.filter+=" progid:"+d+"(opacity="+a+")"}function fe(s){for(var a=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in a)return s[u];return!1}function de(s,a,u){var d=a||new B(0,0);s.style[ia]=(he.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function ue(s,a){s._leaflet_pos=a,he.any3d?de(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function Y(s){return s._leaflet_pos||new B(0,0)}var ee,ie,ce;if("onselectstart"in document)ee=function(){ge(window,"selectstart",Ot)},ie=function(){Ne(window,"selectstart",Ot)};else{var ye=fe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ee=function(){if(ye){var s=document.documentElement.style;ce=s[ye],s[ye]="none"}},ie=function(){ye&&(document.documentElement.style[ye]=ce,ce=void 0)}}function Le(){ge(window,"dragstart",Ot)}function We(){Ne(window,"dragstart",Ot)}var _t,vt;function at(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&($e(),_t=s,vt=s.style.outlineStyle,s.style.outlineStyle="none",ge(window,"keydown",$e))}function $e(){_t&&(_t.style.outlineStyle=vt,_t=void 0,vt=void 0,Ne(window,"keydown",$e))}function Fe(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function In(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var Ur={__proto__:null,TRANSFORM:ia,TRANSITION:Xi,TRANSITION_END:Vs,get:mu,getStyle:S,create:v,remove:C,empty:N,toFront:q,toBack:le,hasClass:Ie,addClass:y,removeClass:w,setClass:M,getClass:W,setOpacity:$,testProp:fe,setTransform:de,setPosition:ue,getPosition:Y,get disableTextSelection(){return ee},get enableTextSelection(){return ie},disableImageDrag:Le,enableImageDrag:We,preventOutline:at,restoreOutline:$e,getSizedParentNode:Fe,getScale:In};function ge(s,a,u,d){if(a&&typeof a=="object")for(var p in a)Si(s,p,a[p],u);else{a=R(a);for(var g=0,P=a.length;g<P;g++)Si(s,a[g],u,d)}return this}var ct="_leaflet_events";function Ne(s,a,u,d){if(arguments.length===1)pn(s),delete s[ct];else if(a&&typeof a=="object")for(var p in a)Jn(s,p,a[p],u);else if(a=R(a),arguments.length===2)pn(s,function(O){return F(a,O)!==-1});else for(var g=0,P=a.length;g<P;g++)Jn(s,a[g],u,d);return this}function pn(s,a){for(var u in s[ct]){var d=u.split(/\d/)[0];(!a||a(d))&&Jn(s,d,null,null,u)}}var Yn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Si(s,a,u,d){var p=a+h(u)+(d?"_"+h(d):"");if(s[ct]&&s[ct][p])return this;var g=function(O){return u.call(d||s,O||window.event)},P=g;!he.touchNative&&he.pointer&&a.indexOf("touch")===0?g=lu(s,a,g):he.touch&&a==="dblclick"?g=fu(s,g):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(Yn[a]||a,g,he.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(g=function(O){O=O||window.event,Sd(s,O)&&P(O)},s.addEventListener(Yn[a],g,!1)):s.addEventListener(a,P,!1):s.attachEvent("on"+a,g),s[ct]=s[ct]||{},s[ct][p]=g}function Jn(s,a,u,d,p){p=p||a+h(u)+(d?"_"+h(d):"");var g=s[ct]&&s[ct][p];if(!g)return this;!he.touchNative&&he.pointer&&a.indexOf("touch")===0?Qi(s,a,g):he.touch&&a==="dblclick"?pu(s,g):"removeEventListener"in s?s.removeEventListener(Yn[a]||a,g,!1):s.detachEvent("on"+a,g),s[ct][p]=null}function mn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function bt(s){return Si(s,"wheel",mn),this}function jr(s){return ge(s,"mousedown touchstart dblclick contextmenu",mn),s._leaflet_disable_click=!0,this}function Ot(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function $r(s){return Ot(s),mn(s),this}function Xg(s){if(s.composedPath)return s.composedPath();for(var a=[],u=s.target;u;)a.push(u),u=u.parentNode;return a}function Yg(s,a){if(!a)return new B(s.clientX,s.clientY);var u=In(a),d=u.boundingClientRect;return new B((s.clientX-d.left)/u.x-a.clientLeft,(s.clientY-d.top)/u.y-a.clientTop)}var $S=he.linux&&he.chrome?window.devicePixelRatio:he.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jg(s){return he.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/$S:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Sd(s,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var WS={__proto__:null,on:ge,off:Ne,stopPropagation:mn,disableScrollPropagation:bt,disableClickPropagation:jr,preventDefault:Ot,stop:$r,getPropagationPath:Xg,getMousePosition:Yg,getWheelDelta:Jg,isExternalTarget:Sd,addListener:ge,removeListener:Ne},e_=Nn.extend({run:function(s,a,u,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Y(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=je(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var u=this._startPos.add(this._offset.multiplyBy(s));a&&u._round(),ue(this._el,u),this.fire("step")},_complete:function(){ut(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),De=Nn.extend({options:{crs:xs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=A(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Se(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xi&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ge(this._proxy,Vs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(Se(s),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=r({animate:u.animate},u.zoom),u.pan=r({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,u.zoom):this._tryAnimatedPan(s,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,u){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),g=s instanceof B?s:this.latLngToContainerPoint(s),P=g.subtract(p).multiplyBy(1-1/d),O=this.containerPointToLatLng(p.add(P));return this.setView(O,a,{zoom:u})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():Ve(s);var u=X(a.paddingTopLeft||a.padding||[0,0]),d=X(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(s,!1,u.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var g=d.subtract(u).divideBy(2),P=this.project(s.getSouthWest(),p),O=this.project(s.getNorthEast(),p),V=this.unproject(P.add(O).divideBy(2).add(g),p);return{center:V,zoom:p}},fitBounds:function(s,a){if(s=Ve(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=X(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new e_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){y(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,u){if(u=u||{},u.animate===!1||!he.any3d)return this.setView(s,a,u);this._stop();var d=this.project(this.getCenter()),p=this.project(s),g=this.getSize(),P=this._zoom;s=Se(s),a=a===void 0?P:a;var O=Math.max(g.x,g.y),V=O*this.getZoomScale(P,a),U=p.distanceTo(d)||1,re=1.42,pe=re*re;function ke(ht){var Cu=ht?-1:1,OI=ht?V:O,LI=V*V-O*O+Cu*pe*pe*U*U,NI=2*OI*pe*U,Nd=LI/NI,N_=Math.sqrt(Nd*Nd+1)-Nd,DI=N_<1e-9?-18:Math.log(N_);return DI}function Yt(ht){return(Math.exp(ht)-Math.exp(-ht))/2}function Tt(ht){return(Math.exp(ht)+Math.exp(-ht))/2}function kn(ht){return Yt(ht)/Tt(ht)}var on=ke(0);function $s(ht){return O*(Tt(on)/Tt(on+re*ht))}function xI(ht){return O*(Tt(on)*kn(on+re*ht)-Yt(on))/pe}function RI(ht){return 1-Math.pow(1-ht,1.5)}var AI=Date.now(),O_=(ke(1)-on)/re,bI=u.duration?1e3*u.duration:1e3*O_*.8;function L_(){var ht=(Date.now()-AI)/bI,Cu=RI(ht)*O_;ht<=1?(this._flyToFrame=je(L_,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(xI(Cu)/U)),P),this.getScaleZoom(O/$s(Cu),P),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),L_.call(this),this},flyToBounds:function(s,a){var u=this._getBoundsCenterZoom(s,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(s){return s=Ve(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,Ve(s));return u.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var u=X(a.paddingTopLeft||a.padding||[0,0]),d=X(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(s),P=this.getPixelBounds(),O=Ce([P.min.add(u),P.max.subtract(d)]),V=O.getSize();if(!O.contains(g)){this._enforcingBounds=!0;var U=g.subtract(O.getCenter()),re=O.extend(g).getSize().subtract(V);p.x+=U.x<0?-re.x:re.x,p.y+=U.y<0?-re.y:re.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=a.divideBy(2).round(),p=u.divideBy(2).round(),g=d.subtract(p);return!g.x&&!g.y?this:(s.animate&&s.pan?this.panBy(g):(s.pan&&this._rawPanBy(g),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,s):navigator.geolocation.getCurrentPosition(a,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,u=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,u=s.coords.longitude,d=new Oe(a,u),p=d.toBounds(s.coords.accuracy*2),g=this._locateOptions;if(g.setView){var P=this.getBoundsZoom(p);this.setView(d,g.maxZoom?Math.min(P,g.maxZoom):P)}var O={latlng:d,bounds:p,timestamp:s.timestamp};for(var V in s.coords)typeof s.coords[V]=="number"&&(O[V]=s.coords[V]);this.fire("locationfound",O)}},addHandler:function(s,a){if(!a)return this;var u=this[s]=new a(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),C(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ut(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)C(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=v("div",u,a||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new Ye(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,u){s=Ve(s),u=X(u||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),P=s.getNorthWest(),O=s.getSouthEast(),V=this.getSize().subtract(u),U=Ce(this.project(O,d),this.project(P,d)).getSize(),re=he.any3d?this.options.zoomSnap:1,pe=V.x/U.x,ke=V.y/U.y,Yt=a?Math.max(pe,ke):Math.min(pe,ke);return d=this.getScaleZoom(Yt,d),re&&(d=Math.round(d/(re/100))*(re/100),d=a?Math.ceil(d/re)*re:Math.floor(d/re)*re),Math.max(p,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var u=this._getTopLeftPoint(s,a);return new ve(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(s)/u.scale(a)},getScaleZoom:function(s,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var d=u.zoom(s*u.scale(a));return isNaN(d)?1/0:d},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Se(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(X(s),a)},layerPointToLatLng:function(s){var a=X(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(Se(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Se(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ve(s))},distance:function(s,a){return this.options.crs.distance(Se(s),Se(a))},containerPointToLayerPoint:function(s){return X(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return X(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(X(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(s)))},mouseEventToContainerPoint:function(s){return Yg(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=mu(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ge(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,y(s,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=S(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ue(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(y(s.markerPane,"leaflet-zoom-hide"),y(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,u){ue(this._mapPane,new B(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,u)._move(s,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,u,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?u&&u.pinch&&this.fire("zoom",u):((p||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ut(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ue(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var a=s?Ne:ge;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ut(this._resizeRequest),this._resizeRequest=je(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var u=[],d,p=a==="mouseout"||a==="mouseover",g=s.target||s.srcElement,P=!1;g;){if(d=this._targets[h(g)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){P=!0;break}if(d&&d.listens(a,!0)&&(p&&!Sd(g,s)||(u.push(d),p))||g===this._container)break;g=g.parentNode}return!u.length&&!P&&!p&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var u=s.type;u==="mousedown"&&at(a),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,u){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var p=this._findEventTargets(s,a);if(u){for(var g=[],P=0;P<u.length;P++)u[P].listens(a,!0)&&g.push(u[P]);p=g.concat(p)}if(p.length){a==="contextmenu"&&Ot(s);var O=p[0],V={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var U=O.getLatLng&&(!O._radius||O._radius<=10);V.containerPoint=U?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(s),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=U?O.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(P=0;P<p.length;P++)if(p[P].fire(a,V,!0),V.originalEvent._stopped||p[P].options.bubblingMouseEvents===!1&&F(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return Y(this._mapPane)||new B(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var u=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var u=this.getSize()._divideBy(2);return this.project(s,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,u){var d=this._getNewPixelOrigin(u,a);return this.project(s,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,a,u){var d=this._getNewPixelOrigin(u,a);return Ce([this.project(s.getSouthWest(),a)._subtract(d),this.project(s.getNorthWest(),a)._subtract(d),this.project(s.getSouthEast(),a)._subtract(d),this.project(s.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,u){if(!u)return s;var d=this.project(s,a),p=this.getSize().divideBy(2),g=new ve(d.subtract(p),d.add(p)),P=this._getBoundsOffset(g,u,a);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?s:this.unproject(d.add(P),a)},_limitOffset:function(s,a){if(!a)return s;var u=this.getPixelBounds(),d=new ve(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(s,a,u){var d=Ce(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),p=d.min.subtract(s.min),g=d.max.subtract(s.max),P=this._rebound(p.x,-g.x),O=this._rebound(p.y,-g.y);return new B(P,O)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),u=this.getMaxZoom(),d=he.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(a,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){w(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var u=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var s=this._proxy=v("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var u=ia,d=this._proxy.style[u];de(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){C(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();de(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(s)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(p)?!1:(je(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&w(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function HS(s,a){return new De(s,a)}var Mn=sn.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),u=this.getPosition(),d=s._controlCorners[u];return y(a,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(C(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ra=function(s){return new Mn(s)};De.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",u=this._controlContainer=v("div",a+"control-container",this._container);function d(p,g){var P=a+p+" "+a+g;s[p+g]=v("div",P,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)C(this._controlCorners[s]);C(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var t_=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,u,d){return u<d?-1:d<u?1:0}},initialize:function(s,a,u){A(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Mn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):w(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return w(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=v("div",s),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),jr(a),bt(a);var d=this._section=v("section",s+"-list");u&&(this._map.on("click",this.collapse,this),ge(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=v("a",s+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),ge(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){Ot(g),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=v("div",s+"-base",d),this._separator=v("div",s+"-separator",d),this._overlaysList=v("div",s+"-overlays",d),a.appendChild(d)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;N(this._baseLayersList),N(this._overlaysList),this._layerControlInputs=[];var s,a,u,d,p=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),a=a||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(h(s.target)),u=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(s,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(s){var a=document.createElement("label"),u=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(s.layer),ge(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var g=document.createElement("span");a.appendChild(g),g.appendChild(d),g.appendChild(p);var P=s.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,u,d=[],p=[];this._handlingClick=!0;for(var g=s.length-1;g>=0;g--)a=s[g],u=this._getLayer(a.layerId).layer,a.checked?d.push(u):a.checked||p.push(u);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,u,d=this._map.getZoom(),p=s.length-1;p>=0;p--)a=s[p],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ge(s,"click",Ot),this.expand();var a=this;setTimeout(function(){Ne(s,"click",Ot),a._preventClick=!1})}}),qS=function(s,a,u){return new t_(s,a,u)},Id=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",u=v("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,u,d,p){var g=v("a",u,d);return g.innerHTML=s,g.href="#",g.title=a,g.setAttribute("role","button"),g.setAttribute("aria-label",a),jr(g),ge(g,"click",$r),ge(g,"click",p,this),ge(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";w(this._zoomInButton,a),w(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(y(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(y(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});De.mergeOptions({zoomControl:!0}),De.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Id,this.addControl(this.zoomControl))});var GS=function(s){return new Id(s)},n_=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",u=v("div",a),d=this.options;return this._addScales(d,a+"-line",u),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,u){s.metric&&(this._mScale=v("div",a,u)),s.imperial&&(this._iScale=v("div",a,u))},_update:function(){var s=this._map,a=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/s)},_updateImperial:function(s){var a=s*3.2808399,u,d,p;a>5280?(u=a/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(s,a,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),u=s/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),ZS=function(s){return new n_(s)},KS='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Pd=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?KS+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=v("div","leaflet-control-attribution"),jr(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});De.mergeOptions({attributionControl:!0}),De.addInitHook(function(){this.options.attributionControl&&new Pd().addTo(this)});var QS=function(s){return new Pd(s)};Mn.Layers=t_,Mn.Zoom=Id,Mn.Scale=n_,Mn.Attribution=Pd,ra.layers=qS,ra.zoom=GS,ra.scale=ZS,ra.attribution=QS;var ei=sn.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ei.addTo=function(s,a){return s.addHandler(a,this),this};var XS={Events:gt},i_=he.touch?"touchstart mousedown":"mousedown",Yi=Nn.extend({options:{clickTolerance:3},initialize:function(s,a,u,d){A(this,d),this._element=s,this._dragStartTarget=a||s,this._preventOutline=u},enable:function(){this._enabled||(ge(this._dragStartTarget,i_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yi._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,i_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Yi._dragging===this&&this.finishDrag();return}if(!(Yi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Yi._dragging=this,this._preventOutline&&at(this._element),Le(),ee(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,u=Fe(this._element);this._startPoint=new B(a.clientX,a.clientY),this._startPos=Y(this._element),this._parentScale=In(u);var d=s.type==="mousedown";ge(document,d?"mousemove":"touchmove",this._onMove,this),ge(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,u=new B(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ot(s),this._moved||(this.fire("dragstart"),this._moved=!0,y(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ue(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){w(document.body,"leaflet-dragging"),this._lastTarget&&(w(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),We(),ie();var a=this._moved&&this._moving;this._moving=!1,Yi._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function r_(s,a,u){var d,p=[1,4,2,8],g,P,O,V,U,re,pe,ke;for(g=0,re=s.length;g<re;g++)s[g]._code=Wr(s[g],a);for(O=0;O<4;O++){for(pe=p[O],d=[],g=0,re=s.length,P=re-1;g<re;P=g++)V=s[g],U=s[P],V._code&pe?U._code&pe||(ke=gu(U,V,pe,a,u),ke._code=Wr(ke,a),d.push(ke)):(U._code&pe&&(ke=gu(U,V,pe,a,u),ke._code=Wr(ke,a),d.push(ke)),d.push(V));s=d}return s}function s_(s,a){var u,d,p,g,P,O,V,U,re;if(!s||s.length===0)throw new Error("latlngs not passed");Pn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var pe=Se([0,0]),ke=Ve(s),Yt=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());Yt<1700&&(pe=kd(s));var Tt=s.length,kn=[];for(u=0;u<Tt;u++){var on=Se(s[u]);kn.push(a.project(Se([on.lat-pe.lat,on.lng-pe.lng])))}for(O=V=U=0,u=0,d=Tt-1;u<Tt;d=u++)p=kn[u],g=kn[d],P=p.y*g.x-g.y*p.x,V+=(p.x+g.x)*P,U+=(p.y+g.y)*P,O+=P*3;O===0?re=kn[0]:re=[V/O,U/O];var $s=a.unproject(X(re));return Se([$s.lat+pe.lat,$s.lng+pe.lng])}function kd(s){for(var a=0,u=0,d=0,p=0;p<s.length;p++){var g=Se(s[p]);a+=g.lat,u+=g.lng,d++}return Se([a/d,u/d])}var YS={__proto__:null,clipPolygon:r_,polygonCenter:s_,centroid:kd};function o_(s,a){if(!a||!s.length)return s.slice();var u=a*a;return s=tI(s,u),s=eI(s,u),s}function a_(s,a,u){return Math.sqrt(sa(s,a,u,!0))}function JS(s,a,u){return sa(s,a,u)}function eI(s,a){var u=s.length,d=typeof Uint8Array<"u"?Uint8Array:Array,p=new d(u);p[0]=p[u-1]=1,Cd(s,p,a,0,u-1);var g,P=[];for(g=0;g<u;g++)p[g]&&P.push(s[g]);return P}function Cd(s,a,u,d,p){var g=0,P,O,V;for(O=d+1;O<=p-1;O++)V=sa(s[O],s[d],s[p],!0),V>g&&(P=O,g=V);g>u&&(a[P]=1,Cd(s,a,u,d,P),Cd(s,a,u,P,p))}function tI(s,a){for(var u=[s[0]],d=1,p=0,g=s.length;d<g;d++)nI(s[d],s[p])>a&&(u.push(s[d]),p=d);return p<g-1&&u.push(s[g-1]),u}var l_;function u_(s,a,u,d,p){var g=d?l_:Wr(s,u),P=Wr(a,u),O,V,U;for(l_=P;;){if(!(g|P))return[s,a];if(g&P)return!1;O=g||P,V=gu(s,a,O,u,p),U=Wr(V,u),O===g?(s=V,g=U):(a=V,P=U)}}function gu(s,a,u,d,p){var g=a.x-s.x,P=a.y-s.y,O=d.min,V=d.max,U,re;return u&8?(U=s.x+g*(V.y-s.y)/P,re=V.y):u&4?(U=s.x+g*(O.y-s.y)/P,re=O.y):u&2?(U=V.x,re=s.y+P*(V.x-s.x)/g):u&1&&(U=O.x,re=s.y+P*(O.x-s.x)/g),new B(U,re,p)}function Wr(s,a){var u=0;return s.x<a.min.x?u|=1:s.x>a.max.x&&(u|=2),s.y<a.min.y?u|=4:s.y>a.max.y&&(u|=8),u}function nI(s,a){var u=a.x-s.x,d=a.y-s.y;return u*u+d*d}function sa(s,a,u,d){var p=a.x,g=a.y,P=u.x-p,O=u.y-g,V=P*P+O*O,U;return V>0&&(U=((s.x-p)*P+(s.y-g)*O)/V,U>1?(p=u.x,g=u.y):U>0&&(p+=P*U,g+=O*U)),P=s.x-p,O=s.y-g,d?P*P+O*O:new B(p,g)}function Pn(s){return!x(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function c_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(s)}function h_(s,a){var u,d,p,g,P,O,V,U;if(!s||s.length===0)throw new Error("latlngs not passed");Pn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var re=Se([0,0]),pe=Ve(s),ke=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());ke<1700&&(re=kd(s));var Yt=s.length,Tt=[];for(u=0;u<Yt;u++){var kn=Se(s[u]);Tt.push(a.project(Se([kn.lat-re.lat,kn.lng-re.lng])))}for(u=0,d=0;u<Yt-1;u++)d+=Tt[u].distanceTo(Tt[u+1])/2;if(d===0)U=Tt[0];else for(u=0,g=0;u<Yt-1;u++)if(P=Tt[u],O=Tt[u+1],p=P.distanceTo(O),g+=p,g>d){V=(g-d)/p,U=[O.x-V*(O.x-P.x),O.y-V*(O.y-P.y)];break}var on=a.unproject(X(U));return Se([on.lat+re.lat,on.lng+re.lng])}var iI={__proto__:null,simplify:o_,pointToSegmentDistance:a_,closestPointOnSegment:JS,clipSegment:u_,_getEdgeIntersection:gu,_getBitCode:Wr,_sqClosestPointOnSegment:sa,isFlat:Pn,_flat:c_,polylineCenter:h_},xd={project:function(s){return new B(s.lng,s.lat)},unproject:function(s){return new Oe(s.y,s.x)},bounds:new ve([-180,-90],[180,90])},Rd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,u=this.R,d=s.lat*a,p=this.R_MINOR/u,g=Math.sqrt(1-p*p),P=g*Math.sin(d),O=Math.tan(Math.PI/4-d/2)/Math.pow((1-P)/(1+P),g/2);return d=-u*Math.log(Math.max(O,1e-10)),new B(s.lng*a*u,d)},unproject:function(s){for(var a=180/Math.PI,u=this.R,d=this.R_MINOR/u,p=Math.sqrt(1-d*d),g=Math.exp(-s.y/u),P=Math.PI/2-2*Math.atan(g),O=0,V=.1,U;O<15&&Math.abs(V)>1e-7;O++)U=p*Math.sin(P),U=Math.pow((1-U)/(1+U),p/2),V=Math.PI/2-2*Math.atan(g*U)-P,P+=V;return new Oe(P*a,s.x*a/u)}},rI={__proto__:null,LonLat:xd,Mercator:Rd,SphericalMercator:Qn},sI=r({},Kn,{code:"EPSG:3395",projection:Rd,transformation:function(){var s=.5/(Math.PI*Rd.R);return Xn(s,.5,-s,.5)}()}),d_=r({},Kn,{code:"EPSG:4326",projection:xd,transformation:Xn(1/180,1,-1/180,.5)}),oI=r({},Ut,{projection:xd,transformation:Xn(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var u=a.lng-s.lng,d=a.lat-s.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Ut.Earth=Kn,Ut.EPSG3395=sI,Ut.EPSG3857=xs,Ut.EPSG900913=pd,Ut.EPSG4326=d_,Ut.Simple=oI;var Vn=Nn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});De.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=h(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,a){for(var u in this._layers)s.call(a,this._layers[u]);return this},_addLayers:function(s){s=s?x(s)?s:[s]:[];for(var a=0,u=s.length;a<u;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=h(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fs=Vn.extend({initialize:function(s,a){A(this,a),this._layers={};var u,d;if(s)for(u=0,d=s.length;u<d;u++)this.addLayer(s[u])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[s]&&d[s].apply(d,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var u in this._layers)s.call(a,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),aI=function(s,a){return new Fs(s,a)},Ii=Fs.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Fs.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Fs.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ye;for(var a in this._layers){var u=this._layers[a];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),lI=function(s,a){return new Ii(s,a)},zs=sn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,a){var u=this.options,d=u[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=X(d),g=X(a==="shadow"&&u.shadowAnchor||u.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(u.className||""),g&&(s.style.marginLeft=-g.x+"px",s.style.marginTop=-g.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return he.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function uI(s){return new zs(s)}var oa=zs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof oa.imagePath!="string"&&(oa.imagePath=this._detectIconPath()),(this.options.imagePath||oa.imagePath)+zs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(u,d,p){var g=d.exec(u);return g&&g[p]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=v("div","leaflet-default-icon-path",document.body),a=S(s,"background-image")||S(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),f_=ei.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Yi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),y(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&w(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,u=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=Y(a._icon),P=u.getPixelBounds(),O=u.getPixelOrigin(),V=Ce(P.min._subtract(O).add(p),P.max._subtract(O).subtract(p));if(!V.contains(g)){var U=X((Math.max(V.max.x,g.x)-V.max.x)/(P.max.x-V.max.x)-(Math.min(V.min.x,g.x)-V.min.x)/(P.min.x-V.min.x),(Math.max(V.max.y,g.y)-V.max.y)/(P.max.y-V.max.y)-(Math.min(V.min.y,g.y)-V.min.y)/(P.min.y-V.min.y)).multiplyBy(d);u.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),ue(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=je(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ut(this._panRequest),this._panRequest=je(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,u=a._shadow,d=Y(a._icon),p=a._map.layerPointToLatLng(d);u&&ue(u,d),a._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ut(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),_u=Vn.extend({options:{icon:new oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){A(this,a),this._latlng=Se(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=Se(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),y(u,a),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(u,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(y(p,a),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),C(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&C(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ue(this._icon,s),this._shadow&&ue(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),f_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new f_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&$(this._icon,s),this._shadow&&$(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,u=a.iconSize?X(a.iconSize):X(0,0),d=a.iconAnchor?X(a.iconAnchor):X(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cI(s,a){return new _u(s,a)}var Ji=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vu=Ji.extend({options:{fill:!0,radius:10},initialize:function(s,a){A(this,a),this._latlng=Se(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=Se(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return Ji.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,u=this._clickTolerance(),d=[s+u,a+u];this._pxBounds=new ve(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hI(s,a){return new vu(s,a)}var Ad=vu.extend({initialize:function(s,a,u){if(typeof a=="number"&&(a=r({},u,{radius:a})),A(this,a),this._latlng=Se(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ye(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ji.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===Kn.distance){var p=Math.PI/180,g=this._mRadius/Kn.R/p,P=u.project([a+g,s]),O=u.project([a-g,s]),V=P.add(O).divideBy(2),U=u.unproject(V).lat,re=Math.acos((Math.cos(g*p)-Math.sin(a*p)*Math.sin(U*p))/(Math.cos(a*p)*Math.cos(U*p)))/p;(isNaN(re)||re===0)&&(re=g/Math.cos(Math.PI/180*a)),this._point=V.subtract(u.getPixelOrigin()),this._radius=isNaN(re)?0:V.x-u.project([U,s-re]).x,this._radiusY=V.y-P.y}else{var pe=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(pe).x}this._updateBounds()}});function dI(s,a,u){return new Ad(s,a,u)}var Pi=Ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){A(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,u=null,d=sa,p,g,P=0,O=this._parts.length;P<O;P++)for(var V=this._parts[P],U=1,re=V.length;U<re;U++){p=V[U-1],g=V[U];var pe=d(s,p,g,!0);pe<a&&(a=pe,u=d(s,p,g))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return h_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=Se(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ye,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],u=Pn(s),d=0,p=s.length;d<p;d++)u?(a[d]=Se(s[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(s[d]);return a},_project:function(){var s=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new B(s,s);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,u){var d=s[0]instanceof Oe,p=s.length,g,P;if(d){for(P=[],g=0;g<p;g++)P[g]=this._map.latLngToLayerPoint(s[g]),u.extend(P[g]);a.push(P)}else for(g=0;g<p;g++)this._projectLatlngs(s[g],a,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,d,p,g,P,O,V;for(u=0,p=0,g=this._rings.length;u<g;u++)for(V=this._rings[u],d=0,P=V.length;d<P-1;d++)O=u_(V[d],V[d+1],s,d,!0),O&&(a[p]=a[p]||[],a[p].push(O[0]),(O[1]!==V[d+1]||d===P-2)&&(a[p].push(O[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,u=0,d=s.length;u<d;u++)s[u]=o_(s[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var u,d,p,g,P,O,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,g=this._parts.length;u<g;u++)for(O=this._parts[u],d=0,P=O.length,p=P-1;d<P;p=d++)if(!(!a&&d===0)&&a_(s,O[p],O[d])<=V)return!0;return!1}});function fI(s,a){return new Pi(s,a)}Pi._flat=c_;var Bs=Pi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return s_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=Pi.prototype._convertLatLngs.call(this,s),u=a.length;return u>=2&&a[0]instanceof Oe&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(s){Pi.prototype._setLatLngs.call(this,s),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,u=new B(a,a);if(s=new ve(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,g;d<p;d++)g=r_(this._rings[d],s,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,u,d,p,g,P,O,V,U;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,V=this._parts.length;g<V;g++)for(u=this._parts[g],P=0,U=u.length,O=U-1;P<U;O=P++)d=u[P],p=u[O],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||Pi.prototype._containsPoint.call(this,s,!0)}});function pI(s,a){return new Bs(s,a)}var ki=Ii.extend({initialize:function(s,a){A(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=x(s)?s:s.features,u,d,p;if(a){for(u=0,d=a.length;u<d;u++)p=a[u],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(s))return this;var P=yu(s,g);return P?(P.feature=Tu(s),P.defaultOptions=P.options,this.resetStyle(P),g.onEachFeature&&g.onEachFeature(s,P),this.addLayer(P)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function yu(s,a){var u=s.type==="Feature"?s.geometry:s,d=u?u.coordinates:null,p=[],g=a&&a.pointToLayer,P=a&&a.coordsToLatLng||bd,O,V,U,re;if(!d&&!u)return null;switch(u.type){case"Point":return O=P(d),p_(g,s,O,a);case"MultiPoint":for(U=0,re=d.length;U<re;U++)O=P(d[U]),p.push(p_(g,s,O,a));return new Ii(p);case"LineString":case"MultiLineString":return V=wu(d,u.type==="LineString"?0:1,P),new Pi(V,a);case"Polygon":case"MultiPolygon":return V=wu(d,u.type==="Polygon"?1:2,P),new Bs(V,a);case"GeometryCollection":for(U=0,re=u.geometries.length;U<re;U++){var pe=yu({geometry:u.geometries[U],type:"Feature",properties:s.properties},a);pe&&p.push(pe)}return new Ii(p);case"FeatureCollection":for(U=0,re=u.features.length;U<re;U++){var ke=yu(u.features[U],a);ke&&p.push(ke)}return new Ii(p);default:throw new Error("Invalid GeoJSON object.")}}function p_(s,a,u,d){return s?s(a,u):new _u(u,d&&d.markersInheritOptions&&d)}function bd(s){return new Oe(s[1],s[0],s[2])}function wu(s,a,u){for(var d=[],p=0,g=s.length,P;p<g;p++)P=a?wu(s[p],a-1,u):(u||bd)(s[p]),d.push(P);return d}function Od(s,a){return s=Se(s),s.alt!==void 0?[E(s.lng,a),E(s.lat,a),E(s.alt,a)]:[E(s.lng,a),E(s.lat,a)]}function Eu(s,a,u,d){for(var p=[],g=0,P=s.length;g<P;g++)p.push(a?Eu(s[g],Pn(s[g])?0:a-1,u,d):Od(s[g],d));return!a&&u&&p.length>0&&p.push(p[0].slice()),p}function Us(s,a){return s.feature?r({},s.feature,{geometry:a}):Tu(a)}function Tu(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ld={toGeoJSON:function(s){return Us(this,{type:"Point",coordinates:Od(this.getLatLng(),s)})}};_u.include(Ld),Ad.include(Ld),vu.include(Ld),Pi.include({toGeoJSON:function(s){var a=!Pn(this._latlngs),u=Eu(this._latlngs,a?1:0,!1,s);return Us(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),Bs.include({toGeoJSON:function(s){var a=!Pn(this._latlngs),u=a&&!Pn(this._latlngs[0]),d=Eu(this._latlngs,u?2:a?1:0,!0,s);return a||(d=[d]),Us(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Fs.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(s).geometry.coordinates)}),Us(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var u=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(s);if(u)d.push(g.geometry);else{var P=Tu(g);P.type==="FeatureCollection"?d.push.apply(d,P.features):d.push(P)}}}),u?Us(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function m_(s,a){return new ki(s,a)}var mI=m_,Su=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,u){this._url=s,this._bounds=Ve(a),A(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){C(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&q(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ve(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:v("img");if(y(a,"leaflet-image-layer"),this._zoomAnimated&&y(a,"leaflet-zoom-animated"),this.options.className&&y(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;de(this._image,u,a)},_reset:function(){var s=this._image,a=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();ue(s,a.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){$(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),gI=function(s,a,u){return new Su(s,a,u)},g_=Su.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:v("video");if(y(a,"leaflet-image-layer"),this._zoomAnimated&&y(a,"leaflet-zoom-animated"),this.options.className&&y(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),s){for(var u=a.getElementsByTagName("source"),d=[],p=0;p<u.length;p++)d.push(u[p].src);this._url=u.length>0?d:[a.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var P=v("source");P.src=this._url[g],a.appendChild(P)}}});function _I(s,a,u){return new g_(s,a,u)}var __=Su.extend({_initImage:function(){var s=this._image=this._url;y(s,"leaflet-image-layer"),this._zoomAnimated&&y(s,"leaflet-zoom-animated"),this.options.className&&y(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function vI(s,a,u){return new __(s,a,u)}var ti=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof Oe||x(s))?(this._latlng=Se(s),A(this,a)):(A(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&$(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&$(this._container,1),this.bringToFront(),this.options.interactive&&(y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?($(this._container,0),this._removeTimeout=setTimeout(l(C,void 0,this._container),200)):C(this._container),this.options.interactive&&(w(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Se(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&q(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof Ii){a=null;var u=this._source._layers;for(var d in u)if(u[d]._map){a=u[d];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=X(this.options.offset),u=this._getAnchor();this._zoomAnimated?ue(this._container,s.add(u)):a=a.add(s).add(u);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});De.include({_initOverlay:function(s,a,u,d){var p=a;return p instanceof s||(p=new s(d).setContent(a)),u&&p.setLatLng(u),p}}),Vn.include({_initOverlay:function(s,a,u,d){var p=u;return p instanceof s?(A(p,d),p._source=this):(p=a&&!d?a:new s(d,this),p.setContent(u)),p}});var Iu=ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ti.prototype.openOn.call(this,s)},onAdd:function(s){ti.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ji||this._source.on("preclick",mn))},onRemove:function(s){ti.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ji||this._source.off("preclick",mn))},getEvents:function(){var s=ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=v("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=v("div",s+"-content-wrapper",a);if(this._contentNode=v("div",s+"-content",u),jr(a),bt(this._contentNode),ge(a,"contextmenu",mn),this._tipContainer=v("div",s+"-tip-container",a),this._tip=v("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=v("a",s+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',ge(d,"click",function(p){Ot(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var d=s.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",y(s,g)):w(s,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();ue(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(S(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,d=this._containerWidth,p=new B(this._containerLeft,-u-this._containerBottom);p._add(Y(this._container));var g=s.layerPointToContainerPoint(p),P=X(this.options.autoPanPadding),O=X(this.options.autoPanPaddingTopLeft||P),V=X(this.options.autoPanPaddingBottomRight||P),U=s.getSize(),re=0,pe=0;g.x+d+V.x>U.x&&(re=g.x+d-U.x+V.x),g.x-re-O.x<0&&(re=g.x-O.x),g.y+u+V.y>U.y&&(pe=g.y+u-U.y+V.y),g.y-pe-O.y<0&&(pe=g.y-O.y),(re||pe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([re,pe]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yI=function(s,a){return new Iu(s,a)};De.mergeOptions({closePopupOnClick:!0}),De.include({openPopup:function(s,a,u){return this._initOverlay(Iu,s,a,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Vn.include({bindPopup:function(s,a){return this._popup=this._initOverlay(Iu,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ii||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){$r(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof Ji)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Pu=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ti.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ti.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ti.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=v("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,u,d=this._map,p=this._container,g=d.latLngToContainerPoint(d.getCenter()),P=d.layerPointToContainerPoint(s),O=this.options.direction,V=p.offsetWidth,U=p.offsetHeight,re=X(this.options.offset),pe=this._getAnchor();O==="top"?(a=V/2,u=U):O==="bottom"?(a=V/2,u=0):O==="center"?(a=V/2,u=U/2):O==="right"?(a=0,u=U/2):O==="left"?(a=V,u=U/2):P.x<g.x?(O="right",a=0,u=U/2):(O="left",a=V+(re.x+pe.x)*2,u=U/2),s=s.subtract(X(a,u,!0)).add(re).add(pe),w(p,"leaflet-tooltip-right"),w(p,"leaflet-tooltip-left"),w(p,"leaflet-tooltip-top"),w(p,"leaflet-tooltip-bottom"),y(p,"leaflet-tooltip-"+O),ue(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&$(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wI=function(s,a){return new Pu(s,a)};De.include({openTooltip:function(s,a,u){return this._initOverlay(Pu,s,a,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Vn.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pu,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ii||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(ge(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ge(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,u,d;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var v_=zs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(N(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=X(u.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function EI(s){return new v_(s)}zs.Default=oa;var aa=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),C(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(q(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof B?s:new B(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,u=-s(-1/0,1/0),d=0,p=a.length,g;d<p;d++)g=a[d].style.zIndex,a[d]!==this._container&&g&&(u=s(u,+g));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){$(this._container,this.options.opacity);var s=+new Date,a=!1,u=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var g=Math.min(1,(s-p.loaded)/200);$(p.el,g),g<1?a=!0:(p.active?u=!0:this._onOpaqueTile(p),p.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(ut(this._fadeFrame),this._fadeFrame=je(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=v("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=a-Math.abs(s-u),this._onUpdateLevel(u)):(C(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=v("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)C(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,u,d){var p=Math.floor(s/2),g=Math.floor(a/2),P=u-1,O=new B(+p,+g);O.z=+P;var V=this._tileCoordsToKey(O),U=this._tiles[V];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),P>d?this._retainParent(p,g,P,d):!1)},_retainChildren:function(s,a,u,d){for(var p=2*s;p<2*s+2;p++)for(var g=2*a;g<2*a+2;g++){var P=new B(p,g);P.z=u+1;var O=this._tileCoordsToKey(P),V=this._tiles[O];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);u+1<d&&this._retainChildren(p,g,u+1,d)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,u,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,a)},_setZoomTransform:function(s,a,u){var d=this._map.getZoomScale(u,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,u)).round();he.any3d?de(s.el,p,d):ue(s.el,p)},_resetGrid:function(){var s=this._map,a=s.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],d).x/u.x),Math.ceil(s.project([0,a.wrapLng[1]],d).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],d).y/u.x),Math.ceil(s.project([a.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(u,this._tileZoom),p=a.project(s,this._tileZoom).floor(),g=a.getSize().divideBy(d*2);return new ve(p.subtract(g),p.add(g))},_update:function(s){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),g=p.getCenter(),P=[],O=this.options.keepBuffer,V=new ve(p.getBottomLeft().subtract([O,-O]),p.getTopRight().add([O,-O]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var re=this._tiles[U].coords;(re.z!==this._tileZoom||!V.contains(new B(re.x,re.y)))&&(this._tiles[U].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var pe=p.min.y;pe<=p.max.y;pe++)for(var ke=p.min.x;ke<=p.max.x;ke++){var Yt=new B(ke,pe);if(Yt.z=this._tileZoom,!!this._isValidTile(Yt)){var Tt=this._tiles[this._tileCoordsToKey(Yt)];Tt?Tt.current=!0:P.push(Yt)}}if(P.sort(function(on,$s){return on.distanceTo(g)-$s.distanceTo(g)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kn=document.createDocumentFragment();for(ke=0;ke<P.length;ke++)this._addTile(P[ke],kn);this._level.el.appendChild(kn)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!a.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return Ve(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,u=this.getTileSize(),d=s.scaleBy(u),p=d.add(u),g=a.unproject(d,s.z),P=a.unproject(p,s.z);return[g,P]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),u=new Ye(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),u=new B(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(s){var a=this._tiles[s];a&&(C(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){y(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=_,s.onmousemove=_,he.ielt9&&this.options.opacity<1&&$(s,this.options.opacity)},_addTile:function(s,a){var u=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&je(l(this._tileReady,this,s,null,p)),ue(p,u),this._tiles[d]={el:p,coords:s,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:s});var d=this._tileCoordsToKey(s);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?($(u.el,0),ut(this._fadeFrame),this._fadeFrame=je(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(y(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?je(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new B(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new ve(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function TI(s){return new aa(s)}var js=aa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=A(this,a),a.detectRetina&&he.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var u=document.createElement("img");return ge(u,"load",l(this._tileOnLoad,this,a,u)),ge(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var a={r:he.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=u),a["-y"]=u}return T(this._url,r(a,this.options))},_tileOnLoad:function(s,a){he.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,u){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),s(u,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(s=a-s),s+d},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=_,a.onerror=_,!a.complete)){a.src=Q;var u=this._tiles[s].coords;C(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",Q),aa.prototype._removeTile.call(this,s)},_tileReady:function(s,a,u){if(!(!this._map||u&&u.getAttribute("src")===Q))return aa.prototype._tileReady.call(this,s,a,u)}});function y_(s,a){return new js(s,a)}var w_=js.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var u=r({},this.defaultWmsParams);for(var d in a)d in this.options||(u[d]=a[d]);a=A(this,a);var p=a.detectRetina&&he.retina?2:1,g=this.getTileSize();u.width=g.x*p,u.height=g.y*p,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,js.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),u=this._crs,d=Ce(u.project(a[0]),u.project(a[1])),p=d.min,g=d.max,P=(this._wmsVersion>=1.3&&this._crs===d_?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),O=js.prototype.getTileUrl.call(this,s);return O+D(this.wmsParams,O,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function SI(s,a){return new w_(s,a)}js.WMS=w_,y_.wms=SI;var Ci=Vn.extend({options:{padding:.1},initialize:function(s){A(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var u=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),g=d.multiplyBy(-u).add(p).subtract(this._map._getNewPixelOrigin(s,a));he.any3d?de(this._container,g,u):ue(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new ve(u,u.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),E_=Ci.extend({options:{tolerance:0},getEvents:function(){var s=Ci.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ge(s,"mousemove",this._onMouseMove,this),ge(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ge(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ut(this._redrawRequest),delete this._ctx,C(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ci.prototype._update.call(this);var s=this._bounds,a=this._container,u=s.getSize(),d=he.retina?2:1;ue(a,s.min),a.width=d*u.x,a.height=d*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,u=a.next,d=a.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),u=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;u.push(d)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||je(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var u,d,p,g,P=s._parts,O=P.length,V=this._ctx;if(O){for(V.beginPath(),u=0;u<O;u++){for(d=0,p=P[u].length;d<p;d++)g=P[u][d],V[d?"lineTo":"moveTo"](g.x,g.y);a&&V.closePath()}this._fillStroke(V,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,u=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(u.save(),u.scale(1,p)),u.beginPath(),u.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,a){var u=a.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(w(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(y(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,u){this._map._fireDOMEvent(a,u||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var u=a.next,d=a.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var u=a.next,d=a.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function T_(s){return he.canvas?new E_(s):null}var la=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),II={_initContainer:function(){this._container=v("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ci.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=la("shape");y(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=la("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;C(a),s.removeInteractiveTarget(a),delete this._layers[h(s)]},_updateStyle:function(s){var a=s._stroke,u=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=s._stroke=la("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=x(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),s._stroke=null),d.fill?(u||(u=s._fill=la("fill")),p.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(p.removeChild(u),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),u=Math.round(s._radius),d=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){q(s._container)},_bringToBack:function(s){le(s._container)}},ku=he.vml?la:eu,ua=Ci.extend({_initContainer:function(){this._container=ku("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ku("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){C(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ci.prototype._update.call(this);var s=this._bounds,a=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),ue(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=ku("path");s.options.className&&y(a,s.options.className),s.options.interactive&&y(a,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){C(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,u=s.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,Fr(s._parts,a))},_updateCircle:function(s){var a=s._point,u=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||u,p="a"+u+","+d+" 0 1,0 ",g=s._empty()?"M0 0":"M"+(a.x-u)+","+a.y+p+u*2+",0 "+p+-u*2+",0 ";this._setPath(s,g)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){q(s._path)},_bringToBack:function(s){le(s._path)}});he.vml&&ua.include(II);function S_(s){return he.svg||he.vml?new ua(s):null}De.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&T_(s)||S_(s)}});var I_=Bs.extend({initialize:function(s,a){Bs.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ve(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function PI(s,a){return new I_(s,a)}ua.create=ku,ua.pointsToPath=Fr,ki.geometryToLayer=yu,ki.coordsToLatLng=bd,ki.coordsToLatLngs=wu,ki.latLngToCoords=Od,ki.latLngsToCoords=Eu,ki.getFeature=Us,ki.asFeature=Tu,De.mergeOptions({boxZoom:!0});var P_=ei.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){C(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ee(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(s),ge(document,{contextmenu:$r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=v("div","leaflet-zoom-box",this._container),y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new ve(this._point,this._startPoint),u=a.getSize();ue(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(C(this._box),w(this._container,"leaflet-crosshair")),ie(),We(),Ne(document,{contextmenu:$r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});De.addInitHook("addHandler","boxZoom",P_),De.mergeOptions({doubleClickZoom:!0});var k_=ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,u=a.getZoom(),d=a.options.zoomDelta,p=s.originalEvent.shiftKey?u-d:u+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(s.containerPoint,p)}});De.addInitHook("addHandler","doubleClickZoom",k_),De.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var C_=ei.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Yi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){w(this._map._container,"leaflet-grab"),w(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Ve(this._map.options.maxBounds);this._offsetLimit=Ce(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+u)%s+a-u,g=(d+a+u)%s-a-u,P=Math.abs(p+u)<Math.abs(g+u)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(s){var a=this._map,u=a.options,d=!u.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,P=u.easeLinearity,O=p.multiplyBy(P/g),V=O.distanceTo([0,0]),U=Math.min(u.inertiaMaxSpeed,V),re=O.multiplyBy(U/V),pe=U/(u.inertiaDeceleration*P),ke=re.multiplyBy(-pe/2).round();!ke.x&&!ke.y?a.fire("moveend"):(ke=a._limitOffset(ke,a.options.maxBounds),je(function(){a.panBy(ke,{duration:pe,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});De.addInitHook("addHandler","dragging",C_),De.mergeOptions({keyboard:!0,keyboardPanDelta:80});var x_=ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ge(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,u=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},u=this.keyCodes,d,p;for(d=0,p=u.left.length;d<p;d++)a[u.left[d]]=[-1*s,0];for(d=0,p=u.right.length;d<p;d++)a[u.right[d]]=[s,0];for(d=0,p=u.down.length;d<p;d++)a[u.down[d]]=[0,s];for(d=0,p=u.up.length;d<p;d++)a[u.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},u=this.keyCodes,d,p;for(d=0,p=u.zoomIn.length;d<p;d++)a[u.zoomIn[d]]=s;for(d=0,p=u.zoomOut.length;d<p;d++)a[u.zoomOut[d]]=-s},_addHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,u=this._map,d;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[a],s.shiftKey&&(d=X(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(X(d),u.options.maxBounds)),u.options.worldCopyJump){var p=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(p)}else u.panBy(d)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;$r(s)}}});De.addInitHook("addHandler","keyboard",x_),De.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var R_=ei.extend({addHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=Jg(s),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),$r(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=u?Math.ceil(p/u)*u:p,P=s._limitZoom(a+(this._delta>0?g:-g))-a;this._delta=0,this._startTime=null,P&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+P):s.setZoomAround(this._lastMousePos,a+P))}});De.addInitHook("addHandler","scrollWheelZoom",R_);var kI=600;De.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var A_=ei.extend({addHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new B(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ge(document,"touchend",Ot),ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),kI),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ne(document,"touchend",Ot),Ne(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new B(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});De.addInitHook("addHandler","tapHold",A_),De.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var b_=ei.extend({addHooks:function(){y(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){w(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),Ot(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]),p=u.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),ut(this._animRequest);var P=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=je(P,this,!0),Ot(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ut(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});De.addInitHook("addHandler","touchZoom",b_),De.BoxZoom=P_,De.DoubleClickZoom=k_,De.Drag=C_,De.Keyboard=x_,De.ScrollWheelZoom=R_,De.TapHold=A_,De.TouchZoom=b_,n.Bounds=ve,n.Browser=he,n.CRS=Ut,n.Canvas=E_,n.Circle=Ad,n.CircleMarker=vu,n.Class=sn,n.Control=Mn,n.DivIcon=v_,n.DivOverlay=ti,n.DomEvent=WS,n.DomUtil=Ur,n.Draggable=Yi,n.Evented=Nn,n.FeatureGroup=Ii,n.GeoJSON=ki,n.GridLayer=aa,n.Handler=ei,n.Icon=zs,n.ImageOverlay=Su,n.LatLng=Oe,n.LatLngBounds=Ye,n.Layer=Vn,n.LayerGroup=Fs,n.LineUtil=iI,n.Map=De,n.Marker=_u,n.Mixin=XS,n.Path=Ji,n.Point=B,n.PolyUtil=YS,n.Polygon=Bs,n.Polyline=Pi,n.Popup=Iu,n.PosAnimation=e_,n.Projection=rI,n.Rectangle=I_,n.Renderer=Ci,n.SVG=ua,n.SVGOverlay=__,n.TileLayer=js,n.Tooltip=Pu,n.Transformation=Cs,n.Util=vi,n.VideoOverlay=g_,n.bind=l,n.bounds=Ce,n.canvas=T_,n.circle=dI,n.circleMarker=hI,n.control=ra,n.divIcon=EI,n.extend=r,n.featureGroup=lI,n.geoJSON=m_,n.geoJson=mI,n.gridLayer=TI,n.icon=uI,n.imageOverlay=gI,n.latLng=Se,n.latLngBounds=Ve,n.layerGroup=aI,n.map=HS,n.marker=cI,n.point=X,n.polygon=pI,n.polyline=fI,n.popup=yI,n.rectangle=PI,n.setOptions=A,n.stamp=h,n.svg=S_,n.svgOverlay=vI,n.tileLayer=y_,n.tooltip=wI,n.transformation=Xn,n.version=i,n.videoOverlay=_I;var CI=window.L;n.noConflict=function(){return window.L=CI,this},window.L=n})})(Xp,Xp.exports);var fd=Xp.exports;function Zg(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Kg(t,e){return e==null?function(i,r){const o=H.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=H.useRef();o.current||(o.current=t(i,r));const l=H.useRef(i),{instance:c}=o.current;return H.useEffect(function(){l.current!==i&&(e(c,i,l.current),l.current=i)},[c,i,r]),o}}function TM(t,e){H.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function US(t){return function(n){const i=zS(),r=t(Gg(n,i),i);return MS(i.map,n.attribution),BS(r.current,n.eventHandlers),TM(r.current,i),r}}function SM(t,e){const n=Kg(t,e),i=US(n);return vM(i)}function IM(t,e){const n=Kg(t),i=EM(n,e);return yM(i)}function PM(t,e){const n=Kg(t,e),i=US(n);return wM(i)}function kM(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Yp(){return Yp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yp.apply(this,arguments)}function CM({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:c,whenReady:h,zoom:f,...m},_){const[E]=H.useState({className:r,id:o,style:c}),[I,R]=H.useState(null);H.useImperativeHandle(_,()=>(I==null?void 0:I.map)??null,[I]);const A=H.useCallback(k=>{if(k!==null&&I===null){const T=new fd.Map(k,m);n!=null&&f!=null?T.setView(n,f):t!=null&&T.fitBounds(t,e),h!=null&&T.whenReady(h),R(gM(T))}},[]);H.useEffect(()=>()=>{I==null||I.map.remove()},[I]);const D=I?yo.createElement(FS,{value:I},i):l??null;return yo.createElement("div",Yp({},E,{ref:A}),D)}const xM=H.forwardRef(CM),RM=SM(function({position:e,...n},i){const r=new fd.Marker(e,n);return Zg(r,_M(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),AM=IM(function(e,n){const i=new fd.Popup(e,n.overlayContainer);return Zg(i,n)},function(e,n,{position:i},r){H.useEffect(function(){const{instance:l}=e;function c(f){f.popup===l&&(l.update(),r(!0))}function h(f){f.popup===l&&r(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:c,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,i])}),bM=PM(function({url:e,...n},i){const r=new fd.TileLayer(e,Gg(n,i));return Zg(r,i)},function(e,n,i){kM(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),OM=()=>{const t=H.useRef(null);return b.jsxs("div",{className:"location_container",children:[b.jsxs("div",{children:[b.jsx("h2",{children:"Hotel Sol"}),b.jsx("div",{children:"The building, whose architecture refers to the style of a seaside villa, is located on the main communication route of the Tri-City, and at the same time right next to the Aquapark and only 250 m from the sandy beach. The hotel has 50 rooms. On its premises there is the Aquarella Restaurant, serving European cuisine and 3 conference rooms."})]}),b.jsxs(xM,{center:[51.505,-.09],zoom:13,ref:t,style:{height:"500px",width:"1000px"},children:[b.jsx(bM,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),b.jsx(RM,{position:[51.505,-.09],children:b.jsxs(AM,{children:["Hotel Sol ",b.jsx("br",{})," Al. Nieznana 5, ",b.jsx("br",{})," 01-100 Tajna Gra, ",b.jsx("br",{})," Nibylandia"]})})]}),");"]})},LM=()=>{var t,e,n;return b.jsxs(b.Fragment,{children:[((t=rt==null?void 0:rt.currentUser)==null?void 0:t.email)&&b.jsxs("h1",{children:["Hello ",(e=rt==null?void 0:rt.currentUser)==null?void 0:e.email]}),!((n=rt==null?void 0:rt.currentUser)!=null&&n.email)&&b.jsx("h1",{children:"Hello"}),b.jsx(pM,{}),b.jsx(OM,{}),b.jsx(cM,{})]})},NM=()=>b.jsxs("footer",{children:[b.jsxs("div",{className:"footer-content",children:[b.jsxs("div",{className:"footer-section",children:[b.jsx("h2",{children:"Links"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx("a",{href:"/",children:"Main page"})}),b.jsx("li",{children:b.jsx("a",{href:"/about",children:"About us"})}),b.jsx("li",{children:b.jsx("a",{href:"/contact",children:"Contact us"})})]})]}),b.jsxs("div",{className:"footer-section",children:[b.jsx("h2",{children:"Social Media"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx("a",{href:"https://tripadvisor.com/",children:"TripAdvisor"})}),b.jsx("li",{children:b.jsx("a",{href:"https://facebook.com/",children:"Facebook"})}),b.jsx("li",{children:b.jsx("a",{href:"https://instagram.com/",children:"Instagram"})})]})]}),b.jsxs("div",{className:"footer-section",children:[b.jsx("h2",{children:"Contact"}),b.jsx("p",{children:"Adress: Al. Nieznana 5, 01-100 Tajna Gra, Nibylandia"}),b.jsx("p",{children:"Tel: +425 89 123 45 67"}),b.jsx("p",{children:"E-mail: info@solhotel.com"})]})]}),b.jsx("div",{className:"footer-bottom",children:b.jsx("p",{children:" 2024 Sol Hotel. All rights reserved."})})]}),DM={},Qg=H.createContext(DM),MM=({children:t})=>{const[e,n]=H.useState("");return b.jsx(Qg.Provider,{value:{ID:e,setID:n},children:t})},jS=[{id:1,room:"SINGLE ROOM",room_description:"Comfortable and modern interior with a comfortable bed (140x200 cm). The bathroom is equipped with a shower or bathtub, hairdryer. The room features a work desk, refrigerator, safe, tea and coffee brewing set, free mineral water and LCD TV with international channels. It is possible to darken the room completely.",price:285,surface:20,people:1,url:"https://th.bing.com/th/id/OIP.MqDPVS_IKpo8aaPI7QH2xgHaFg?rs=1&pid=ImgDetMain"},{id:2,room:"QUEEN DOUBLE ROOM",room_description:"Comfortable and modern interior with a comfortable king-size bed (180x200 cm). The bathroom is equipped with a shower or bathtub, hairdryer. The room features a work desk, refrigerator, safe, tea and coffee brewing set, free mineral water and LCD TV with international channels. It is possible to darken the room completely.",price:315,surface:25,people:2,url:"https://th.bing.com/th/id/OIP.MqDPVS_IKpo8aaPI7QH2xgHaFg?rs=1&pid=ImgDetMain"},{id:3,room:"TWIN DOUBLE ROOM",room_description:"Comfortable and modern interior with two comfortable separate beds (90x200 cm). The bathroom is equipped with a shower or bathtub. The room features a work desk, refrigerator, safe, tea and coffee brewing set, free mineral water and LCD TV with international channels. It is possible to darken the room completely.",price:345,surface:25,people:2,url:"https://th.bing.com/th/id/OIP.MqDPVS_IKpo8aaPI7QH2xgHaFg?rs=1&pid=ImgDetMain"},{id:4,room:"PREMIUM DOUBLE ROOM",room_description:"Comfortable and modern interior with a comfortable king-size bed (180x200 cm). The bathroom is equipped with a shower or bathtub, hairdryer, bathrobe and slippers. The room features a work desk, refrigerator, safe, tea and coffee brewing set, free mineral water and LCD TV with international channels. It is possible to darken the room completely.",price:314,surface:35,people:2,url:"https://th.bing.com/th/id/OIP.MqDPVS_IKpo8aaPI7QH2xgHaFg?rs=1&pid=ImgDetMain"},{id:5,room:"JUNIOR SUITE",room_description:"Spacious and modern interior. The suite features a room with a comfortable king-size bed (180x200 cm) and a double sofa. The bathroom features a bathtub with shower, hairdryer, bathrobes and slippers. The room features a large work desk, refrigerator, safe, tea and coffee brewing set, free mineral water and LCD TV with international channels. It is possible to darken the room completely.",price:361,surface:41,people:2,url:"https://th.bing.com/th/id/OIP.MqDPVS_IKpo8aaPI7QH2xgHaFg?rs=1&pid=ImgDetMain"}],VM=()=>{const[t,e]=H.useState(""),[n,i]=H.useState(null),{ID:r}=H.useContext(Qg);console.log("text",r);const[o,l]=H.useState([]);H.useEffect(()=>{l(jS)},[]);const c=m=>{e(m.target.value)},h=m=>{console.log(m),i(m)},f=m=>{m.preventDefault(),n!==null&&t.trim()!==""?(e(""),i(null)):alert("Please select a room and date")};return b.jsxs("div",{children:[b.jsx("h2",{children:"Book a Room"}),b.jsxs("form",{onSubmit:f,children:[b.jsx("label",{htmlFor:"date",children:"Choose Booking Date:"}),b.jsx("input",{type:"date",id:"date",value:t,onChange:c,required:!0}),b.jsx("label",{htmlFor:"room",children:"Choose Room:"}),b.jsxs("select",{id:"room",value:n||"",onChange:m=>h(Number(m.target.value)),required:!0,children:[b.jsx("option",{value:"",disabled:!0,children:"Choose Room"}),o.map(m=>b.jsxs("option",{value:m.id,children:[m.room," - $",m.price]},m.id))]}),b.jsx("button",{type:"submit",children:"Book"})]})]})},FM=()=>{const[t,e]=H.useState({name:"",email:"",message:""}),n=r=>{r.target,e({...t,[r.target.name]:r.target.value})},i=async r=>{r.preventDefault(),console.log(m0),await sM(HD(m0,"cities","LA"),{name:"Los Angeles",state:"CA",country:"USA"})};return b.jsxs("form",{className:"contact-form",onSubmit:i,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"name",children:"Name:"}),b.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"email",children:"Email:"}),b.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"message",children:"Message:"}),b.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0})]}),b.jsx("button",{type:"submit",className:"submit-btn",children:"Submit"})]})},zM=()=>{const t=BE(),e=()=>{t("/booking")};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"container",children:[b.jsx("div",{children:"SEE OUR COMFORTABLE ROOM"}),b.jsxs("div",{children:[b.jsx("div",{children:"The hotel has 85 rooms, including 74 standard rooms, 6 premium rooms and 5 suites. Our rooms are equipped with large, comfortable beds, which ensure a restful night's sleep. Standard facilities include: telephone with a free wake-up call on demand, LCD satellite TV, free Wi-Fi and tea and coffee making facilities as well as free mineral water. Bathrooms are equipped with showers or bathtubs. For extra comfort, each bathroom has a hairdryer, slippers, and bathrobes. To ensure our guests' best possible rest, all rooms are equipped with blackout curtains."}),b.jsxs("div",{children:[b.jsx("div",{children:"W naszych pokojach znajd pastwo"}),b.jsxs("div",{className:"photos_container",children:[b.jsx("img",{className:"add_image",src:"https://cdn.pixabay.com/photo/2017/03/05/17/39/wi-fi-2119225_1280.png"}),b.jsx("div",{children:"Internet w pokoju"}),b.jsx("img",{className:"add_image",src:"https://image.freepik.com/darmowe-ikony/lodowka_318-10736.jpg"}),b.jsx("div",{children:"Lodwka"}),b.jsx("img",{className:"add_image",src:"https://th.bing.com/th/id/R.f5866a9e728c84ed2933d3dd31804fee?rik=rQy59MfHPnTEjA&pid=ImgRaw&r=0"}),b.jsx("div",{children:"Telefon"}),b.jsx("img",{className:"add_image",src:"https://image.freepik.com/darmowe-ikony/sylwetka-kropla-wody_318-37294.jpg"}),b.jsx("div",{children:"Bezpatna woda mineralna"}),b.jsx("img",{className:"add_image",src:"https://i.pinimg.com/originals/fa/9a/8c/fa9a8c990be8c250c7966931a0c73893.png"}),b.jsx("div",{children:"Klimatyzacja"}),b.jsx("img",{className:"add_image",src:"https://mkdesk.pro/wp-content/uploads/2020/03/ikona-biurka-4.png"}),b.jsx("div",{children:"Biurko"}),b.jsx("img",{className:"add_image",src:"https://t3.ftcdn.net/jpg/05/60/25/80/360_F_560258099_ky62cSILjBBhH0G8jgh3t2iPdiclDhmE.jpg"}),b.jsx("div",{children:"Rczniki"}),b.jsx("img",{className:"add_image",src:"https://media.istockphoto.com/id/1329818102/ko/%EB%B2%A1%ED%84%B0/%ED%97%A4%EC%96%B4-%EB%93%9C%EB%9D%BC%EC%9D%B4%EC%96%B4-%ED%94%BD%ED%86%A0%EA%B7%B8%EB%9E%A8-%EB%AF%B8%EC%9A%A9-%EC%9E%A5%EB%B9%84-%EC%8A%A4%EC%BC%80%EC%B9%98-%EC%A0%84%EB%AC%B8-%EB%8F%84%EA%B5%AC-%EC%95%84%EC%9D%B4%EC%BD%98-%EB%B2%A1%ED%84%B0-%EA%B7%B8%EB%A6%BC%EC%9E%85%EB%8B%88%EB%8B%A4-%EC%9D%B4%EB%B0%9C%EC%82%AC-%EA%B8%B0%ED%98%B8.jpg?s=170667a&w=0&k=20&c=4hbDthJn_qTCEnb67rcxCuykKpUz2aHLqo-MHclMVZk="}),b.jsx("div",{children:"Suszarka do wosw"})]})]})]})]}),jS.map(n=>b.jsx(yo.Fragment,{children:b.jsxs("div",{className:"room_container",children:[b.jsx("img",{className:"hotel_room_image",src:n.url}),b.jsxs("div",{children:[b.jsx("h1",{className:"abcde",children:n.room}),b.jsx("h2",{children:n.room_description}),b.jsx("div",{className:"info_container",children:b.jsxs("div",{children:[b.jsxs("div",{children:["Book for ",n.price," $/night"]}),b.jsxs("div",{children:["Space: ",n.surface]}),b.jsxs("div",{children:["Max amount of guests: ",n.people]})]})})]})]})},n.id)),b.jsx("button",{onClick:e,className:"navi_button",children:"Book Now"})]})};function BM(){H.useState(0);const{setID:t}=H.useContext(Qg);return H.useEffect(()=>OA(rt,n=>{if(n){const i=n.uid;t(i)}}),[]),b.jsxs(b.Fragment,{children:[b.jsxs(ex,{children:[b.jsx(uM,{}),b.jsxs(XC,{children:[b.jsx(ka,{path:"/",element:b.jsx(LM,{})}),b.jsx(ka,{path:"ourrooms",element:b.jsx(zM,{})}),b.jsx(ka,{path:"/booking",element:b.jsx(VM,{})}),b.jsx(ka,{path:"contact",element:b.jsx(FM,{})})]})]}),b.jsx(NM,{})]})}xf.createRoot(document.getElementById("root")).render(b.jsx(yo.StrictMode,{children:b.jsx(MM,{children:b.jsx(BM,{})})}));
