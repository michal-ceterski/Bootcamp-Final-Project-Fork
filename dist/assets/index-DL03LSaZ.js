function GI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var to=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c0={exports:{}},Vh={},h0={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),qI=Symbol.for("react.portal"),QI=Symbol.for("react.fragment"),JI=Symbol.for("react.strict_mode"),YI=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),eb=Symbol.for("react.context"),tb=Symbol.for("react.forward_ref"),nb=Symbol.for("react.suspense"),ib=Symbol.for("react.memo"),rb=Symbol.for("react.lazy"),hv=Symbol.iterator;function sb(t){return t===null||typeof t!="object"?null:(t=hv&&t[hv]||t["@@iterator"],typeof t=="function"?t:null)}var d0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f0=Object.assign,p0={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=p0,this.updater=n||d0}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m0(){}m0.prototype=Bo.prototype;function km(t,e,n){this.props=t,this.context=e,this.refs=p0,this.updater=n||d0}var xm=km.prototype=new m0;xm.constructor=km;f0(xm,Bo.prototype);xm.isPureReactComponent=!0;var dv=Array.isArray,g0=Object.prototype.hasOwnProperty,Cm={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function v0(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)g0.call(e,i)&&!_0.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return{$$typeof:Wl,type:t,key:o,ref:a,props:r,_owner:Cm.current}}function ob(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function ab(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fv=/\/+/g;function of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ab(""+t.key):e.toString(36)}function yc(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wl:case qI:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+of(a,0):i,dv(r)?(n="",t!=null&&(n=t.replace(fv,"$&/")+"/"),yc(r,e,n,"",function(f){return f})):r!=null&&(Rm(r)&&(r=ob(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(fv,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",dv(t))for(var c=0;c<t.length;c++){o=t[c];var h=i+of(o,c);a+=yc(o,e,n,h,r)}else if(h=sb(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=i+of(o,c++),a+=yc(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Hu(t,e,n){if(t==null)return t;var i=[],r=0;return yc(t,i,"","",function(o){return e.call(n,o,r++)}),i}function lb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},wc={transition:null},ub={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:wc,ReactCurrentOwner:Cm};Ce.Children={map:Hu,forEach:function(t,e,n){Hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!Rm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Bo;Ce.Fragment=QI;Ce.Profiler=YI;Ce.PureComponent=km;Ce.StrictMode=JI;Ce.Suspense=nb;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ub;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=f0({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Cm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)g0.call(e,h)&&!_0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:Wl,type:t.type,key:r,ref:o,props:i,_owner:a}};Ce.createContext=function(t){return t={$$typeof:eb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XI,_context:t},t.Consumer=t};Ce.createElement=v0;Ce.createFactory=function(t){var e=v0.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:tb,render:t}};Ce.isValidElement=Rm;Ce.lazy=function(t){return{$$typeof:rb,_payload:{_status:-1,_result:t},_init:lb}};Ce.memo=function(t,e){return{$$typeof:ib,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ce.useCallback=function(t,e){return an.current.useCallback(t,e)};Ce.useContext=function(t){return an.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return an.current.useEffect(t,e)};Ce.useId=function(){return an.current.useId()};Ce.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return an.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Ce.useRef=function(t){return an.current.useRef(t)};Ce.useState=function(t){return an.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return an.current.useTransition()};Ce.version="18.2.0";h0.exports=Ce;var F=h0.exports;const sl=u0(F),cb=GI({__proto__:null,default:sl},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb=F,db=Symbol.for("react.element"),fb=Symbol.for("react.fragment"),pb=Object.prototype.hasOwnProperty,mb=hb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gb={key:!0,ref:!0,__self:!0,__source:!0};function y0(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)pb.call(e,i)&&!gb.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:db,type:t,key:o,ref:a,props:r,_owner:mb.current}}Vh.Fragment=fb;Vh.jsx=y0;Vh.jsxs=y0;c0.exports=Vh;var k=c0.exports,Xf={},w0={exports:{}},Pn={},E0={exports:{}},T0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,fe){var Y=V.length;V.push(fe);e:for(;0<Y;){var ge=Y-1>>>1,xe=V[ge];if(0<r(xe,fe))V[ge]=fe,V[Y]=xe,Y=ge;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var fe=V[0],Y=V.pop();if(Y!==fe){V[0]=Y;e:for(var ge=0,xe=V.length,et=xe>>>1;ge<et;){var ze=2*(ge+1)-1,Oe=V[ze],Se=ze+1,$t=V[Se];if(0>r(Oe,Y))Se<xe&&0>r($t,Oe)?(V[ge]=$t,V[Se]=Y,ge=Se):(V[ge]=Oe,V[ze]=Y,ge=ze);else if(Se<xe&&0>r($t,Y))V[ge]=$t,V[Se]=Y,ge=Se;else break e}}return fe}function r(V,fe){var Y=V.sortIndex-fe.sortIndex;return Y!==0?Y:V.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var h=[],f=[],p=1,g=null,_=3,S=!1,x=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var fe=n(f);fe!==null;){if(fe.callback===null)i(f);else if(fe.startTime<=V)i(f),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=n(f)}}function N(V){if(A=!1,b(V),!x)if(n(h)!==null)x=!0,Ye(U);else{var fe=n(f);fe!==null&&un(N,fe.startTime-V)}}function U(V,fe){x=!1,A&&(A=!1,P(re),re=-1),S=!0;var Y=_;try{for(b(fe),g=n(h);g!==null&&(!(g.expirationTime>fe)||V&&!Le());){var ge=g.callback;if(typeof ge=="function"){g.callback=null,_=g.priorityLevel;var xe=ge(g.expirationTime<=fe);fe=t.unstable_now(),typeof xe=="function"?g.callback=xe:g===n(h)&&i(h),b(fe)}else i(h);g=n(h)}if(g!==null)var et=!0;else{var ze=n(f);ze!==null&&un(N,ze.startTime-fe),et=!1}return et}finally{g=null,_=Y,S=!1}}var K=!1,W=null,re=-1,ke=5,ve=-1;function Le(){return!(t.unstable_now()-ve<ke)}function ut(){if(W!==null){var V=t.unstable_now();ve=V;var fe=!0;try{fe=W(!0,V)}finally{fe?Fn():(K=!1,W=null)}}else K=!1}var Fn;if(typeof E=="function")Fn=function(){E(ut)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,bn=ft.port2;ft.port1.onmessage=ut,Fn=function(){bn.postMessage(null)}}else Fn=function(){O(ut,0)};function Ye(V){W=V,K||(K=!0,Fn())}function un(V,fe){re=O(function(){V(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,Ye(U))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var Y=_;_=fe;try{return V()}finally{_=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,fe){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=_;_=V;try{return fe()}finally{_=Y}},t.unstable_scheduleCallback=function(V,fe,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,V){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Y+xe,V={id:p++,callback:fe,priorityLevel:V,startTime:Y,expirationTime:xe,sortIndex:-1},Y>ge?(V.sortIndex=Y,e(f,V),n(h)===null&&V===n(f)&&(A?(P(re),re=-1):A=!0,un(N,Y-ge))):(V.sortIndex=xe,e(h,V),x||S||(x=!0,Ye(U))),V},t.unstable_shouldYield=Le,t.unstable_wrapCallback=function(V){var fe=_;return function(){var Y=_;_=fe;try{return V.apply(this,arguments)}finally{_=Y}}}})(T0);E0.exports=T0;var _b=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=F,Tn=_b;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P0=new Set,ol={};function xs(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(ol[t]=e,t=0;t<e.length;t++)P0.add(e[t])}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pv={},mv={};function yb(t){return ep.call(mv,t)?!0:ep.call(pv,t)?!1:vb.test(t)?mv[t]=!0:(pv[t]=!0,!1)}function wb(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Eb(t,e,n,i){if(e===null||typeof e>"u"||wb(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,Lm);Bt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,Lm);Bt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,Lm);Bt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,i){var r=Bt.hasOwnProperty(e)?Bt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Eb(e,n,r,i)&&(n=null),i||r===null?yb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Qi=S0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),ro=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),k0=Symbol.for("react.offscreen"),gv=Symbol.iterator;function ya(t){return t===null||typeof t!="object"?null:(t=gv&&t[gv]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,af;function Na(t){if(af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);af=e&&e[1]||""}return`
`+af+t}var lf=!1;function uf(t,e){if(!t||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,c=o.length-1;1<=a&&0<=c&&r[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(r[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||r[a]!==o[c]){var h=`
`+r[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=c);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function Tb(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=uf(t.type,!1),t;case 11:return t=uf(t.type.render,!1),t;case 1:return t=uf(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case ro:return"Portal";case tp:return"Profiler";case Nm:return"StrictMode";case np:return"Suspense";case ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b0:return(t.displayName||"Context")+".Consumer";case I0:return(t._context.displayName||"Context")+".Provider";case Dm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mm:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function Sb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===Nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pb(t){var e=x0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=Pb(t))}function C0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=x0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sp(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _v(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R0(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function op(t,e){R0(t,e);var n=Ar(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&ap(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ap(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function yo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Da(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function A0(t,e){var n=Ar(e.value),i=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function wv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,O0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ib=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){Ib.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function N0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function D0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=N0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var bb=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(bb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function jm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,wo=null,Eo=null;function Ev(t){if(t=Gl(t)){if(typeof fp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Wh(e),fp(t.stateNode,t.type,e))}}function M0(t){wo?Eo?Eo.push(t):Eo=[t]:wo=t}function j0(){if(wo){var t=wo,e=Eo;if(Eo=wo=null,Ev(t),e)for(t=0;t<e.length;t++)Ev(e[t])}}function z0(t,e){return t(e)}function F0(){}var cf=!1;function V0(t,e,n){if(cf)return t(e,n);cf=!0;try{return z0(t,e,n)}finally{cf=!1,(wo!==null||Eo!==null)&&(F0(),j0())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var i=Wh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var pp=!1;if($i)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){pp=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{pp=!1}function kb(t,e,n,i,r,o,a,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var $a=!1,Fc=null,Vc=!1,mp=null,xb={onError:function(t){$a=!0,Fc=t}};function Cb(t,e,n,i,r,o,a,c,h){$a=!1,Fc=null,kb.apply(xb,arguments)}function Rb(t,e,n,i,r,o,a,c,h){if(Cb.apply(this,arguments),$a){if($a){var f=Fc;$a=!1,Fc=null}else throw Error(J(198));Vc||(Vc=!0,mp=f)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tv(t){if(Cs(t)!==t)throw Error(J(188))}function Ab(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Tv(r),t;if(o===i)return Tv(r),e;o=o.sibling}throw Error(J(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==i)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function B0(t){return t=Ab(t),t!==null?$0(t):null}function $0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$0(t);if(e!==null)return e;t=t.sibling}return null}var H0=Tn.unstable_scheduleCallback,Sv=Tn.unstable_cancelCallback,Lb=Tn.unstable_shouldYield,Ob=Tn.unstable_requestPaint,ht=Tn.unstable_now,Nb=Tn.unstable_getCurrentPriorityLevel,zm=Tn.unstable_ImmediatePriority,W0=Tn.unstable_UserBlockingPriority,Uc=Tn.unstable_NormalPriority,Db=Tn.unstable_LowPriority,K0=Tn.unstable_IdlePriority,Uh=null,pi=null;function Mb(t){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Uh,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Fb,jb=Math.log,zb=Math.LN2;function Fb(t){return t>>>=0,t===0?32:31-(jb(t)/zb|0)|0}var Gu=64,qu=4194304;function Ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~r;c!==0?i=Ma(c):(o&=a,o!==0&&(i=Ma(o)))}else a=n&~r,a!==0?i=Ma(a):o!==0&&(i=Ma(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Qn(e),r=1<<n,i|=t[n],e&=~r;return i}function Vb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ub(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Qn(o),c=1<<a,h=r[a];h===-1?(!(c&n)||c&i)&&(r[a]=Vb(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z0(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function hf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function Bb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Qn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Qn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ue=0;function G0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q0,Vm,Q0,J0,Y0,_p=!1,Qu=[],vr=null,yr=null,wr=null,ul=new Map,cl=new Map,ur=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(e.pointerId)}}function Ea(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Gl(e),e!==null&&Vm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Hb(t,e,n,i,r){switch(e){case"focusin":return vr=Ea(vr,t,e,n,i,r),!0;case"dragenter":return yr=Ea(yr,t,e,n,i,r),!0;case"mouseover":return wr=Ea(wr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return ul.set(o,Ea(ul.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,cl.set(o,Ea(cl.get(o)||null,t,e,n,i,r)),!0}return!1}function X0(t){var e=rs(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=U0(n),e!==null){t.blockedOn=e,Y0(t.priority,function(){Q0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);dp=i,n.target.dispatchEvent(i),dp=null}else return e=Gl(n),e!==null&&Vm(e),t.blockedOn=n,!1;e.shift()}return!0}function Iv(t,e,n){Ec(t)&&n.delete(e)}function Wb(){_p=!1,vr!==null&&Ec(vr)&&(vr=null),yr!==null&&Ec(yr)&&(yr=null),wr!==null&&Ec(wr)&&(wr=null),ul.forEach(Iv),cl.forEach(Iv)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,_p||(_p=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,Wb)))}function hl(t){function e(r){return Ta(r,t)}if(0<Qu.length){Ta(Qu[0],t);for(var n=1;n<Qu.length;n++){var i=Qu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(vr!==null&&Ta(vr,t),yr!==null&&Ta(yr,t),wr!==null&&Ta(wr,t),ul.forEach(e),cl.forEach(e),n=0;n<ur.length;n++)i=ur[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)X0(n),n.blockedOn===null&&ur.shift()}var To=Qi.ReactCurrentBatchConfig,$c=!0;function Kb(t,e,n,i){var r=Ue,o=To.transition;To.transition=null;try{Ue=1,Um(t,e,n,i)}finally{Ue=r,To.transition=o}}function Zb(t,e,n,i){var r=Ue,o=To.transition;To.transition=null;try{Ue=4,Um(t,e,n,i)}finally{Ue=r,To.transition=o}}function Um(t,e,n,i){if($c){var r=vp(t,e,n,i);if(r===null)Ef(t,e,i,Hc,n),Pv(t,i);else if(Hb(r,t,e,n,i))i.stopPropagation();else if(Pv(t,i),e&4&&-1<$b.indexOf(t)){for(;r!==null;){var o=Gl(r);if(o!==null&&q0(o),o=vp(t,e,n,i),o===null&&Ef(t,e,i,Hc,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Ef(t,e,i,null,n)}}var Hc=null;function vp(t,e,n,i){if(Hc=null,t=jm(i),t=rs(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hc=t,null}function eE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nb()){case zm:return 1;case W0:return 4;case Uc:case Db:return 16;case K0:return 536870912;default:return 16}default:return 16}}var mr=null,Bm=null,Tc=null;function tE(){if(Tc)return Tc;var t,e=Bm,n=e.length,i,r="value"in mr?mr.value:mr.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return Tc=r.slice(t,1<i?1-i:void 0)}function Sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function bv(){return!1}function In(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ju:bv,this.isPropagationStopped=bv,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=In($o),Zl=st({},$o,{view:0,detail:0}),Gb=In(Zl),df,ff,Sa,Bh=st({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(df=t.screenX-Sa.screenX,ff=t.screenY-Sa.screenY):ff=df=0,Sa=t),df)},movementY:function(t){return"movementY"in t?t.movementY:ff}}),kv=In(Bh),qb=st({},Bh,{dataTransfer:0}),Qb=In(qb),Jb=st({},Zl,{relatedTarget:0}),pf=In(Jb),Yb=st({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),Xb=In(Yb),ek=st({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tk=In(ek),nk=st({},$o,{data:0}),xv=In(nk),ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ok(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sk[t])?!!e[t]:!1}function Hm(){return ok}var ak=st({},Zl,{key:function(t){if(t.key){var e=ik[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(t){return t.type==="keypress"?Sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lk=In(ak),uk=st({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cv=In(uk),ck=st({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),hk=In(ck),dk=st({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),fk=In(dk),pk=st({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mk=In(pk),gk=[9,13,27,32],Wm=$i&&"CompositionEvent"in window,Ha=null;$i&&"documentMode"in document&&(Ha=document.documentMode);var _k=$i&&"TextEvent"in window&&!Ha,nE=$i&&(!Wm||Ha&&8<Ha&&11>=Ha),Rv=" ",Av=!1;function iE(t,e){switch(t){case"keyup":return gk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function vk(t,e){switch(t){case"compositionend":return rE(e);case"keypress":return e.which!==32?null:(Av=!0,Rv);case"textInput":return t=e.data,t===Rv&&Av?null:t;default:return null}}function yk(t,e){if(oo)return t==="compositionend"||!Wm&&iE(t,e)?(t=tE(),Tc=Bm=mr=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nE&&e.locale!=="ko"?null:e.data;default:return null}}var wk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wk[t.type]:e==="textarea"}function sE(t,e,n,i){M0(i),e=Wc(e,"onChange"),0<e.length&&(n=new $m("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Wa=null,dl=null;function Ek(t){gE(t,0)}function $h(t){var e=uo(t);if(C0(e))return t}function Tk(t,e){if(t==="change")return e}var oE=!1;if($i){var mf;if($i){var gf="oninput"in document;if(!gf){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),gf=typeof Ov.oninput=="function"}mf=gf}else mf=!1;oE=mf&&(!document.documentMode||9<document.documentMode)}function Nv(){Wa&&(Wa.detachEvent("onpropertychange",aE),dl=Wa=null)}function aE(t){if(t.propertyName==="value"&&$h(dl)){var e=[];sE(e,dl,t,jm(t)),V0(Ek,e)}}function Sk(t,e,n){t==="focusin"?(Nv(),Wa=e,dl=n,Wa.attachEvent("onpropertychange",aE)):t==="focusout"&&Nv()}function Pk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $h(dl)}function Ik(t,e){if(t==="click")return $h(e)}function bk(t,e){if(t==="input"||t==="change")return $h(e)}function kk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:kk;function fl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ep.call(e,r)||!Yn(t[r],e[r]))return!1}return!0}function Dv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mv(t,e){var n=Dv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dv(n)}}function lE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uE(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xk(t){var e=uE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lE(n.ownerDocument.documentElement,n)){if(i!==null&&Km(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Mv(n,o);var a=Mv(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ck=$i&&"documentMode"in document&&11>=document.documentMode,ao=null,yp=null,Ka=null,wp=!1;function jv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wp||ao==null||ao!==zc(i)||(i=ao,"selectionStart"in i&&Km(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ka&&fl(Ka,i)||(Ka=i,i=Wc(yp,"onSelect"),0<i.length&&(e=new $m("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ao)))}function Yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},_f={},cE={};$i&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Hh(t){if(_f[t])return _f[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cE)return _f[t]=e[n];return t}var hE=Hh("animationend"),dE=Hh("animationiteration"),fE=Hh("animationstart"),pE=Hh("transitionend"),mE=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){mE.set(t,e),xs(e,[t])}for(var vf=0;vf<zv.length;vf++){var yf=zv[vf],Rk=yf.toLowerCase(),Ak=yf[0].toUpperCase()+yf.slice(1);zr(Rk,"on"+Ak)}zr(hE,"onAnimationEnd");zr(dE,"onAnimationIteration");zr(fE,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(pE,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Fv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Rb(i,e,void 0,t),t.currentTarget=null}function gE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var c=i[a],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&r.isPropagationStopped())break e;Fv(r,c,f),o=h}else for(a=0;a<i.length;a++){if(c=i[a],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&r.isPropagationStopped())break e;Fv(r,c,f),o=h}}}if(Vc)throw t=mp,Vc=!1,mp=null,t}function Ge(t,e){var n=e[Ip];n===void 0&&(n=e[Ip]=new Set);var i=t+"__bubble";n.has(i)||(_E(e,t,2,!1),n.add(i))}function wf(t,e,n){var i=0;e&&(i|=4),_E(n,t,i,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[Xu]){t[Xu]=!0,P0.forEach(function(n){n!=="selectionchange"&&(Lk.has(n)||wf(n,!1,t),wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,wf("selectionchange",!1,e))}}function _E(t,e,n,i){switch(eE(e)){case 1:var r=Kb;break;case 4:r=Zb;break;default:r=Um}n=r.bind(null,e,n,t),r=void 0,!pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ef(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;c!==null;){if(a=rs(c),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}c=c.parentNode}}i=i.return}V0(function(){var f=o,p=jm(n),g=[];e:{var _=mE.get(t);if(_!==void 0){var S=$m,x=t;switch(t){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":S=lk;break;case"focusin":x="focus",S=pf;break;case"focusout":x="blur",S=pf;break;case"beforeblur":case"afterblur":S=pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=hk;break;case hE:case dE:case fE:S=Xb;break;case pE:S=fk;break;case"scroll":S=Gb;break;case"wheel":S=mk;break;case"copy":case"cut":case"paste":S=tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Cv}var A=(e&4)!==0,O=!A&&t==="scroll",P=A?_!==null?_+"Capture":null:_;A=[];for(var E=f,b;E!==null;){b=E;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,P!==null&&(N=ll(E,P),N!=null&&A.push(ml(E,N,b)))),O)break;E=E.return}0<A.length&&(_=new S(_,x,null,n,p),g.push({event:_,listeners:A}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",_&&n!==dp&&(x=n.relatedTarget||n.fromElement)&&(rs(x)||x[Hi]))break e;if((S||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,S?(x=n.relatedTarget||n.toElement,S=f,x=x?rs(x):null,x!==null&&(O=Cs(x),x!==O||x.tag!==5&&x.tag!==6)&&(x=null)):(S=null,x=f),S!==x)){if(A=kv,N="onMouseLeave",P="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(A=Cv,N="onPointerLeave",P="onPointerEnter",E="pointer"),O=S==null?_:uo(S),b=x==null?_:uo(x),_=new A(N,E+"leave",S,n,p),_.target=O,_.relatedTarget=b,N=null,rs(p)===f&&(A=new A(P,E+"enter",x,n,p),A.target=b,A.relatedTarget=O,N=A),O=N,S&&x)t:{for(A=S,P=x,E=0,b=A;b;b=Js(b))E++;for(b=0,N=P;N;N=Js(N))b++;for(;0<E-b;)A=Js(A),E--;for(;0<b-E;)P=Js(P),b--;for(;E--;){if(A===P||P!==null&&A===P.alternate)break t;A=Js(A),P=Js(P)}A=null}else A=null;S!==null&&Vv(g,_,S,A,!1),x!==null&&O!==null&&Vv(g,O,x,A,!0)}}e:{if(_=f?uo(f):window,S=_.nodeName&&_.nodeName.toLowerCase(),S==="select"||S==="input"&&_.type==="file")var U=Tk;else if(Lv(_))if(oE)U=bk;else{U=Pk;var K=Sk}else(S=_.nodeName)&&S.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(U=Ik);if(U&&(U=U(t,f))){sE(g,U,n,p);break e}K&&K(t,_,f),t==="focusout"&&(K=_._wrapperState)&&K.controlled&&_.type==="number"&&ap(_,"number",_.value)}switch(K=f?uo(f):window,t){case"focusin":(Lv(K)||K.contentEditable==="true")&&(ao=K,yp=f,Ka=null);break;case"focusout":Ka=yp=ao=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,jv(g,n,p);break;case"selectionchange":if(Ck)break;case"keydown":case"keyup":jv(g,n,p)}var W;if(Wm)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else oo?iE(t,n)&&(re="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(nE&&n.locale!=="ko"&&(oo||re!=="onCompositionStart"?re==="onCompositionEnd"&&oo&&(W=tE()):(mr=p,Bm="value"in mr?mr.value:mr.textContent,oo=!0)),K=Wc(f,re),0<K.length&&(re=new xv(re,t,null,n,p),g.push({event:re,listeners:K}),W?re.data=W:(W=rE(n),W!==null&&(re.data=W)))),(W=_k?vk(t,n):yk(t,n))&&(f=Wc(f,"onBeforeInput"),0<f.length&&(p=new xv("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=W))}gE(g,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ll(t,n),o!=null&&i.unshift(ml(t,o,r)),o=ll(t,e),o!=null&&i.push(ml(t,o,r))),t=t.return}return i}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&f!==null&&(c=f,r?(h=ll(n,o),h!=null&&a.unshift(ml(n,h,c))):r||(h=ll(n,o),h!=null&&a.push(ml(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ok=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function Uv(t){return(typeof t=="string"?t:""+t).replace(Ok,`
`).replace(Nk,"")}function ec(t,e,n){if(e=Uv(e),Uv(t)!==e&&n)throw Error(J(425))}function Kc(){}var Ep=null,Tp=null;function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,Dk=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,Mk=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(jk)}:Pp;function jk(t){setTimeout(function(){throw t})}function Tf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),hl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);hl(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $v(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),ui="__reactFiber$"+Ho,gl="__reactProps$"+Ho,Hi="__reactContainer$"+Ho,Ip="__reactEvents$"+Ho,zk="__reactListeners$"+Ho,Fk="__reactHandles$"+Ho;function rs(t){var e=t[ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hi]||n[ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$v(t);t!==null;){if(n=t[ui])return n;t=$v(t)}return e}t=n,n=t.parentNode}return null}function Gl(t){return t=t[ui]||t[Hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Wh(t){return t[gl]||null}var bp=[],co=-1;function Fr(t){return{current:t}}function Qe(t){0>co||(t.current=bp[co],bp[co]=null,co--)}function Ze(t,e){co++,bp[co]=t.current,t.current=e}var Lr={},Xt=Fr(Lr),fn=Fr(!1),_s=Lr;function Ro(t,e){var n=t.type.contextTypes;if(!n)return Lr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function pn(t){return t=t.childContextTypes,t!=null}function Zc(){Qe(fn),Qe(Xt)}function Hv(t,e,n){if(Xt.current!==Lr)throw Error(J(168));Ze(Xt,e),Ze(fn,n)}function vE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(J(108,Sb(t)||"Unknown",r));return st({},n,i)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,_s=Xt.current,Ze(Xt,t),Ze(fn,fn.current),!0}function Wv(t,e,n){var i=t.stateNode;if(!i)throw Error(J(169));n?(t=vE(t,e,_s),i.__reactInternalMemoizedMergedChildContext=t,Qe(fn),Qe(Xt),Ze(Xt,t)):Qe(fn),Ze(fn,n)}var Ni=null,Kh=!1,Sf=!1;function yE(t){Ni===null?Ni=[t]:Ni.push(t)}function Vk(t){Kh=!0,yE(t)}function Vr(){if(!Sf&&Ni!==null){Sf=!0;var t=0,e=Ue;try{var n=Ni;for(Ue=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ni=null,Kh=!1}catch(r){throw Ni!==null&&(Ni=Ni.slice(t+1)),H0(zm,Vr),r}finally{Ue=e,Sf=!1}}return null}var ho=[],fo=0,qc=null,Qc=0,An=[],Ln=0,vs=null,Di=1,Mi="";function es(t,e){ho[fo++]=Qc,ho[fo++]=qc,qc=t,Qc=e}function wE(t,e,n){An[Ln++]=Di,An[Ln++]=Mi,An[Ln++]=vs,vs=t;var i=Di;t=Mi;var r=32-Qn(i)-1;i&=~(1<<r),n+=1;var o=32-Qn(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Di=1<<32-Qn(e)+r|n<<r|i,Mi=o+t}else Di=1<<o|n<<r|i,Mi=t}function Zm(t){t.return!==null&&(es(t,1),wE(t,1,0))}function Gm(t){for(;t===qc;)qc=ho[--fo],ho[fo]=null,Qc=ho[--fo],ho[fo]=null;for(;t===vs;)vs=An[--Ln],An[Ln]=null,Mi=An[--Ln],An[Ln]=null,Di=An[--Ln],An[Ln]=null}var En=null,wn=null,Xe=!1,Kn=null;function EE(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,wn=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vs!==null?{id:Di,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,wn=null,!0):!1;default:return!1}}function kp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xp(t){if(Xe){var e=wn;if(e){var n=e;if(!Kv(t,e)){if(kp(t))throw Error(J(418));e=Er(n.nextSibling);var i=En;e&&Kv(t,e)?EE(i,n):(t.flags=t.flags&-4097|2,Xe=!1,En=t)}}else{if(kp(t))throw Error(J(418));t.flags=t.flags&-4097|2,Xe=!1,En=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function tc(t){if(t!==En)return!1;if(!Xe)return Zv(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sp(t.type,t.memoizedProps)),e&&(e=wn)){if(kp(t))throw TE(),Error(J(418));for(;e;)EE(t,e),e=Er(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=En?Er(t.stateNode.nextSibling):null;return!0}function TE(){for(var t=wn;t;)t=Er(t.nextSibling)}function Ao(){wn=En=null,Xe=!1}function qm(t){Kn===null?Kn=[t]:Kn.push(t)}var Uk=Qi.ReactCurrentBatchConfig;function Hn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Jc=Fr(null),Yc=null,po=null,Qm=null;function Jm(){Qm=po=Yc=null}function Ym(t){var e=Jc.current;Qe(Jc),t._currentValue=e}function Cp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function So(t,e){Yc=t,Qm=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Qm!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(Yc===null)throw Error(J(308));po=t,Yc.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var ss=null;function Xm(t){ss===null?ss=[t]:ss.push(t)}function SE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Xm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Wi(t,i)}function Wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ve&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Wi(t,n)}return r=i.interleaved,r===null?(e.next=e,Xm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Wi(t,n)}function Pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Fm(t,n)}}function Gv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xc(t,e,n,i){var r=t.updateQueue;lr=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var h=c,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=h))}if(o!==null){var g=r.baseState;a=0,p=f=h=null,c=o;do{var _=c.lane,S=c.eventTime;if((i&_)===_){p!==null&&(p=p.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,A=c;switch(_=e,S=n,A.tag){case 1:if(x=A.payload,typeof x=="function"){g=x.call(S,g,_);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=A.payload,_=typeof x=="function"?x.call(S,g,_):x,_==null)break e;g=st({},g,_);break e;case 2:lr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,_=r.effects,_===null?r.effects=[c]:_.push(c))}else S={eventTime:S,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(f=p=S,h=g):p=p.next=S,a|=_;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;_=c,c=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);if(p===null&&(h=g),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=p,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ws|=a,t.lanes=a,t.memoizedState=g}}function qv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(J(191,r));r.call(i)}}}var IE=new S0.Component().refs;function Rp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zh={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=sn(),r=Pr(t),o=Vi(i,r);o.payload=e,n!=null&&(o.callback=n),e=Tr(t,o,r),e!==null&&(Jn(e,t,r,i),Pc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=sn(),r=Pr(t),o=Vi(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Tr(t,o,r),e!==null&&(Jn(e,t,r,i),Pc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),i=Pr(t),r=Vi(n,i);r.tag=2,e!=null&&(r.callback=e),e=Tr(t,r,i),e!==null&&(Jn(e,t,i,n),Pc(e,t,i))}};function Qv(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!fl(n,i)||!fl(r,o):!0}function bE(t,e,n){var i=!1,r=Lr,o=e.contextType;return typeof o=="object"&&o!==null?o=Mn(o):(r=pn(e)?_s:Xt.current,i=e.contextTypes,o=(i=i!=null)?Ro(t,r):Lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zh.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=IE,eg(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Mn(o):(o=pn(e)?_s:Xt.current,r.context=Ro(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Rp(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zh.enqueueReplaceState(r,r.state,null),Xc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var i=n.stateNode}if(!i)throw Error(J(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=r.refs;c===IE&&(c=r.refs={}),a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yv(t){var e=t._init;return e(t._payload)}function kE(t){function e(P,E){if(t){var b=P.deletions;b===null?(P.deletions=[E],P.flags|=16):b.push(E)}}function n(P,E){if(!t)return null;for(;E!==null;)e(P,E),E=E.sibling;return null}function i(P,E){for(P=new Map;E!==null;)E.key!==null?P.set(E.key,E):P.set(E.index,E),E=E.sibling;return P}function r(P,E){return P=Ir(P,E),P.index=0,P.sibling=null,P}function o(P,E,b){return P.index=b,t?(b=P.alternate,b!==null?(b=b.index,b<E?(P.flags|=2,E):b):(P.flags|=2,E)):(P.flags|=1048576,E)}function a(P){return t&&P.alternate===null&&(P.flags|=2),P}function c(P,E,b,N){return E===null||E.tag!==6?(E=Rf(b,P.mode,N),E.return=P,E):(E=r(E,b),E.return=P,E)}function h(P,E,b,N){var U=b.type;return U===so?p(P,E,b.props.children,N,b.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ar&&Yv(U)===E.type)?(N=r(E,b.props),N.ref=Pa(P,E,b),N.return=P,N):(N=Rc(b.type,b.key,b.props,null,P.mode,N),N.ref=Pa(P,E,b),N.return=P,N)}function f(P,E,b,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=Af(b,P.mode,N),E.return=P,E):(E=r(E,b.children||[]),E.return=P,E)}function p(P,E,b,N,U){return E===null||E.tag!==7?(E=fs(b,P.mode,N,U),E.return=P,E):(E=r(E,b),E.return=P,E)}function g(P,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Rf(""+E,P.mode,b),E.return=P,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wu:return b=Rc(E.type,E.key,E.props,null,P.mode,b),b.ref=Pa(P,null,E),b.return=P,b;case ro:return E=Af(E,P.mode,b),E.return=P,E;case ar:var N=E._init;return g(P,N(E._payload),b)}if(Da(E)||ya(E))return E=fs(E,P.mode,b,null),E.return=P,E;nc(P,E)}return null}function _(P,E,b,N){var U=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return U!==null?null:c(P,E,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wu:return b.key===U?h(P,E,b,N):null;case ro:return b.key===U?f(P,E,b,N):null;case ar:return U=b._init,_(P,E,U(b._payload),N)}if(Da(b)||ya(b))return U!==null?null:p(P,E,b,N,null);nc(P,b)}return null}function S(P,E,b,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return P=P.get(b)||null,c(E,P,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wu:return P=P.get(N.key===null?b:N.key)||null,h(E,P,N,U);case ro:return P=P.get(N.key===null?b:N.key)||null,f(E,P,N,U);case ar:var K=N._init;return S(P,E,b,K(N._payload),U)}if(Da(N)||ya(N))return P=P.get(b)||null,p(E,P,N,U,null);nc(E,N)}return null}function x(P,E,b,N){for(var U=null,K=null,W=E,re=E=0,ke=null;W!==null&&re<b.length;re++){W.index>re?(ke=W,W=null):ke=W.sibling;var ve=_(P,W,b[re],N);if(ve===null){W===null&&(W=ke);break}t&&W&&ve.alternate===null&&e(P,W),E=o(ve,E,re),K===null?U=ve:K.sibling=ve,K=ve,W=ke}if(re===b.length)return n(P,W),Xe&&es(P,re),U;if(W===null){for(;re<b.length;re++)W=g(P,b[re],N),W!==null&&(E=o(W,E,re),K===null?U=W:K.sibling=W,K=W);return Xe&&es(P,re),U}for(W=i(P,W);re<b.length;re++)ke=S(W,P,re,b[re],N),ke!==null&&(t&&ke.alternate!==null&&W.delete(ke.key===null?re:ke.key),E=o(ke,E,re),K===null?U=ke:K.sibling=ke,K=ke);return t&&W.forEach(function(Le){return e(P,Le)}),Xe&&es(P,re),U}function A(P,E,b,N){var U=ya(b);if(typeof U!="function")throw Error(J(150));if(b=U.call(b),b==null)throw Error(J(151));for(var K=U=null,W=E,re=E=0,ke=null,ve=b.next();W!==null&&!ve.done;re++,ve=b.next()){W.index>re?(ke=W,W=null):ke=W.sibling;var Le=_(P,W,ve.value,N);if(Le===null){W===null&&(W=ke);break}t&&W&&Le.alternate===null&&e(P,W),E=o(Le,E,re),K===null?U=Le:K.sibling=Le,K=Le,W=ke}if(ve.done)return n(P,W),Xe&&es(P,re),U;if(W===null){for(;!ve.done;re++,ve=b.next())ve=g(P,ve.value,N),ve!==null&&(E=o(ve,E,re),K===null?U=ve:K.sibling=ve,K=ve);return Xe&&es(P,re),U}for(W=i(P,W);!ve.done;re++,ve=b.next())ve=S(W,P,re,ve.value,N),ve!==null&&(t&&ve.alternate!==null&&W.delete(ve.key===null?re:ve.key),E=o(ve,E,re),K===null?U=ve:K.sibling=ve,K=ve);return t&&W.forEach(function(ut){return e(P,ut)}),Xe&&es(P,re),U}function O(P,E,b,N){if(typeof b=="object"&&b!==null&&b.type===so&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wu:e:{for(var U=b.key,K=E;K!==null;){if(K.key===U){if(U=b.type,U===so){if(K.tag===7){n(P,K.sibling),E=r(K,b.props.children),E.return=P,P=E;break e}}else if(K.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ar&&Yv(U)===K.type){n(P,K.sibling),E=r(K,b.props),E.ref=Pa(P,K,b),E.return=P,P=E;break e}n(P,K);break}else e(P,K);K=K.sibling}b.type===so?(E=fs(b.props.children,P.mode,N,b.key),E.return=P,P=E):(N=Rc(b.type,b.key,b.props,null,P.mode,N),N.ref=Pa(P,E,b),N.return=P,P=N)}return a(P);case ro:e:{for(K=b.key;E!==null;){if(E.key===K)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(P,E.sibling),E=r(E,b.children||[]),E.return=P,P=E;break e}else{n(P,E);break}else e(P,E);E=E.sibling}E=Af(b,P.mode,N),E.return=P,P=E}return a(P);case ar:return K=b._init,O(P,E,K(b._payload),N)}if(Da(b))return x(P,E,b,N);if(ya(b))return A(P,E,b,N);nc(P,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(P,E.sibling),E=r(E,b),E.return=P,P=E):(n(P,E),E=Rf(b,P.mode,N),E.return=P,P=E),a(P)):n(P,E)}return O}var Lo=kE(!0),xE=kE(!1),ql={},mi=Fr(ql),_l=Fr(ql),vl=Fr(ql);function os(t){if(t===ql)throw Error(J(174));return t}function tg(t,e){switch(Ze(vl,e),Ze(_l,t),Ze(mi,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=up(e,t)}Qe(mi),Ze(mi,e)}function Oo(){Qe(mi),Qe(_l),Qe(vl)}function CE(t){os(vl.current);var e=os(mi.current),n=up(e,t.type);e!==n&&(Ze(_l,t),Ze(mi,n))}function ng(t){_l.current===t&&(Qe(mi),Qe(_l))}var it=Fr(0);function eh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pf=[];function ig(){for(var t=0;t<Pf.length;t++)Pf[t]._workInProgressVersionPrimary=null;Pf.length=0}var Ic=Qi.ReactCurrentDispatcher,If=Qi.ReactCurrentBatchConfig,ys=0,rt=null,Et=null,It=null,th=!1,Za=!1,yl=0,Bk=0;function Ht(){throw Error(J(321))}function rg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function sg(t,e,n,i,r,o){if(ys=o,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?Kk:Zk,t=n(i,r),Za){o=0;do{if(Za=!1,yl=0,25<=o)throw Error(J(301));o+=1,It=Et=null,e.updateQueue=null,Ic.current=Gk,t=n(i,r)}while(Za)}if(Ic.current=nh,e=Et!==null&&Et.next!==null,ys=0,It=Et=rt=null,th=!1,e)throw Error(J(300));return t}function og(){var t=yl!==0;return yl=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=t:It=It.next=t,It}function jn(){if(Et===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=It===null?rt.memoizedState:It.next;if(e!==null)It=e,Et=t;else{if(t===null)throw Error(J(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},It===null?rt.memoizedState=It=t:It=It.next=t}return It}function wl(t,e){return typeof e=="function"?e(t):e}function bf(t){var e=jn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var i=Et,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var c=a=null,h=null,f=o;do{var p=f.lane;if((ys&p)===p)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=g,a=i):h=h.next=g,rt.lanes|=p,ws|=p}f=f.next}while(f!==null&&f!==o);h===null?a=i:h.next=c,Yn(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,rt.lanes|=o,ws|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kf(t){var e=jn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);Yn(o,e.memoizedState)||(dn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function RE(){}function AE(t,e){var n=rt,i=jn(),r=e(),o=!Yn(i.memoizedState,r);if(o&&(i.memoizedState=r,dn=!0),i=i.queue,ag(NE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,El(9,OE.bind(null,n,i,r,e),void 0,null),kt===null)throw Error(J(349));ys&30||LE(n,e,r)}return r}function LE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OE(t,e,n,i){e.value=n,e.getSnapshot=i,DE(e)&&ME(t)}function NE(t,e,n){return n(function(){DE(e)&&ME(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function ME(t){var e=Wi(t,1);e!==null&&Jn(e,t,1,-1)}function Xv(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:t},e.queue=t,t=t.dispatch=Wk.bind(null,rt,t),[e.memoizedState,t]}function El(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function jE(){return jn().memoizedState}function bc(t,e,n,i){var r=li();rt.flags|=t,r.memoizedState=El(1|e,n,void 0,i===void 0?null:i)}function Gh(t,e,n,i){var r=jn();i=i===void 0?null:i;var o=void 0;if(Et!==null){var a=Et.memoizedState;if(o=a.destroy,i!==null&&rg(i,a.deps)){r.memoizedState=El(e,n,o,i);return}}rt.flags|=t,r.memoizedState=El(1|e,n,o,i)}function ey(t,e){return bc(8390656,8,t,e)}function ag(t,e){return Gh(2048,8,t,e)}function zE(t,e){return Gh(4,2,t,e)}function FE(t,e){return Gh(4,4,t,e)}function VE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UE(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,VE.bind(null,e,t),n)}function lg(){}function BE(t,e){var n=jn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&rg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function $E(t,e){var n=jn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&rg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function HE(t,e,n){return ys&21?(Yn(n,e)||(n=Z0(),rt.lanes|=n,ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function $k(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var i=If.transition;If.transition={};try{t(!1),e()}finally{Ue=n,If.transition=i}}function WE(){return jn().memoizedState}function Hk(t,e,n){var i=Pr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},KE(t))ZE(e,n);else if(n=SE(t,e,n,i),n!==null){var r=sn();Jn(n,t,i,r),GE(n,e,i)}}function Wk(t,e,n){var i=Pr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(t))ZE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(r.hasEagerState=!0,r.eagerState=c,Yn(c,a)){var h=e.interleaved;h===null?(r.next=r,Xm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=SE(t,e,r,i),n!==null&&(r=sn(),Jn(n,t,i,r),GE(n,e,i))}}function KE(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function ZE(t,e){Za=th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Fm(t,n)}}var nh={readContext:Mn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},Kk={readContext:Mn,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:ey,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,VE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=li();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Hk.bind(null,rt,t),[i.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:Xv,useDebugValue:lg,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=Xv(!1),e=t[0];return t=$k.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=rt,r=li();if(Xe){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),kt===null)throw Error(J(349));ys&30||LE(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,ey(NE.bind(null,i,o,t),[t]),i.flags|=2048,El(9,OE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=li(),e=kt.identifierPrefix;if(Xe){var n=Mi,i=Di;n=(i&~(1<<32-Qn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zk={readContext:Mn,useCallback:BE,useContext:Mn,useEffect:ag,useImperativeHandle:UE,useInsertionEffect:zE,useLayoutEffect:FE,useMemo:$E,useReducer:bf,useRef:jE,useState:function(){return bf(wl)},useDebugValue:lg,useDeferredValue:function(t){var e=jn();return HE(e,Et.memoizedState,t)},useTransition:function(){var t=bf(wl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:AE,useId:WE,unstable_isNewReconciler:!1},Gk={readContext:Mn,useCallback:BE,useContext:Mn,useEffect:ag,useImperativeHandle:UE,useInsertionEffect:zE,useLayoutEffect:FE,useMemo:$E,useReducer:kf,useRef:jE,useState:function(){return kf(wl)},useDebugValue:lg,useDeferredValue:function(t){var e=jn();return Et===null?e.memoizedState=t:HE(e,Et.memoizedState,t)},useTransition:function(){var t=kf(wl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:AE,useId:WE,unstable_isNewReconciler:!1};function No(t,e){try{var n="",i=e;do n+=Tb(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function xf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function qE(t,e,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){rh||(rh=!0,Bp=i),Lp(t,e)},n}function QE(t,e,n){n=Vi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Lp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Lp(t,e),typeof i!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ty(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new qk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=ux.bind(null,t,e,n),e.then(t,t))}function ny(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iy(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vi(-1,1),e.tag=2,Tr(n,e,1))),n.lanes|=1),t)}var Qk=Qi.ReactCurrentOwner,dn=!1;function nn(t,e,n,i){e.child=t===null?xE(e,null,n,i):Lo(e,t.child,n,i)}function ry(t,e,n,i,r){n=n.render;var o=e.ref;return So(e,r),i=sg(t,e,n,i,o,r),n=og(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ki(t,e,r)):(Xe&&n&&Zm(e),e.flags|=1,nn(t,e,i,r),e.child)}function sy(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!gg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,JE(t,e,o,i,r)):(t=Rc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(a,i)&&t.ref===e.ref)return Ki(t,e,r)}return e.flags|=1,t=Ir(o,i),t.ref=e.ref,t.return=e,e.child=t}function JE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(fl(o,i)&&t.ref===e.ref)if(dn=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Ki(t,e,r)}return Op(t,e,n,i,r)}function YE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(go,yn),yn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(go,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Ze(go,yn),yn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Ze(go,yn),yn|=i;return nn(t,e,r,n),e.child}function XE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Op(t,e,n,i,r){var o=pn(n)?_s:Xt.current;return o=Ro(e,o),So(e,r),n=sg(t,e,n,i,o,r),i=og(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ki(t,e,r)):(Xe&&i&&Zm(e),e.flags|=1,nn(t,e,n,r),e.child)}function oy(t,e,n,i,r){if(pn(n)){var o=!0;Gc(e)}else o=!1;if(So(e,r),e.stateNode===null)kc(t,e),bE(e,n,i),Ap(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Mn(f):(f=pn(n)?_s:Xt.current,f=Ro(e,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||h!==f)&&Jv(e,a,i,f),lr=!1;var _=e.memoizedState;a.state=_,Xc(e,i,a,r),h=e.memoizedState,c!==i||_!==h||fn.current||lr?(typeof p=="function"&&(Rp(e,n,p,i),h=e.memoizedState),(c=lr||Qv(e,n,c,i,_,h,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=f,i=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,PE(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:Hn(e.type,c),a.props=f,g=e.pendingProps,_=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Mn(h):(h=pn(n)?_s:Xt.current,h=Ro(e,h));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||_!==h)&&Jv(e,a,i,h),lr=!1,_=e.memoizedState,a.state=_,Xc(e,i,a,r);var x=e.memoizedState;c!==g||_!==x||fn.current||lr?(typeof S=="function"&&(Rp(e,n,S,i),x=e.memoizedState),(f=lr||Qv(e,n,f,i,_,x,h)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),a.props=i,a.state=x,a.context=h,i=f):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),i=!1)}return Np(t,e,n,i,o,r)}function Np(t,e,n,i,r,o){XE(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Wv(e,n,!1),Ki(t,e,o);i=e.stateNode,Qk.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Lo(e,t.child,null,o),e.child=Lo(e,null,c,o)):nn(t,e,c,o),e.memoizedState=i.state,r&&Wv(e,n,!0),e.child}function e1(t){var e=t.stateNode;e.pendingContext?Hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hv(t,e.context,!1),tg(t,e.containerInfo)}function ay(t,e,n,i,r){return Ao(),qm(r),e.flags|=256,nn(t,e,n,i),e.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function t1(t,e,n){var i=e.pendingProps,r=it.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(r&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ze(it,r&1),t===null)return xp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Jh(a,i,0,null),t=fs(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mp(n),e.memoizedState=Dp,t):ug(e,a));if(r=t.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return Jk(t,e,a,i,c,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,c=r.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Ir(r,h),i.subtreeFlags=r.subtreeFlags&14680064),c!==null?o=Ir(c,o):(o=fs(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Mp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Dp,i}return o=t.child,t=o.sibling,i=Ir(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ug(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ic(t,e,n,i){return i!==null&&qm(i),Lo(e,t.child,null,n),t=ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jk(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=xf(Error(J(422))),ic(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Jh({mode:"visible",children:i.children},r,0,null),o=fs(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Lo(e,t.child,null,a),e.child.memoizedState=Mp(a),e.memoizedState=Dp,o);if(!(e.mode&1))return ic(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(J(419)),i=xf(o,i,void 0),ic(t,e,a,i)}if(c=(a&t.childLanes)!==0,dn||c){if(i=kt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Wi(t,r),Jn(i,t,r,-1))}return mg(),i=xf(Error(J(421))),ic(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=cx.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,wn=Er(r.nextSibling),En=e,Xe=!0,Kn=null,t!==null&&(An[Ln++]=Di,An[Ln++]=Mi,An[Ln++]=vs,Di=t.id,Mi=t.overflow,vs=e),e=ug(e,i.children),e.flags|=4096,e)}function ly(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Cp(t.return,e,n)}function Cf(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function n1(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(nn(t,e,i.children,n),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,n,e);else if(t.tag===19)ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ze(it,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&eh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Cf(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&eh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Cf(e,!0,n,null,o);break;case"together":Cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yk(t,e,n){switch(e.tag){case 3:e1(e),Ao();break;case 5:CE(e);break;case 1:pn(e.type)&&Gc(e);break;case 4:tg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ze(Jc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ze(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?t1(t,e,n):(Ze(it,it.current&1),t=Ki(t,e,n),t!==null?t.sibling:null);Ze(it,it.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return n1(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ze(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,n)}return Ki(t,e,n)}var i1,jp,r1,s1;i1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jp=function(){};r1=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,os(mi.current);var o=null;switch(n){case"input":r=sp(t,r),i=sp(t,i),o=[];break;case"select":r=st({},r,{value:void 0}),i=st({},i,{value:void 0}),o=[];break;case"textarea":r=lp(t,r),i=lp(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Kc)}cp(n,i);var a;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var c=r[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ol.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(c=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ol.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ge("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};s1=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ia(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xk(t,e,n){var i=e.pendingProps;switch(Gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return pn(e.type)&&Zc(),Wt(e),null;case 3:return i=e.stateNode,Oo(),Qe(fn),Qe(Xt),ig(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Wp(Kn),Kn=null))),jp(t,e),Wt(e),null;case 5:ng(e);var r=os(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)r1(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(J(166));return Wt(e),null}if(t=os(mi.current),tc(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ui]=e,i[gl]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(r=0;r<ja.length;r++)Ge(ja[r],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":_v(i,o),Ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",i);break;case"textarea":yv(i,o),Ge("invalid",i)}cp(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&ec(i.textContent,c,t),r=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&ec(i.textContent,c,t),r=["children",""+c]):ol.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ge("scroll",i)}switch(n){case"input":Ku(i),vv(i,o,!0);break;case"textarea":Ku(i),wv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Kc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[ui]=e,t[gl]=i,i1(t,e,!1,!1),e.stateNode=t;e:{switch(a=hp(n,i),n){case"dialog":Ge("cancel",t),Ge("close",t),r=i;break;case"iframe":case"object":case"embed":Ge("load",t),r=i;break;case"video":case"audio":for(r=0;r<ja.length;r++)Ge(ja[r],t);r=i;break;case"source":Ge("error",t),r=i;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),r=i;break;case"details":Ge("toggle",t),r=i;break;case"input":_v(t,i),r=sp(t,i),Ge("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=st({},i,{value:void 0}),Ge("invalid",t);break;case"textarea":yv(t,i),r=lp(t,i),Ge("invalid",t);break;default:r=i}cp(n,r),c=r;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?D0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&O0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&al(t,h):typeof h=="number"&&al(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ol.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Ge("scroll",t):h!=null&&Om(t,o,h,a))}switch(n){case"input":Ku(t),vv(t,i,!1);break;case"textarea":Ku(t),wv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ar(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?yo(t,!!i.multiple,o,!1):i.defaultValue!=null&&yo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)s1(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(J(166));if(n=os(vl.current),os(mi.current),tc(e)){if(i=e.stateNode,n=e.memoizedProps,i[ui]=e,(o=i.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:ec(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ui]=e,e.stateNode=i}return Wt(e),null;case 13:if(Qe(it),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&wn!==null&&e.mode&1&&!(e.flags&128))TE(),Ao(),e.flags|=98560,o=!1;else if(o=tc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[ui]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else Kn!==null&&(Wp(Kn),Kn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Tt===0&&(Tt=3):mg())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Oo(),jp(t,e),t===null&&pl(e.stateNode.containerInfo),Wt(e),null;case 10:return Ym(e.type._context),Wt(e),null;case 17:return pn(e.type)&&Zc(),Wt(e),null;case 19:if(Qe(it),o=e.memoizedState,o===null)return Wt(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Ia(o,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=eh(t),a!==null){for(e.flags|=128,Ia(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&ht()>Do&&(e.flags|=128,i=!0,Ia(o,!1),e.lanes=4194304)}else{if(!i)if(t=eh(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Xe)return Wt(e),null}else 2*ht()-o.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,i=!0,Ia(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ht(),e.sibling=null,n=it.current,Ze(it,i?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return pg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?yn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function ex(t,e){switch(Gm(e),e.tag){case 1:return pn(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Qe(fn),Qe(Xt),ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ng(e),null;case 13:if(Qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(it),null;case 4:return Oo(),null;case 10:return Ym(e.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var rc=!1,Gt=!1,tx=typeof WeakSet=="function"?WeakSet:Set,ae=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ot(t,e,i)}else n.current=null}function zp(t,e,n){try{n()}catch(i){ot(t,e,i)}}var uy=!1;function nx(t,e){if(Ep=$c,t=uE(),Km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,h=-1,f=0,p=0,g=t,_=null;t:for(;;){for(var S;g!==n||r!==0&&g.nodeType!==3||(c=a+r),g!==o||i!==0&&g.nodeType!==3||(h=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(S=g.firstChild)!==null;)_=g,g=S;for(;;){if(g===t)break t;if(_===n&&++f===r&&(c=a),_===o&&++p===i&&(h=a),(S=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=S}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:t,selectionRange:n},$c=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var A=x.memoizedProps,O=x.memoizedState,P=e.stateNode,E=P.getSnapshotBeforeUpdate(e.elementType===e.type?A:Hn(e.type,A),O);P.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(N){ot(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return x=uy,uy=!1,x}function Ga(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&zp(e,n,o)}r=r.next}while(r!==i)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function o1(t){var e=t.alternate;e!==null&&(t.alternate=null,o1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ui],delete e[gl],delete e[Ip],delete e[zk],delete e[Fk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a1(t){return t.tag===5||t.tag===3||t.tag===4}function cy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(i!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}function Up(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}var Nt=null,Wn=!1;function sr(t,e,n){for(n=n.child;n!==null;)l1(t,e,n),n=n.sibling}function l1(t,e,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:Gt||mo(n,e);case 6:var i=Nt,r=Wn;Nt=null,sr(t,e,n),Nt=i,Wn=r,Nt!==null&&(Wn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Wn?(t=Nt,n=n.stateNode,t.nodeType===8?Tf(t.parentNode,n):t.nodeType===1&&Tf(t,n),hl(t)):Tf(Nt,n.stateNode));break;case 4:i=Nt,r=Wn,Nt=n.stateNode.containerInfo,Wn=!0,sr(t,e,n),Nt=i,Wn=r;break;case 0:case 11:case 14:case 15:if(!Gt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&zp(n,e,a),r=r.next}while(r!==i)}sr(t,e,n);break;case 1:if(!Gt&&(mo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){ot(n,e,c)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(Gt=(i=Gt)||n.memoizedState!==null,sr(t,e,n),Gt=i):sr(t,e,n);break;default:sr(t,e,n)}}function hy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tx),e.forEach(function(i){var r=hx.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Nt=c.stateNode,Wn=!1;break e;case 3:Nt=c.stateNode.containerInfo,Wn=!0;break e;case 4:Nt=c.stateNode.containerInfo,Wn=!0;break e}c=c.return}if(Nt===null)throw Error(J(160));l1(o,a,r),Nt=null,Wn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){ot(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u1(e,t),e=e.sibling}function u1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),ai(t),i&4){try{Ga(3,t,t.return),qh(3,t)}catch(A){ot(t,t.return,A)}try{Ga(5,t,t.return)}catch(A){ot(t,t.return,A)}}break;case 1:$n(e,t),ai(t),i&512&&n!==null&&mo(n,n.return);break;case 5:if($n(e,t),ai(t),i&512&&n!==null&&mo(n,n.return),t.flags&32){var r=t.stateNode;try{al(r,"")}catch(A){ot(t,t.return,A)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&R0(r,o),hp(c,a);var f=hp(c,o);for(a=0;a<h.length;a+=2){var p=h[a],g=h[a+1];p==="style"?D0(r,g):p==="dangerouslySetInnerHTML"?O0(r,g):p==="children"?al(r,g):Om(r,p,g,f)}switch(c){case"input":op(r,o);break;case"textarea":A0(r,o);break;case"select":var _=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?yo(r,!!o.multiple,S,!1):_!==!!o.multiple&&(o.defaultValue!=null?yo(r,!!o.multiple,o.defaultValue,!0):yo(r,!!o.multiple,o.multiple?[]:"",!1))}r[gl]=o}catch(A){ot(t,t.return,A)}}break;case 6:if($n(e,t),ai(t),i&4){if(t.stateNode===null)throw Error(J(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(A){ot(t,t.return,A)}}break;case 3:if($n(e,t),ai(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(A){ot(t,t.return,A)}break;case 4:$n(e,t),ai(t);break;case 13:$n(e,t),ai(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(dg=ht())),i&4&&hy(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(f=Gt)||p,$n(e,t),Gt=f):$n(e,t),ai(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(ae=t,p=t.child;p!==null;){for(g=ae=p;ae!==null;){switch(_=ae,S=_.child,_.tag){case 0:case 11:case 14:case 15:Ga(4,_,_.return);break;case 1:mo(_,_.return);var x=_.stateNode;if(typeof x.componentWillUnmount=="function"){i=_,n=_.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(A){ot(i,n,A)}}break;case 5:mo(_,_.return);break;case 22:if(_.memoizedState!==null){fy(g);continue}}S!==null?(S.return=_,ae=S):fy(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{r=g.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,h=g.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=N0("display",a))}catch(A){ot(t,t.return,A)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(A){ot(t,t.return,A)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:$n(e,t),ai(t),i&4&&hy(t);break;case 21:break;default:$n(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a1(n)){var i=n;break e}n=n.return}throw Error(J(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(al(r,""),i.flags&=-33);var o=cy(t);Up(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,c=cy(t);Vp(t,c,a);break;default:throw Error(J(161))}}catch(h){ot(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ix(t,e,n){ae=t,c1(t)}function c1(t,e,n){for(var i=(t.mode&1)!==0;ae!==null;){var r=ae,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||rc;if(!a){var c=r.alternate,h=c!==null&&c.memoizedState!==null||Gt;c=rc;var f=Gt;if(rc=a,(Gt=h)&&!f)for(ae=r;ae!==null;)a=ae,h=a.child,a.tag===22&&a.memoizedState!==null?py(r):h!==null?(h.return=a,ae=h):py(r);for(;o!==null;)ae=o,c1(o),o=o.sibling;ae=r,rc=c,Gt=f}dy(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ae=o):dy(t)}}function dy(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||qh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Gt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Hn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qv(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qv(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&hl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Gt||e.flags&512&&Fp(e)}catch(_){ot(e,e.return,_)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function fy(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function py(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(h){ot(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){ot(e,r,h)}}var o=e.return;try{Fp(e)}catch(h){ot(e,o,h)}break;case 5:var a=e.return;try{Fp(e)}catch(h){ot(e,a,h)}}}catch(h){ot(e,e.return,h)}if(e===t){ae=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ae=c;break}ae=e.return}}var rx=Math.ceil,ih=Qi.ReactCurrentDispatcher,cg=Qi.ReactCurrentOwner,Dn=Qi.ReactCurrentBatchConfig,Ve=0,kt=null,_t=null,Vt=0,yn=0,go=Fr(0),Tt=0,Tl=null,ws=0,Qh=0,hg=0,qa=null,hn=null,dg=0,Do=1/0,Oi=null,rh=!1,Bp=null,Sr=null,sc=!1,gr=null,sh=0,Qa=0,$p=null,xc=-1,Cc=0;function sn(){return Ve&6?ht():xc!==-1?xc:xc=ht()}function Pr(t){return t.mode&1?Ve&2&&Vt!==0?Vt&-Vt:Uk.transition!==null?(Cc===0&&(Cc=Z0()),Cc):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:eE(t.type)),t):1}function Jn(t,e,n,i){if(50<Qa)throw Qa=0,$p=null,Error(J(185));Kl(t,n,i),(!(Ve&2)||t!==kt)&&(t===kt&&(!(Ve&2)&&(Qh|=n),Tt===4&&cr(t,Vt)),mn(t,i),n===1&&Ve===0&&!(e.mode&1)&&(Do=ht()+500,Kh&&Vr()))}function mn(t,e){var n=t.callbackNode;Ub(t,e);var i=Bc(t,t===kt?Vt:0);if(i===0)n!==null&&Sv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Sv(n),e===1)t.tag===0?Vk(my.bind(null,t)):yE(my.bind(null,t)),Mk(function(){!(Ve&6)&&Vr()}),n=null;else{switch(G0(i)){case 1:n=zm;break;case 4:n=W0;break;case 16:n=Uc;break;case 536870912:n=K0;break;default:n=Uc}n=v1(n,h1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h1(t,e){if(xc=-1,Cc=0,Ve&6)throw Error(J(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var i=Bc(t,t===kt?Vt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=oh(t,i);else{e=i;var r=Ve;Ve|=2;var o=f1();(kt!==t||Vt!==e)&&(Oi=null,Do=ht()+500,ds(t,e));do try{ax();break}catch(c){d1(t,c)}while(!0);Jm(),ih.current=o,Ve=r,_t!==null?e=0:(kt=null,Vt=0,e=Tt)}if(e!==0){if(e===2&&(r=gp(t),r!==0&&(i=r,e=Hp(t,r))),e===1)throw n=Tl,ds(t,0),cr(t,i),mn(t,ht()),n;if(e===6)cr(t,i);else{if(r=t.current.alternate,!(i&30)&&!sx(r)&&(e=oh(t,i),e===2&&(o=gp(t),o!==0&&(i=o,e=Hp(t,o))),e===1))throw n=Tl,ds(t,0),cr(t,i),mn(t,ht()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(J(345));case 2:ts(t,hn,Oi);break;case 3:if(cr(t,i),(i&130023424)===i&&(e=dg+500-ht(),10<e)){if(Bc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){sn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Pp(ts.bind(null,t,hn,Oi),e);break}ts(t,hn,Oi);break;case 4:if(cr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Qn(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=ht()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*rx(i/1960))-i,10<i){t.timeoutHandle=Pp(ts.bind(null,t,hn,Oi),i);break}ts(t,hn,Oi);break;case 5:ts(t,hn,Oi);break;default:throw Error(J(329))}}}return mn(t,ht()),t.callbackNode===n?h1.bind(null,t):null}function Hp(t,e){var n=qa;return t.current.memoizedState.isDehydrated&&(ds(t,e).flags|=256),t=oh(t,e),t!==2&&(e=hn,hn=n,e!==null&&Wp(e)),t}function Wp(t){hn===null?hn=t:hn.push.apply(hn,t)}function sx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Yn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e){for(e&=~hg,e&=~Qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),i=1<<n;t[n]=-1,e&=~i}}function my(t){if(Ve&6)throw Error(J(327));Po();var e=Bc(t,0);if(!(e&1))return mn(t,ht()),null;var n=oh(t,e);if(t.tag!==0&&n===2){var i=gp(t);i!==0&&(e=i,n=Hp(t,i))}if(n===1)throw n=Tl,ds(t,0),cr(t,e),mn(t,ht()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,hn,Oi),mn(t,ht()),null}function fg(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Do=ht()+500,Kh&&Vr())}}function Es(t){gr!==null&&gr.tag===0&&!(Ve&6)&&Po();var e=Ve;Ve|=1;var n=Dn.transition,i=Ue;try{if(Dn.transition=null,Ue=1,t)return t()}finally{Ue=i,Dn.transition=n,Ve=e,!(Ve&6)&&Vr()}}function pg(){yn=go.current,Qe(go)}function ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Dk(n)),_t!==null)for(n=_t.return;n!==null;){var i=n;switch(Gm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Zc();break;case 3:Oo(),Qe(fn),Qe(Xt),ig();break;case 5:ng(i);break;case 4:Oo();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:Ym(i.type._context);break;case 22:case 23:pg()}n=n.return}if(kt=t,_t=t=Ir(t.current,null),Vt=yn=e,Tt=0,Tl=null,hg=Qh=ws=0,hn=qa=null,ss!==null){for(e=0;e<ss.length;e++)if(n=ss[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}ss=null}return t}function d1(t,e){do{var n=_t;try{if(Jm(),Ic.current=nh,th){for(var i=rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}th=!1}if(ys=0,It=Et=rt=null,Za=!1,yl=0,cg.current=null,n===null||n.return===null){Tt=1,Tl=e,_t=null;break}e:{var o=t,a=n.return,c=n,h=e;if(e=Vt,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=ny(a);if(S!==null){S.flags&=-257,iy(S,a,c,o,e),S.mode&1&&ty(o,f,e),e=S,h=f;var x=e.updateQueue;if(x===null){var A=new Set;A.add(h),e.updateQueue=A}else x.add(h);break e}else{if(!(e&1)){ty(o,f,e),mg();break e}h=Error(J(426))}}else if(Xe&&c.mode&1){var O=ny(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),iy(O,a,c,o,e),qm(No(h,c));break e}}o=h=No(h,c),Tt!==4&&(Tt=2),qa===null?qa=[o]:qa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var P=qE(o,h,e);Gv(o,P);break e;case 1:c=h;var E=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Sr===null||!Sr.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=QE(o,c,e);Gv(o,N);break e}}o=o.return}while(o!==null)}m1(n)}catch(U){e=U,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function f1(){var t=ih.current;return ih.current=nh,t===null?nh:t}function mg(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||!(ws&268435455)&&!(Qh&268435455)||cr(kt,Vt)}function oh(t,e){var n=Ve;Ve|=2;var i=f1();(kt!==t||Vt!==e)&&(Oi=null,ds(t,e));do try{ox();break}catch(r){d1(t,r)}while(!0);if(Jm(),Ve=n,ih.current=i,_t!==null)throw Error(J(261));return kt=null,Vt=0,Tt}function ox(){for(;_t!==null;)p1(_t)}function ax(){for(;_t!==null&&!Lb();)p1(_t)}function p1(t){var e=_1(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?m1(t):_t=e,cg.current=null}function m1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ex(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,_t=null;return}}else if(n=Xk(n,e,yn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Tt===0&&(Tt=5)}function ts(t,e,n){var i=Ue,r=Dn.transition;try{Dn.transition=null,Ue=1,lx(t,e,n,i)}finally{Dn.transition=r,Ue=i}return null}function lx(t,e,n,i){do Po();while(gr!==null);if(Ve&6)throw Error(J(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bb(t,o),t===kt&&(_t=kt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,v1(Uc,function(){return Po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dn.transition,Dn.transition=null;var a=Ue;Ue=1;var c=Ve;Ve|=4,cg.current=null,nx(t,n),u1(n,t),xk(Tp),$c=!!Ep,Tp=Ep=null,t.current=n,ix(n),Ob(),Ve=c,Ue=a,Dn.transition=o}else t.current=n;if(sc&&(sc=!1,gr=t,sh=r),o=t.pendingLanes,o===0&&(Sr=null),Mb(n.stateNode),mn(t,ht()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(rh)throw rh=!1,t=Bp,Bp=null,t;return sh&1&&t.tag!==0&&Po(),o=t.pendingLanes,o&1?t===$p?Qa++:(Qa=0,$p=t):Qa=0,Vr(),null}function Po(){if(gr!==null){var t=G0(sh),e=Dn.transition,n=Ue;try{if(Dn.transition=null,Ue=16>t?16:t,gr===null)var i=!1;else{if(t=gr,gr=null,sh=0,Ve&6)throw Error(J(331));var r=Ve;for(Ve|=4,ae=t.current;ae!==null;){var o=ae,a=o.child;if(ae.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(ae=f;ae!==null;){var p=ae;switch(p.tag){case 0:case 11:case 15:Ga(8,p,o)}var g=p.child;if(g!==null)g.return=p,ae=g;else for(;ae!==null;){p=ae;var _=p.sibling,S=p.return;if(o1(p),p===f){ae=null;break}if(_!==null){_.return=S,ae=_;break}ae=S}}}var x=o.alternate;if(x!==null){var A=x.child;if(A!==null){x.child=null;do{var O=A.sibling;A.sibling=null,A=O}while(A!==null)}}ae=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ae=a;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ga(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,ae=P;break e}ae=o.return}}var E=t.current;for(ae=E;ae!==null;){a=ae;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ae=b;else e:for(a=E;ae!==null;){if(c=ae,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:qh(9,c)}}catch(U){ot(c,c.return,U)}if(c===a){ae=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,ae=N;break e}ae=c.return}}if(Ve=r,Vr(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Uh,t)}catch{}i=!0}return i}finally{Ue=n,Dn.transition=e}}return!1}function gy(t,e,n){e=No(n,e),e=qE(t,e,1),t=Tr(t,e,1),e=sn(),t!==null&&(Kl(t,1,e),mn(t,e))}function ot(t,e,n){if(t.tag===3)gy(t,t,n);else for(;e!==null;){if(e.tag===3){gy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sr===null||!Sr.has(i))){t=No(n,t),t=QE(e,t,1),e=Tr(e,t,1),t=sn(),e!==null&&(Kl(e,1,t),mn(e,t));break}}e=e.return}}function ux(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Vt&n)===n&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>ht()-dg?ds(t,0):hg|=n),mn(t,e)}function g1(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var n=sn();t=Wi(t,e),t!==null&&(Kl(t,e,n),mn(t,n))}function cx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g1(t,n)}function hx(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(J(314))}i!==null&&i.delete(e),g1(t,n)}var _1;_1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,Yk(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Xe&&e.flags&1048576&&wE(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;kc(t,e),t=e.pendingProps;var r=Ro(e,Xt.current);So(e,n),r=sg(null,e,i,t,r,n);var o=og();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(i)?(o=!0,Gc(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,eg(e),r.updater=Zh,e.stateNode=r,r._reactInternals=e,Ap(e,i,t,n),e=Np(null,e,i,!0,o,n)):(e.tag=0,Xe&&o&&Zm(e),nn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(kc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=fx(i),t=Hn(i,t),r){case 0:e=Op(null,e,i,t,n);break e;case 1:e=oy(null,e,i,t,n);break e;case 11:e=ry(null,e,i,t,n);break e;case 14:e=sy(null,e,i,Hn(i.type,t),n);break e}throw Error(J(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hn(i,r),Op(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hn(i,r),oy(t,e,i,r,n);case 3:e:{if(e1(e),t===null)throw Error(J(387));i=e.pendingProps,o=e.memoizedState,r=o.element,PE(t,e),Xc(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=No(Error(J(423)),e),e=ay(t,e,i,n,r);break e}else if(i!==r){r=No(Error(J(424)),e),e=ay(t,e,i,n,r);break e}else for(wn=Er(e.stateNode.containerInfo.firstChild),En=e,Xe=!0,Kn=null,n=xE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),i===r){e=Ki(t,e,n);break e}nn(t,e,i,n)}e=e.child}return e;case 5:return CE(e),t===null&&xp(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,Sp(i,r)?a=null:o!==null&&Sp(i,o)&&(e.flags|=32),XE(t,e),nn(t,e,a,n),e.child;case 6:return t===null&&xp(e),null;case 13:return t1(t,e,n);case 4:return tg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Lo(e,null,i,n):nn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hn(i,r),ry(t,e,i,r,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Ze(Jc,i._currentValue),i._currentValue=a,o!==null)if(Yn(o.value,a)){if(o.children===r.children&&!fn.current){e=Ki(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Vi(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?h.next=h:(h.next=p.next,p.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Cp(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Cp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}nn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,So(e,n),r=Mn(r),i=i(r),e.flags|=1,nn(t,e,i,n),e.child;case 14:return i=e.type,r=Hn(i,e.pendingProps),r=Hn(i.type,r),sy(t,e,i,r,n);case 15:return JE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Hn(i,r),kc(t,e),e.tag=1,pn(i)?(t=!0,Gc(e)):t=!1,So(e,n),bE(e,i,r),Ap(e,i,r,n),Np(null,e,i,!0,t,n);case 19:return n1(t,e,n);case 22:return YE(t,e,n)}throw Error(J(156,e.tag))};function v1(t,e){return H0(t,e)}function dx(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,i){return new dx(t,e,n,i)}function gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fx(t){if(typeof t=="function")return gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dm)return 11;if(t===Mm)return 14}return 2}function Ir(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")gg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case so:return fs(n.children,r,o,e);case Nm:a=8,r|=8;break;case tp:return t=Nn(12,n,e,r|2),t.elementType=tp,t.lanes=o,t;case np:return t=Nn(13,n,e,r),t.elementType=np,t.lanes=o,t;case ip:return t=Nn(19,n,e,r),t.elementType=ip,t.lanes=o,t;case k0:return Jh(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I0:a=10;break e;case b0:a=9;break e;case Dm:a=11;break e;case Mm:a=14;break e;case ar:a=16,i=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Nn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function fs(t,e,n,i){return t=Nn(7,t,i,e),t.lanes=n,t}function Jh(t,e,n,i){return t=Nn(22,t,i,e),t.elementType=k0,t.lanes=n,t.stateNode={isHidden:!1},t}function Rf(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function px(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hf(0),this.expirationTimes=hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function _g(t,e,n,i,r,o,a,c,h){return t=new px(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Nn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(o),t}function mx(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function y1(t){if(!t)return Lr;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(pn(n))return vE(t,n,e)}return e}function w1(t,e,n,i,r,o,a,c,h){return t=_g(n,i,!0,t,r,o,a,c,h),t.context=y1(null),n=t.current,i=sn(),r=Pr(n),o=Vi(i,r),o.callback=e??null,Tr(n,o,r),t.current.lanes=r,Kl(t,r,i),mn(t,i),t}function Yh(t,e,n,i){var r=e.current,o=sn(),a=Pr(r);return n=y1(n),e.context===null?e.context=n:e.pendingContext=n,e=Vi(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Tr(r,e,a),t!==null&&(Jn(t,r,a,o),Pc(t,r,a)),a}function ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _y(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){_y(t,e),(t=t.alternate)&&_y(t,e)}function gx(){return null}var E1=typeof reportError=="function"?reportError:function(t){console.error(t)};function yg(t){this._internalRoot=t}Xh.prototype.render=yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Yh(t,e,null,null)};Xh.prototype.unmount=yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Es(function(){Yh(null,t,null,null)}),e[Hi]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=J0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ur.length&&e!==0&&e<ur[n].priority;n++);ur.splice(n,0,t),n===0&&X0(t)}};function wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vy(){}function _x(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=ah(a);o.call(f)}}var a=w1(e,i,t,0,null,!1,!1,"",vy);return t._reactRootContainer=a,t[Hi]=a.current,pl(t.nodeType===8?t.parentNode:t),Es(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var c=i;i=function(){var f=ah(h);c.call(f)}}var h=_g(t,0,!1,null,null,!1,!1,"",vy);return t._reactRootContainer=h,t[Hi]=h.current,pl(t.nodeType===8?t.parentNode:t),Es(function(){Yh(e,h,n,i)}),h}function td(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var c=r;r=function(){var h=ah(a);c.call(h)}}Yh(e,a,t,r)}else a=_x(n,e,t,r,i);return ah(a)}q0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ma(e.pendingLanes);n!==0&&(Fm(e,n|1),mn(e,ht()),!(Ve&6)&&(Do=ht()+500,Vr()))}break;case 13:Es(function(){var i=Wi(t,1);if(i!==null){var r=sn();Jn(i,t,1,r)}}),vg(t,1)}};Vm=function(t){if(t.tag===13){var e=Wi(t,134217728);if(e!==null){var n=sn();Jn(e,t,134217728,n)}vg(t,134217728)}};Q0=function(t){if(t.tag===13){var e=Pr(t),n=Wi(t,e);if(n!==null){var i=sn();Jn(n,t,e,i)}vg(t,e)}};J0=function(){return Ue};Y0=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};fp=function(t,e,n){switch(e){case"input":if(op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Wh(i);if(!r)throw Error(J(90));C0(i),op(i,r)}}}break;case"textarea":A0(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};z0=fg;F0=Es;var vx={usingClientEntryPoint:!1,Events:[Gl,uo,Wh,M0,j0,fg]},ba={findFiberByHostInstance:rs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yx={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B0(t),t===null?null:t.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||gx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Uh=oc.inject(yx),pi=oc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vx;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(e))throw Error(J(200));return mx(t,e,null,n)};Pn.createRoot=function(t,e){if(!wg(t))throw Error(J(299));var n=!1,i="",r=E1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=_g(t,1,!1,null,null,n,!1,i,r),t[Hi]=e.current,pl(t.nodeType===8?t.parentNode:t),new yg(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=B0(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Es(t)};Pn.hydrate=function(t,e,n){if(!ed(e))throw Error(J(200));return td(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!wg(t))throw Error(J(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=E1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=w1(e,null,t,1,n??null,r,!1,o,a),t[Hi]=e.current,pl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Xh(e)};Pn.render=function(t,e,n){if(!ed(e))throw Error(J(200));return td(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!ed(t))throw Error(J(40));return t._reactRootContainer?(Es(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[Hi]=null})}),!0):!1};Pn.unstable_batchedUpdates=fg;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ed(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return td(t,e,n,!1,i)};Pn.version="18.2.0-next-9e3b772b8-20220608";function T1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T1)}catch(t){console.error(t)}}T1(),w0.exports=Pn;var S1=w0.exports,yy=S1;Xf.createRoot=yy.createRoot,Xf.hydrateRoot=yy.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sl.apply(this,arguments)}var _r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_r||(_r={}));const wy="popstate";function wx(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:a,hash:c}=i.location;return Kp("",{pathname:o,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:lh(r)}return Tx(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ex(){return Math.random().toString(36).substr(2,8)}function Ey(t,e){return{usr:t.state,key:t.key,idx:e}}function Kp(t,e,n,i){return n===void 0&&(n=null),Sl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:n,key:e&&e.key||i||Ex()})}function lh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Tx(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,c=_r.Pop,h=null,f=p();f==null&&(f=0,a.replaceState(Sl({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function g(){c=_r.Pop;let O=p(),P=O==null?null:O-f;f=O,h&&h({action:c,location:A.location,delta:P})}function _(O,P){c=_r.Push;let E=Kp(A.location,O,P);n&&n(E,O),f=p()+1;let b=Ey(E,f),N=A.createHref(E);try{a.pushState(b,"",N)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(N)}o&&h&&h({action:c,location:A.location,delta:1})}function S(O,P){c=_r.Replace;let E=Kp(A.location,O,P);n&&n(E,O),f=p();let b=Ey(E,f),N=A.createHref(E);a.replaceState(b,"",N),o&&h&&h({action:c,location:A.location,delta:0})}function x(O){let P=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof O=="string"?O:lh(O);return E=E.replace(/ $/,"%20"),dt(P,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,P)}let A={get action(){return c},get location(){return t(r,a)},listen(O){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(wy,g),h=O,()=>{r.removeEventListener(wy,g),h=null}},createHref(O){return e(r,O)},createURL:x,encodeLocation(O){let P=x(O);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:S,go(O){return a.go(O)}};return A}var Ty;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ty||(Ty={}));function Sx(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Wo(e):e,r=Eg(i.pathname||"/",n);if(r==null)return null;let o=I1(t);Px(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let h=Mx(r);a=Ox(o[c],h)}return a}function I1(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(dt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=br([i,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),I1(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Ax(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,a);else for(let h of b1(o.path))r(o,a,h)}),e}function b1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=b1(i.join("/")),c=[];return c.push(...a.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...a),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function Px(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Ix=/^:[\w-]+$/,bx=3,kx=2,xx=1,Cx=10,Rx=-2,Sy=t=>t==="*";function Ax(t,e){let n=t.split("/"),i=n.length;return n.some(Sy)&&(i+=Rx),e&&(i+=kx),n.filter(r=>!Sy(r)).reduce((r,o)=>r+(Ix.test(o)?bx:o===""?xx:Cx),i)}function Lx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Ox(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],h=a===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",p=Nx({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f);if(!p)return null;Object.assign(i,p.params);let g=c.route;o.push({params:i,pathname:br([r,p.pathname]),pathnameBase:Vx(br([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=br([r,p.pathnameBase]))}return o}function Nx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Dx(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,p,g)=>{let{paramName:_,isOptional:S}=p;if(_==="*"){let A=c[g]||"";a=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const x=c[g];return S&&!x?f[_]=void 0:f[_]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function Dx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Mx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function jx(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:zx(n,e):e,search:Ux(i),hash:Bx(r)}}function zx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Lf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tg(t,e){let n=Fx(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Sg(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Wo(t):(r=Sl({},t),dt(!r.pathname||!r.pathname.includes("?"),Lf("?","pathname","search",r)),dt(!r.pathname||!r.pathname.includes("#"),Lf("#","pathname","hash",r)),dt(!r.search||!r.search.includes("#"),Lf("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;r.pathname=_.join("/")}c=g>=0?e[g]:"/"}let h=jx(r,c),f=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const br=t=>t.join("/").replace(/\/\/+/g,"/"),Vx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $x(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k1=["post","put","patch","delete"];new Set(k1);const Hx=["get",...k1];new Set(Hx);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pl.apply(this,arguments)}const Pg=F.createContext(null),Wx=F.createContext(null),Ur=F.createContext(null),nd=F.createContext(null),Br=F.createContext({outlet:null,matches:[],isDataRoute:!1}),x1=F.createContext(null);function Kx(t,e){let{relative:n}=e===void 0?{}:e;Ko()||dt(!1);let{basename:i,navigator:r}=F.useContext(Ur),{hash:o,pathname:a,search:c}=R1(t,{relative:n}),h=a;return i!=="/"&&(h=a==="/"?i:br([i,a])),r.createHref({pathname:h,search:c,hash:o})}function Ko(){return F.useContext(nd)!=null}function Ql(){return Ko()||dt(!1),F.useContext(nd).location}function C1(t){F.useContext(Ur).static||F.useLayoutEffect(t)}function id(){let{isDataRoute:t}=F.useContext(Br);return t?sC():Zx()}function Zx(){Ko()||dt(!1);let t=F.useContext(Pg),{basename:e,future:n,navigator:i}=F.useContext(Ur),{matches:r}=F.useContext(Br),{pathname:o}=Ql(),a=JSON.stringify(Tg(r,n.v7_relativeSplatPath)),c=F.useRef(!1);return C1(()=>{c.current=!0}),F.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){i.go(f);return}let g=Sg(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:br([e,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[e,i,a,o,t])}function R1(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=F.useContext(Ur),{matches:r}=F.useContext(Br),{pathname:o}=Ql(),a=JSON.stringify(Tg(r,i.v7_relativeSplatPath));return F.useMemo(()=>Sg(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function Gx(t,e){return qx(t,e)}function qx(t,e,n,i){Ko()||dt(!1);let{navigator:r}=F.useContext(Ur),{matches:o}=F.useContext(Br),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=Ql(),p;if(e){var g;let O=typeof e=="string"?Wo(e):e;h==="/"||(g=O.pathname)!=null&&g.startsWith(h)||dt(!1),p=O}else p=f;let _=p.pathname||"/",S=_;if(h!=="/"){let O=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let x=Sx(t,{pathname:S}),A=eC(x&&x.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:br([h,r.encodeLocation?r.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:br([h,r.encodeLocation?r.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,i);return e&&A?F.createElement(nd.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:_r.Pop}},A):A}function Qx(){let t=rC(),e=$x(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:r},n):null,null)}const Jx=F.createElement(Qx,null);class Yx extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Br.Provider,{value:this.props.routeContext},F.createElement(x1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xx(t){let{routeContext:e,match:n,children:i}=t,r=F.useContext(Pg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Br.Provider,{value:e},i)}function eC(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let p=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id]));p>=0||dt(!1),a=a.slice(0,Math.min(a.length,p+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:_,errors:S}=n,x=g.route.loader&&_[g.route.id]===void 0&&(!S||S[g.route.id]===void 0);if(g.route.lazy||x){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let S,x=!1,A=null,O=null;n&&(S=c&&g.route.id?c[g.route.id]:void 0,A=g.route.errorElement||Jx,h&&(f<0&&_===0?(oC("route-fallback",!1),x=!0,O=null):f===_&&(x=!0,O=g.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,_+1)),E=()=>{let b;return S?b=A:x?b=O:g.route.Component?b=F.createElement(g.route.Component,null):g.route.element?b=g.route.element:b=p,F.createElement(Xx,{match:g,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:b})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(Yx,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:E(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):E()},null)}var A1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A1||{}),uh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uh||{});function tC(t){let e=F.useContext(Pg);return e||dt(!1),e}function nC(t){let e=F.useContext(Wx);return e||dt(!1),e}function iC(t){let e=F.useContext(Br);return e||dt(!1),e}function L1(t){let e=iC(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function rC(){var t;let e=F.useContext(x1),n=nC(uh.UseRouteError),i=L1(uh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function sC(){let{router:t}=tC(A1.UseNavigateStable),e=L1(uh.UseNavigateStable),n=F.useRef(!1);return C1(()=>{n.current=!0}),F.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Pl({fromRouteId:e},o)))},[t,e])}const Py={};function oC(t,e,n){!e&&!Py[t]&&(Py[t]=!0)}function aC(t){let{to:e,replace:n,state:i,relative:r}=t;Ko()||dt(!1);let{future:o,static:a}=F.useContext(Ur),{matches:c}=F.useContext(Br),{pathname:h}=Ql(),f=id(),p=Sg(e,Tg(c,o.v7_relativeSplatPath),h,r==="path"),g=JSON.stringify(p);return F.useEffect(()=>f(JSON.parse(g),{replace:n,state:i,relative:r}),[f,g,r,n,i]),null}function no(t){dt(!1)}function lC(t){let{basename:e="/",children:n=null,location:i,navigationType:r=_r.Pop,navigator:o,static:a=!1,future:c}=t;Ko()&&dt(!1);let h=e.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:h,navigator:o,static:a,future:Pl({v7_relativeSplatPath:!1},c)}),[h,c,o,a]);typeof i=="string"&&(i=Wo(i));let{pathname:p="/",search:g="",hash:_="",state:S=null,key:x="default"}=i,A=F.useMemo(()=>{let O=Eg(p,h);return O==null?null:{location:{pathname:O,search:g,hash:_,state:S,key:x},navigationType:r}},[h,p,g,_,S,x,r]);return A==null?null:F.createElement(Ur.Provider,{value:f},F.createElement(nd.Provider,{children:n,value:A}))}function uC(t){let{children:e,location:n}=t;return Gx(Zp(e),n)}new Promise(()=>{});function Zp(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(i,r)=>{if(!F.isValidElement(i))return;let o=[...e,r];if(i.type===F.Fragment){n.push.apply(n,Zp(i.props.children,o));return}i.type!==no&&dt(!1),!i.props.index||!i.props.children||dt(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Zp(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gp.apply(this,arguments)}function cC(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function hC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dC(t,e){return t.button===0&&(!e||e==="_self")&&!hC(t)}const fC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pC="6";try{window.__reactRouterVersion=pC}catch{}const mC="startTransition",Iy=cb[mC];function gC(t){let{basename:e,children:n,future:i,window:r}=t,o=F.useRef();o.current==null&&(o.current=wx({window:r,v5Compat:!0}));let a=o.current,[c,h]=F.useState({action:a.action,location:a.location}),{v7_startTransition:f}=i||{},p=F.useCallback(g=>{f&&Iy?Iy(()=>h(g)):h(g)},[h,f]);return F.useLayoutEffect(()=>a.listen(p),[a,p]),F.createElement(lC,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:i})}const _C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yC=F.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:a,state:c,target:h,to:f,preventScrollReset:p,unstable_viewTransition:g}=e,_=cC(e,fC),{basename:S}=F.useContext(Ur),x,A=!1;if(typeof f=="string"&&vC.test(f)&&(x=f,_C))try{let b=new URL(window.location.href),N=f.startsWith("//")?new URL(b.protocol+f):new URL(f),U=Eg(N.pathname,S);N.origin===b.origin&&U!=null?f=U+N.search+N.hash:A=!0}catch{}let O=Kx(f,{relative:r}),P=wC(f,{replace:a,state:c,target:h,preventScrollReset:p,relative:r,unstable_viewTransition:g});function E(b){i&&i(b),b.defaultPrevented||P(b)}return F.createElement("a",Gp({},_,{href:x||O,onClick:A||o?i:E,ref:n,target:h}))});var by;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(by||(by={}));var ky;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ky||(ky={}));function wC(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,h=id(),f=Ql(),p=R1(t,{relative:a});return F.useCallback(g=>{if(dC(g,n)){g.preventDefault();let _=i!==void 0?i:lh(f)===lh(p);h(t,{replace:_,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:c})}},[f,h,p,i,r,n,t,o,a,c])}var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},EC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],c=t[n++],h=((r&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,c=a?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,p=o>>2,g=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,S=f&63;h||(S=64,a||(_=64)),i.push(n[p],n[g],n[_],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||f==null||g==null)throw new TC;const _=o<<2|c>>4;if(i.push(_),f!==64){const S=c<<4&240|f>>2;if(i.push(S),g!==64){const x=f<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SC=function(t){const e=O1(t);return N1.encodeByteArray(e,!0)},ch=function(t){return SC(t).replace(/\./g,"")},D1=function(t){try{return N1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=()=>PC().__FIREBASE_DEFAULTS__,bC=()=>{if(typeof process>"u"||typeof xy>"u")return;const t=xy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D1(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return IC()||bC()||kC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M1=t=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},j1=t=>{const e=M1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},z1=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.config},F1=t=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ch(JSON.stringify(n)),ch(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function RC(){var t;const e=(t=rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NC(){return!RC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U1(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="FirebaseError";class Ti extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=MC,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?jC(o,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new Ti(r,c,i)}}function jC(t,e){return t.replace(zC,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const zC=/\{\$([^}]+)}/g;function FC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(Cy(o)&&Cy(a)){if(!hh(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Cy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Fa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VC(t,e){const n=new UC(t,e);return n.subscribe.bind(n)}class UC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BC(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Of),r.error===void 0&&(r.error=Of),r.complete===void 0&&(r.complete=Of);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new xC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WC(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HC(t){return t===ns?void 0:t}function WC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $C(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const ZC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},GC=Re.INFO,qC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},QC=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=qC[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ig=class{constructor(e){this.name=e,this._logLevel=GC,this._logHandler=QC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};const JC=(t,e)=>e.some(n=>t instanceof n);let Ry,Ay;function YC(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XC(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B1=new WeakMap,qp=new WeakMap,$1=new WeakMap,Nf=new WeakMap,bg=new WeakMap;function eR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(kr(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&B1.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function tR(t){if(qp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});qp.set(t,e)}let Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nR(t){Qp=t(Qp)}function iR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Df(this),e,...n);return $1.set(i,e.sort?e.sort():[e]),kr(i)}:XC().includes(t)?function(...e){return t.apply(Df(this),e),kr(B1.get(this))}:function(...e){return kr(t.apply(Df(this),e))}}function rR(t){return typeof t=="function"?iR(t):(t instanceof IDBTransaction&&tR(t),JC(t,YC())?new Proxy(t,Qp):t)}function kr(t){if(t instanceof IDBRequest)return eR(t);if(Nf.has(t))return Nf.get(t);const e=rR(t);return e!==t&&(Nf.set(t,e),bg.set(e,t)),e}const Df=t=>bg.get(t);function sR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),c=kr(a);return i&&a.addEventListener("upgradeneeded",h=>{i(kr(a.result),h.oldVersion,h.newVersion,kr(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const oR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Mf=new Map;function Ly(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=aR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||oR.includes(n)))return;const o=async function(a,...c){const h=this.transaction(a,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),r&&h.done]))[0]};return Mf.set(e,o),o}nR(t=>({...t,get:(e,n,i)=>Ly(e,n)||t.get(e,n,i),has:(e,n)=>!!Ly(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function uR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jp="@firebase/app",Oy="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Ig("@firebase/app"),cR="@firebase/app-compat",hR="@firebase/analytics-compat",dR="@firebase/analytics",fR="@firebase/app-check-compat",pR="@firebase/app-check",mR="@firebase/auth",gR="@firebase/auth-compat",_R="@firebase/database",vR="@firebase/database-compat",yR="@firebase/functions",wR="@firebase/functions-compat",ER="@firebase/installations",TR="@firebase/installations-compat",SR="@firebase/messaging",PR="@firebase/messaging-compat",IR="@firebase/performance",bR="@firebase/performance-compat",kR="@firebase/remote-config",xR="@firebase/remote-config-compat",CR="@firebase/storage",RR="@firebase/storage-compat",AR="@firebase/firestore",LR="@firebase/firestore-compat",OR="firebase",NR="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",DR={[Jp]:"fire-core",[cR]:"fire-core-compat",[dR]:"fire-analytics",[hR]:"fire-analytics-compat",[pR]:"fire-app-check",[fR]:"fire-app-check-compat",[mR]:"fire-auth",[gR]:"fire-auth-compat",[_R]:"fire-rtdb",[vR]:"fire-rtdb-compat",[yR]:"fire-fn",[wR]:"fire-fn-compat",[ER]:"fire-iid",[TR]:"fire-iid-compat",[SR]:"fire-fcm",[PR]:"fire-fcm-compat",[IR]:"fire-perf",[bR]:"fire-perf-compat",[kR]:"fire-rc",[xR]:"fire-rc-compat",[CR]:"fire-gcs",[RR]:"fire-gcs-compat",[AR]:"fire-fst",[LR]:"fire-fst-compat","fire-js":"fire-js",[OR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,Xp=new Map;function MR(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(Xp.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(const n of dh.values())MR(n,t);return!0}function sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xr=new Jl("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=NR;function H1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw xr.create("bad-app-name",{appName:String(r)});if(n||(n=z1()),!n)throw xr.create("no-options");const o=dh.get(r);if(o){if(hh(n,o.options)&&hh(i,o.config))return o;throw xr.create("duplicate-app",{appName:r})}const a=new KC(r);for(const h of Xp.values())a.addComponent(h);const c=new zR(n,i,a);return dh.set(r,c),c}function kg(t=Yp){const e=dh.get(t);if(!e&&t===Yp&&z1())return H1();if(!e)throw xr.create("no-app",{appName:t});return e}function gi(t,e,n){var i;let r=(i=DR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(c.join(" "));return}Ss(new Or(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",VR=1,Il="firebase-heartbeat-store";let jf=null;function W1(){return jf||(jf=sR(FR,VR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),jf}async function UR(t){try{const n=(await W1()).transaction(Il),i=await n.objectStore(Il).get(K1(t));return await n.done,i}catch(e){if(e instanceof Ti)Ts.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function Ny(t,e){try{const i=(await W1()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,K1(t)),await i.done}catch(n){if(n instanceof Ti)Ts.warn(n.message);else{const i=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(i.message)}}}function K1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1024,$R=30*24*60*60*1e3;class HR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=$R}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dy(),{heartbeatsToSend:i,unsentEntries:r}=WR(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Dy(){return new Date().toISOString().substring(0,10)}function WR(t,e=BR){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),My(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),My(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U1()?DC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function My(t){return ch(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){Ss(new Or("platform-logger",e=>new lR(e),"PRIVATE")),Ss(new Or("heartbeat",e=>new HR(e),"PRIVATE")),gi(Jp,Oy,t),gi(Jp,Oy,"esm2017"),gi("fire-js","")}ZR("");function xg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GR=Z1,G1=new Jl("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Ig("@firebase/auth");function qR(t,...e){fh.logLevel<=Re.WARN&&fh.warn(`Auth (${Rs}): ${t}`,...e)}function Ac(t,...e){fh.logLevel<=Re.ERROR&&fh.error(`Auth (${Rs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw Cg(t,...e)}function _i(t,...e){return Cg(t,...e)}function QR(t,e,n){const i=Object.assign(Object.assign({},GR()),{[e]:n});return new Jl("auth","Firebase",i).create(e,{appName:t.name})}function Cg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return G1.create(t,...e)}function Ee(t,e,...n){if(!t)throw Cg(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Zi(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JR(){return jy()==="http:"||jy()==="https:"}function jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||AC()||"connection"in navigator)?navigator.onLine:!0}function XR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=CC()||LC()}get(){return YR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){Zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new Xl(3e4,6e4);function $r(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hr(t,e,n,i,r={}){return Q1(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const c=Yl(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),q1.fetch()(J1(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function Q1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},eA),e);try{const r=new iA(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ac(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw ac(t,"user-disabled",a);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw QR(t,p,f);Xn(t,p)}}catch(r){if(r instanceof Ti)throw r;Xn(t,"network-request-failed",{message:String(r)})}}async function eu(t,e,n,i,r={}){const o=await Hr(t,e,n,i,r);return"mfaPendingCredential"in o&&Xn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function J1(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Rg(t.config,r):`${t.config.apiScheme}://${r}`}function nA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_i(this.auth,"network-request-failed")),tA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=_i(t,e,i);return r.customData._tokenResponse=n,r}function zy(t){return t!==void 0&&t.enterprise!==void 0}class rA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function sA(t,e){return Hr(t,"GET","/v2/recaptchaConfig",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e){return Hr(t,"POST","/v1/accounts:delete",e)}async function aA(t,e){return Hr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lA(t,e=!1){const n=on(t),i=await n.getIdToken(e),r=Ag(i);Ee(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Ja(zf(r.auth_time)),issuedAtTime:Ja(zf(r.iat)),expirationTime:Ja(zf(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zf(t){return Number(t)*1e3}function Ag(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const r=D1(n);return r?JSON.parse(r):(Ac("Failed to decode base64 JWT payload"),null)}catch(r){return Ac("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function uA(t){const e=Ag(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ti&&cA(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function cA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var e;const n=t.auth,i=await t.getIdToken(),r=await bl(t,aA(n,{idToken:i}));Ee(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pA(o.providerUserInfo):[],c=fA(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Y1(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function dA(t){const e=on(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fA(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function pA(t){return t.map(e=>{var{providerId:n}=e,i=xg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t,e){const n=await Q1(t,{},async()=>{const i=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=J1(t,r,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",q1.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gA(t,e){return Hr(t,"POST","/v2/accounts:revokeToken",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await mA(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new kl;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Ee(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Y1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lA(this,e)}reload(){return dA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await bl(this,oA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,c,h,f,p;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(r=n.email)!==null&&r!==void 0?r:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,P=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:b,emailVerified:N,isAnonymous:U,providerData:K,stsTokenManager:W}=n;Ee(b&&W,e,"internal-error");const re=kl.fromJSON(this.name,W);Ee(typeof b=="string",e,"internal-error"),or(g,e.name),or(_,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof U=="boolean",e,"internal-error"),or(S,e.name),or(x,e.name),or(A,e.name),or(O,e.name),or(P,e.name),or(E,e.name);const ke=new ps({uid:b,auth:e,email:_,emailVerified:N,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:S,tenantId:A,stsTokenManager:re,createdAt:P,lastLoginAt:E});return K&&Array.isArray(K)&&(ke.providerData=K.map(ve=>Object.assign({},ve))),O&&(ke._redirectEventId=O),ke}static async _fromIdTokenResponse(e,n,i=!1){const r=new kl;r.updateFromServerResponse(n);const o=new ps({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ph(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;function zi(t){Zi(t instanceof Function,"Expected a class definition");let e=Fy.get(t);return e?(Zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X1.type="NONE";const Vy=X1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Lc(this.userKey,r.apiKey,o),this.fullPersistenceKey=Lc("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Io(zi(Vy),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||zi(Vy);const a=Lc(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(a);if(p){const g=ps._fromJSON(e,p);f!==o&&(c=g),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Io(o,e,i):(o=h[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Io(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(sT(e))return"Webos";if(Lg(e))return"Safari";if((e.includes("chrome/")||tT(e))&&!e.includes("edge/"))return"Chrome";if(iT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eT(t=vt()){return/firefox\//i.test(t)}function Lg(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tT(t=vt()){return/crios\//i.test(t)}function nT(t=vt()){return/iemobile/i.test(t)}function iT(t=vt()){return/android/i.test(t)}function rT(t=vt()){return/blackberry/i.test(t)}function sT(t=vt()){return/webos/i.test(t)}function od(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _A(t=vt()){var e;return od(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vA(){return OC()&&document.documentMode===10}function oT(t=vt()){return od(t)||iT(t)||sT(t)||rT(t)||/windows phone/i.test(t)||nT(t)}function yA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e=[]){let n;switch(t){case"Browser":n=Uy(vt());break;case"Worker":n=`${Uy(vt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,c)=>{try{const h=e(o);a(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e={}){return Hr(t,"GET","/v2/passwordPolicy",$r(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=6;class SA{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:TA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new wA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?on(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EA(this),n=new SA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await gA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function As(t){return on(t)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IA(t){ad=t}function lT(t){return ad.loadJS(t)}function bA(){return ad.recaptchaEnterpriseScript}function kA(){return ad.gapiScript}function xA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CA="recaptcha-enterprise",RA="NO_RECAPTCHA";class AA{constructor(e){this.type=CA,this.auth=As(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{sA(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new rA(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{c(h)})})}function r(o,a,c){const h=window.grecaptcha;zy(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(RA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(c=>{if(!n&&zy(window.grecaptcha))r(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=bA();h.length!==0&&(h+=c),lT(h).then(()=>{r(c,o,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function $y(t,e,n,i=!1){const r=new AA(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function tm(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $y(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await $y(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e){const n=sd(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(hh(o,e??{}))return r;Xn(r,"already-initialized")}return n.initialize({options:e})}function OA(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NA(t,e,n){const i=As(t);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=uT(e),{host:a,port:c}=DA(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||MA()}function uT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DA(t){const e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Hy(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Hy(a)}}}function Hy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function jA(t,e){return Hr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e){return eu(t,"POST","/v1/accounts:signInWithPassword",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t,e){return eu(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}async function VA(t,e){return eu(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Og{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new xl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,n,"signInWithPassword",zA);case"emailLink":return FA(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,i,"signUpPassword",jA);case"emailLink":return VA(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return eu(t,"POST","/v1/accounts:signInWithIdp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="http://localhost";class Ps extends Og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=xg(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Ps(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,bo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:UA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $A(t){const e=za(Fa(t)).link,n=e?za(Fa(e)).deep_link_id:null,i=za(Fa(t)).deep_link_id;return(i?za(Fa(i)).link:null)||i||n||e||t}class Ng{constructor(e){var n,i,r,o,a,c;const h=za(Fa(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,g=BA((r=h.mode)!==null&&r!==void 0?r:null);Ee(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=$A(e);try{return new Ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ng.parseLink(n);return Ee(i,"argument-error"),xl._fromEmailAndCode(e,i.code,i.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends tu{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return dr.credential(n,i)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends tu{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends tu{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pr.credential(n,i)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t,e){return eu(t,"POST","/v1/accounts:signUp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await ps._fromIdTokenResponse(e,i,r),a=Wy(i);return new Is({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Wy(i);return new Is({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Wy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Ti{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new mh(e,n,i,r)}}function hT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,o,e,i):o})}async function WA(t,e,n=!1){const i=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Is._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await bl(t,hT(i,r,e,t),n);Ee(o.idToken,i,"internal-error");const a=Ag(o.idToken);Ee(a,i,"internal-error");const{sub:c}=a;return Ee(t.uid===c,i,"user-mismatch"),Is._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Xn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(t,e,n=!1){const i="signIn",r=await hT(t,i,e),o=await Is._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function ZA(t,e){return dT(As(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t){const e=As(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GA(t,e,n){const i=As(t),a=await tm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HA).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&fT(t),h}),c=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function qA(t,e,n){return ZA(on(t),Zo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fT(t),i})}function QA(t,e,n,i){return on(t).onIdTokenChanged(e,n,i)}function JA(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function YA(t,e,n,i){return on(t).onAuthStateChanged(e,n,i)}function XA(t){return on(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){const t=vt();return Lg(t)||od(t)}const tL=1e3,nL=10;class mT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eL()&&yA(),this.fallbackToPolling=oT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);vA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,nL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const iL=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const _T=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new ld(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(a).map(async f=>f(n.origin,o)),h=await rL(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((c,h)=>{const f=Dg("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const _=g;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function oL(t){vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function aL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uL(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",cL=1,_h="firebaseLocalStorage",wT="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function hL(){const t=indexedDB.deleteDatabase(yT);return new nu(t).toPromise()}function nm(){const t=indexedDB.open(yT,cL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(_h,{keyPath:wT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),await hL(),e(await nm()))})})}async function Ky(t,e,n){const i=ud(t,!0).put({[wT]:e,value:n});return new nu(i).toPromise()}async function dL(t,e){const n=ud(t,!1).get(e),i=await new nu(n).toPromise();return i===void 0?null:i.value}function Zy(t,e){const n=ud(t,!0).delete(e);return new nu(n).toPromise()}const fL=800,pL=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>pL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(uL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aL(),!this.activeServiceWorker)return;this.sender=new sL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await Ky(e,gh,"1"),await Zy(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ky(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>dL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=ud(r,!1).getAll();return new nu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const mL=ET;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){return e?zi(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends Og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _L(t){return dT(t.auth,new Mg(t),t.bypassAuthState)}function vL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),KA(n,new Mg(t),t.bypassAuthState)}async function yL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),WA(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _L;case"linkViaPopup":case"linkViaRedirect":return yL;case"reauthViaPopup":case"reauthViaRedirect":return vL;default:Xn(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new Xl(2e3,1e4);class _o extends TT{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wL.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="pendingRedirect",Oc=new Map;class TL extends TT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await SL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SL(t,e){const n=bL(e),i=IL(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function PL(t,e){Oc.set(t._key(),e)}function IL(t){return zi(t._redirectPersistence)}function bL(t){return Lc(EL,t.config.apiKey,t.name)}async function kL(t,e,n=!1){const i=As(t),r=gL(i,e),a=await new TL(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=10*60*1e3;class CL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ST(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gy(e))}saveEventToCache(e){this.cachedEventUids.add(Gy(e)),this.lastProcessedEventTime=Date.now()}}function Gy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ST({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e={}){return Hr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OL=/^https?/;async function NL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AL(t);for(const n of e)try{if(DL(n))return}catch{}Xn(t,"unauthorized-domain")}function DL(t){const e=em(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!OL.test(n))return!1;if(LL.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Xl(3e4,6e4);function qy(){const t=vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jL(t){return new Promise((e,n)=>{var i,r,o;function a(){qy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qy(),n(_i(t,"network-request-failed"))},timeout:ML.get()})}if(!((r=(i=vi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=vi().gapi)===null||o===void 0)&&o.load)a();else{const c=xA("iframefcb");return vi()[c]=()=>{gapi.load?a():n(_i(t,"network-request-failed"))},lT(`${kA()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function zL(t){return Nc=Nc||jL(t),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new Xl(5e3,15e3),VL="__/auth/iframe",UL="emulator/auth/iframe",BL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$L=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HL(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rg(e,UL):`https://${t.config.authDomain}/${VL}`,i={apiKey:e.apiKey,appName:t.name,v:Rs},r=$L.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Yl(i).slice(1)}`}async function WL(t){const e=await zL(t),n=vi().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:HL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BL,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=_i(t,"network-request-failed"),c=vi().setTimeout(()=>{o(a)},FL.get());function h(){vi().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZL=500,GL=600,qL="_blank",QL="http://localhost";class Qy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JL(t,e,n,i=ZL,r=GL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},KL),{width:i.toString(),height:r.toString(),top:o,left:a}),f=vt().toLowerCase();n&&(c=tT(f)?qL:n),eT(f)&&(e=e||QL,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[S,x])=>`${_}${S}=${x},`,"");if(_A(f)&&c!=="_self")return YL(e||"",c),new Qy(null);const g=window.open(e||"",c,p);Ee(g,t,"popup-blocked");try{g.focus()}catch{}return new Qy(g)}function YL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function Jy(t,e,n,i,r,o){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Rs,eventId:r};if(e instanceof cT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",FC(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(o||{}))a[p]=g}if(e instanceof tu){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${tO}=${encodeURIComponent(h)}`:"";return`${nO(t)}?${Yl(c).slice(1)}${f}`}function nO({config:t}){return t.emulator?Rg(t,eO):`https://${t.authDomain}/${XL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class iO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=kL,this._overrideRedirectResult=PL}async _openPopup(e,n,i,r){var o;Zi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Jy(e,n,i,em(),r);return JL(e,a,Dg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Jy(e,n,i,em(),r);return oL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Zi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WL(e),i=new CL(e);return n.register("authEvent",r=>(Ee(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Ff];a!==void 0&&n(!!a),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oT()||Lg()||od()}}const rO=iO;var Yy="@firebase/auth",Xy="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aO(t){Ss(new Or("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(t)},f=new PA(i,r,o,h);return OA(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ss(new Or("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(i=>new sO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(Yy,Xy,oO(t)),gi(Yy,Xy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,uO=F1("authIdTokenMaxAge")||lO;let ew=null;const cO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>uO)return;const r=n==null?void 0:n.token;ew!==r&&(ew=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function hO(t=kg()){const e=sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LA(t,{popupRedirectResolver:rO,persistence:[mL,iL,_T]}),i=F1("authTokenSyncURL");if(i&&i.match(/^\/[^\/].*/)){const o=cO(i);JA(n,o,()=>o(n.currentUser)),QA(n,a=>o(a))}const r=M1("auth");return r&&NA(n,`http://${r}`),n}function dO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IA({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=_i("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",dO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aO("Browser");var fO="firebase",pO="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(fO,pO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebasestorage.googleapis.com",mO="storageBucket",gO=2*60*1e3,_O=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ti{constructor(e,n,i=0){super(Vf(e),`Firebase Storage: ${n} (${Vf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Si.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function Vf(t){return"storage/"+t}function vO(){const t="An unknown error occurred, please check the error payload for server response.";return new Si(yi.UNKNOWN,t)}function yO(){return new Si(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wO(){return new Si(yi.CANCELED,"User canceled the upload/download.")}function EO(t){return new Si(yi.INVALID_URL,"Invalid URL '"+t+"'.")}function TO(t){return new Si(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tw(t){return new Si(yi.INVALID_ARGUMENT,t)}function IT(){return new Si(yi.APP_DELETED,"The Firebase app was deleted.")}function SO(t){return new Si(yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=class Dc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Dc.makeFromUrl(e,n)}catch{return new Dc(e,"")}if(i.path==="")return i;throw TO(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+r+a,"i"),h={bucket:1,path:3};function f(N){N.path_=decodeURIComponent(N.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${g}/${p}/b/${r}/o${_}`,"i"),x={bucket:1,path:3},A=n===PT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",P=new RegExp(`^https?://${A}/${r}/${O}`,"i"),b=[{regex:c,indices:h,postModify:o},{regex:S,indices:x,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let N=0;N<b.length;N++){const U=b[N],K=U.regex.exec(e);if(K){const W=K[U.indices.bucket];let re=K[U.indices.path];re||(re=""),i=new Dc(W,re),U.postModify(i);break}}if(i==null)throw EO(e);return i}};class PO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e,n){let i=1,r=null,o=null,a=!1,c=0;function h(){return c===2}let f=!1;function p(...O){f||(f=!0,e.apply(null,O))}function g(O){r=setTimeout(()=>{r=null,t(S,h())},O)}function _(){o&&clearTimeout(o)}function S(O,...P){if(f){_();return}if(O){_(),p.call(null,O,...P);return}if(h()||a){_(),p.call(null,O,...P);return}i<64&&(i*=2);let b;c===1?(c=2,b=0):b=(i+Math.random())*1e3,g(b)}let x=!1;function A(O){x||(x=!0,_(),!f&&(r!==null?(O||(c=2),clearTimeout(r),g(0)):O||(c=1)))}return g(0),o=setTimeout(()=>{a=!0,A(!0)},n),A}function bO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){return t!==void 0}function nw(t,e,n,i){if(i<e)throw tw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw tw(`Invalid value for '${t}'. Expected ${n} or less.`)}function xO(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vh||(vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,i,r,o,a,c,h,f,p,g,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new lc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===vh.NO_ERROR,h=o.getStatus();if(!c||CO(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===vh.ABORT;i(!1,new lc(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new lc(f,o))})},n=(i,r)=>{const o=this.resolve_,a=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());kO(h)?o(h):o()}catch(h){a(h)}else if(c!==null){const h=vO();h.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,h)):a(h)}else if(r.canceled){const h=this.appDelete_?IT():wO();a(h)}else{const h=yO();a(h)}};this.canceled_?n(!1,new lc(!1,null,!0)):this.backoffId_=IO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function AO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DO(t,e,n,i,r,o,a=!0){const c=xO(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return OO(f,e),AO(f,n),LO(f,o),NO(f,i),new RO(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this._service=e,n instanceof as?this._location=n:this._location=as.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yh(e,n)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jO(this._location.path)}get storage(){return this._service}get parent(){const e=MO(this._location.path);if(e===null)return null;const n=new as(this._location.bucket,e);return new yh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SO(e)}}function iw(t,e){const n=e==null?void 0:e[mO];return n==null?null:as.makeFromBucketSpec(n,t)}function zO(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:V1(r,t.app.options.projectId))}class FO{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=PT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gO,this._maxUploadRetryTime=_O,this._requests=new Set,r!=null?this._bucket=as.makeFromBucketSpec(r,this._host):this._bucket=iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,e):this._bucket=iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yh(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new PO(IT());{const a=DO(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const rw="@firebase/storage",sw="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="storage";function VO(t=kg(),e){t=on(t);const i=sd(t,bT).getImmediate({identifier:e}),r=j1("storage");return r&&UO(i,...r),i}function UO(t,e,n,i={}){zO(t,e,n,i)}function BO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new FO(n,i,r,e,Rs)}function $O(){Ss(new Or(bT,BO,"PUBLIC").setMultipleInstances(!0)),gi(rw,sw,""),gi(rw,sw,"esm2017")}$O();const HO={apiKey:"AIzaSyBSQ3heNYW8OHkhPd_g040aoSTefZyTWq4",authDomain:"dobra-ekipa-6f3c0.firebaseapp.com",projectId:"dobra-ekipa-6f3c0",storageBucket:"dobra-ekipa-6f3c0.appspot.com",messagingSenderId:"102294289914",appId:"1:102294289914:web:a6c10bef8917dc29f63843",measurementId:"G-BD8XWXYD2T"};var WO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne,jg=jg||{},Te=WO||self;function cd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function iu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function KO(t){return Object.prototype.hasOwnProperty.call(t,Uf)&&t[Uf]||(t[Uf]=++ZO)}var Uf="closure_uid_"+(1e9*Math.random()>>>0),ZO=0;function GO(t,e,n){return t.call.apply(t.bind,arguments)}function qO(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt=GO:Qt=qO,Qt.apply(null,arguments)}function uc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[r].apply(i,a)}}function Wr(){this.s=this.s,this.o=this.o}var QO=0;Wr.prototype.s=!1;Wr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),QO!=0)&&KO(this)};Wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zg(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function ow(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(cd(i)){const r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var JO=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Te.addEventListener("test",n,e),Te.removeEventListener("test",n,e)}catch{}return t}();function Cl(t){return/^[\s\xa0]*$/.test(t)}function hd(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function ci(t){return hd().indexOf(t)!=-1}function Fg(t){return Fg[" "](t),t}Fg[" "]=function(){};function YO(t,e){var n=HN;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var XO=ci("Opera"),Mo=ci("Trident")||ci("MSIE"),xT=ci("Edge"),im=xT||Mo,CT=ci("Gecko")&&!(hd().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge"))&&!(ci("Trident")||ci("MSIE"))&&!ci("Edge"),eN=hd().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge");function RT(){var t=Te.document;return t?t.documentMode:void 0}var rm;e:{var Bf="",$f=function(){var t=hd();if(CT)return/rv:([^\);]+)(\)|;)/.exec(t);if(xT)return/Edge\/([\d\.]+)/.exec(t);if(Mo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eN)return/WebKit\/(\S+)/.exec(t);if(XO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if($f&&(Bf=$f?$f[1]:""),Mo){var Hf=RT();if(Hf!=null&&Hf>parseFloat(Bf)){rm=String(Hf);break e}}rm=Bf}var sm;if(Te.document&&Mo){var aw=RT();sm=aw||parseInt(rm,10)||void 0}else sm=void 0;var tN=sm;function Rl(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CT){e:{try{Fg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rl.$.h.call(this)}}At(Rl,Jt);var nN={2:"touch",3:"pen",4:"mouse"};Rl.prototype.h=function(){Rl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ru="closure_listenable_"+(1e6*Math.random()|0),iN=0;function rN(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++iN,this.fa=this.ia=!1}function dd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vg(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function sN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AT(t){const e={};for(const n in t)e[n]=t[n];return e}const lw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LT(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<lw.length;o++)n=lw[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function fd(t){this.src=t,this.g={},this.h=0}fd.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=am(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new rN(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function om(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=kT(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(dd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function am(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Ug="closure_lm_"+(1e6*Math.random()|0),Wf={};function OT(t,e,n,i,r){if(i&&i.once)return DT(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)OT(t,e[o],n,i,r);return null}return n=Hg(n),t&&t[ru]?t.O(e,n,iu(i)?!!i.capture:!!i,r):NT(t,e,n,!1,i,r)}function NT(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=iu(r)?!!r.capture:!!r,c=$g(t);if(c||(t[Ug]=c=new fd(t)),n=c.add(e,n,i,a,o),n.proxy)return n;if(i=oN(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)JO||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(jT(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oN(){function t(n){return e.call(t.src,t.listener,n)}const e=aN;return t}function DT(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)DT(t,e[o],n,i,r);return null}return n=Hg(n),t&&t[ru]?t.P(e,n,iu(i)?!!i.capture:!!i,r):NT(t,e,n,!0,i,r)}function MT(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)MT(t,e[o],n,i,r);else i=iu(i)?!!i.capture:!!i,n=Hg(n),t&&t[ru]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=am(o,n,i,r),-1<n&&(dd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=$g(t))&&(e=t.g[e.toString()],t=-1,e&&(t=am(e,n,i,r)),(n=-1<t?e[t]:null)&&Bg(n))}function Bg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ru])om(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(jT(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=$g(e))?(om(n,t),n.h==0&&(n.src=null,e[Ug]=null)):dd(t)}}}function jT(t){return t in Wf?Wf[t]:Wf[t]="on"+t}function aN(t,e){if(t.fa)t=!0;else{e=new Rl(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Bg(t),t=n.call(i,e)}return t}function $g(t){return t=t[Ug],t instanceof fd?t:null}var Kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(t){return typeof t=="function"?t:(t[Kf]||(t[Kf]=function(e){return t.handleEvent(e)}),t[Kf])}function Ct(){Wr.call(this),this.i=new fd(this),this.S=this,this.J=null}At(Ct,Wr);Ct.prototype[ru]=!0;Ct.prototype.removeEventListener=function(t,e,n,i){MT(this,t,e,n,i)};function Ut(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var r=e;e=new Jt(i,t),LT(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=cc(a,i,!0,e)&&r}if(a=e.g=t,r=cc(a,i,!0,e)&&r,r=cc(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=cc(a,i,!1,e)&&r}Ct.prototype.N=function(){if(Ct.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)dd(n[i]);delete t.g[e],t.h--}}this.J=null};Ct.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ct.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function cc(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var c=a.listener,h=a.la||a.src;a.ia&&om(t.i,a),r=c.call(h,i)!==!1&&r}}return r&&!i.defaultPrevented}var Wg=Te.JSON.stringify;class lN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function uN(){var t=Kg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cN{constructor(){this.h=this.g=null}add(e,n){const i=zT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var zT=new lN(()=>new hN,t=>t.reset());class hN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fN(t){Te.setTimeout(()=>{throw t},0)}let Al,Ll=!1,Kg=new cN,FT=()=>{const t=Te.Promise.resolve(void 0);Al=()=>{t.then(pN)}};var pN=()=>{for(var t;t=uN();){try{t.h.call(t.g)}catch(n){fN(n)}var e=zT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ll=!1};function pd(t,e){Ct.call(this),this.h=t||1,this.g=e||Te,this.j=Qt(this.qb,this),this.l=Date.now()}At(pd,Ct);ne=pd.prototype;ne.ga=!1;ne.T=null;ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(Zg(this),this.start()))}};ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ne.N=function(){pd.$.N.call(this),Zg(this),delete this.g};function Gg(t,e,n){if(typeof t=="function")n&&(t=Qt(t,n));else if(t&&typeof t.handleEvent=="function")t=Qt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function VT(t){t.g=Gg(()=>{t.g=null,t.i&&(t.i=!1,VT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mN extends Wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VT(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(t){Wr.call(this),this.h=t,this.g={}}At(Ol,Wr);var uw=[];function UT(t,e,n,i){Array.isArray(n)||(n&&(uw[0]=n.toString()),n=uw);for(var r=0;r<n.length;r++){var o=OT(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function BT(t){Vg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bg(e)},t),t.g={}}Ol.prototype.N=function(){Ol.$.N.call(this),BT(this)};Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function md(){this.g=!0}md.prototype.Ea=function(){this.g=!1};function gN(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+f+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function _N(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function vo(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yN(t,n)+(i?" "+i:"")})}function vN(t,e){t.info(function(){return"TIMEOUT: "+e})}md.prototype.info=function(){};function yN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return Wg(n)}catch{return e}}var Ls={},cw=null;function gd(){return cw=cw||new Ct}Ls.Ta="serverreachability";function $T(t){Jt.call(this,Ls.Ta,t)}At($T,Jt);function Nl(t){const e=gd();Ut(e,new $T(e))}Ls.STAT_EVENT="statevent";function HT(t,e){Jt.call(this,Ls.STAT_EVENT,t),this.stat=e}At(HT,Jt);function rn(t){const e=gd();Ut(e,new HT(e,t))}Ls.Ua="timingevent";function WT(t,e){Jt.call(this,Ls.Ua,t),this.size=e}At(WT,Jt);function su(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var _d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qg(){}qg.prototype.h=null;function hw(t){return t.h||(t.h=t.i())}function ZT(){}var ou={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qg(){Jt.call(this,"d")}At(Qg,Jt);function Jg(){Jt.call(this,"c")}At(Jg,Jt);var lm;function vd(){}At(vd,qg);vd.prototype.g=function(){return new XMLHttpRequest};vd.prototype.i=function(){return{}};lm=new vd;function au(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Ol(this),this.P=wN,t=im?125:void 0,this.V=new pd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new GT}function GT(){this.i=null,this.g="",this.h=!1}var wN=45e3,qT={},um={};ne=au.prototype;ne.setTimeout=function(t){this.P=t};function cm(t,e,n){t.L=1,t.A=wd(Gi(e)),t.u=n,t.S=!0,QT(t,null)}function QT(t,e){t.G=Date.now(),lu(t),t.B=Gi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),rS(n.i,"t",i),t.o=0,n=t.l.J,t.h=new GT,t.g=IS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new mN(Qt(t.Pa,t,t.g),t.O)),UT(t.U,t.g,"readystatechange",t.nb),e=t.I?AT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Nl(),gN(t.j,t.v,t.B,t.m,t.W,t.u)}ne.nb=function(t){t=t.target;const e=this.M;e&&hi(t)==3?e.l():this.Pa(t)};ne.Pa=function(t){try{if(t==this.g)e:{const p=hi(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>p)&&(p!=3||im||this.g&&(this.h.h||this.g.ja()||mw(this.g)))){this.J||p!=4||e==7||(e==8||0>=g?Nl(3):Nl(2)),yd(this);var n=this.g.da();this.ca=n;t:if(JT(this)){var i=mw(this.g);t="";var r=i.length,o=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Ya(this);var a="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,_N(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cl(c)){var f=c;break t}}f=null}if(n=f)vo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hm(this,n);else{this.i=!1,this.s=3,rn(12),ls(this),Ya(this);break e}}this.S?(YT(this,p,a),im&&this.i&&p==3&&(UT(this.U,this.V,"tick",this.mb),this.V.start())):(vo(this.j,this.m,a,null),hm(this,a)),p==4&&ls(this),this.i&&!this.J&&(p==4?ES(this.l,this):(this.i=!1,lu(this)))}else UN(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),ls(this),Ya(this)}}}catch{}finally{}};function JT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function YT(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=EN(t,n),r==um){e==4&&(t.s=4,rn(14),i=!1),vo(t.j,t.m,null,"[Incomplete Response]");break}else if(r==qT){t.s=4,rn(15),vo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else vo(t.j,t.m,r,null),hm(t,r);JT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,rn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),i_(e),e.M=!0,rn(11))):(vo(t.j,t.m,n,"[Invalid Chunked Response]"),ls(t),Ya(t))}ne.mb=function(){if(this.g){var t=hi(this.g),e=this.g.ja();this.o<e.length&&(yd(this),YT(this,t,e),this.i&&t!=4&&lu(this))}};function EN(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?um:(n=Number(e.substring(n,i)),isNaN(n)?qT:(i+=1,i+n>e.length?um:(e=e.slice(i,i+n),t.o=i+n,e)))}ne.cancel=function(){this.J=!0,ls(this)};function lu(t){t.Y=Date.now()+t.P,XT(t,t.P)}function XT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=su(Qt(t.lb,t),e)}function yd(t){t.C&&(Te.clearTimeout(t.C),t.C=null)}ne.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(vN(this.j,this.B),this.L!=2&&(Nl(),rn(17)),ls(this),this.s=2,Ya(this)):XT(this,this.Y-t)};function Ya(t){t.l.H==0||t.J||ES(t.l,t)}function ls(t){yd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Zg(t.V),BT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function hm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dm(n.i,t))){if(!t.K&&dm(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Th(n),Pd(n);else break e;n_(n),rn(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=su(Qt(n.ib,n),6e3));if(1>=aS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else us(n,11)}else if((t.K||n.g==t)&&Th(n),!Cl(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const g=f[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const _=f[5];_!=null&&typeof _=="number"&&0<_&&(i=1.5*_,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const S=t.g;if(S){const x=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var o=i.i;o.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Yg(o,o.h),o.h=null))}if(i.F){const A=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(i.Da=A,qe(i.I,i.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=PS(i,i.J?i.pa:null,i.Y),a.K){lS(i.i,a);var c=a,h=i.L;h&&c.setTimeout(h),c.C&&(yd(c),lu(c)),i.g=a}else yS(i);0<n.j.length&&Id(n)}else f[0]!="stop"&&f[0]!="close"||us(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?us(n,7):t_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Nl(4)}catch{}}function TN(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(cd(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function SN(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function eS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(cd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=SN(t),i=TN(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var tS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ms(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ms){this.h=t.h,wh(this,t.j),this.s=t.s,this.g=t.g,Eh(this,t.m),this.l=t.l;var e=t.i,n=new Dl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dw(this,n),this.o=t.o}else t&&(e=String(t).match(tS))?(this.h=!1,wh(this,e[1]||"",!0),this.s=Va(e[2]||""),this.g=Va(e[3]||"",!0),Eh(this,e[4]),this.l=Va(e[5]||"",!0),dw(this,e[6]||"",!0),this.o=Va(e[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ua(e,fw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ua(e,fw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ua(n,n.charAt(0)=="/"?kN:bN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ua(n,CN)),t.join("")};function Gi(t){return new ms(t)}function wh(t,e,n){t.j=n?Va(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Eh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dw(t,e,n){e instanceof Dl?(t.i=e,RN(t.i,t.h)):(n||(e=Ua(e,xN)),t.i=new Dl(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function wd(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Va(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ua(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fw=/[#\/\?@]/g,bN=/[#\?:]/g,kN=/[#\?]/g,xN=/[#\?@]/g,CN=/#/g;function Dl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Kr(t){t.g||(t.g=new Map,t.h=0,t.i&&PN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ne=Dl.prototype;ne.add=function(t,e){Kr(this),this.i=null,t=Go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nS(t,e){Kr(t),e=Go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iS(t,e){return Kr(t),e=Go(t,e),t.g.has(e)}ne.forEach=function(t,e){Kr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};ne.ta=function(){Kr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};ne.Z=function(t){Kr(this);let e=[];if(typeof t=="string")iS(this,t)&&(e=e.concat(this.g.get(Go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ne.set=function(t,e){return Kr(this),this.i=null,t=Go(this,t),iS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rS(t,e,n){nS(t,e),0<n.length&&(t.i=null,t.g.set(Go(t,e),zg(n)),t.h+=n.length)}ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RN(t,e){e&&!t.j&&(Kr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(nS(this,i),rS(this,r,n))},t)),t.j=e}var AN=class{constructor(t,e){this.g=t,this.map=e}};function sS(t){this.l=t||LN,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LN=10;function oS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aS(t){return t.h?1:t.g?t.g.size:0}function dm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yg(t,e){t.g?t.g.add(e):t.h=e}function lS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sS.prototype.cancel=function(){if(this.i=uS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zg(t.i)}var ON=class{stringify(t){return Te.JSON.stringify(t,void 0)}parse(t){return Te.JSON.parse(t,void 0)}};function NN(){this.g=new ON}function DN(t,e,n){const i=n||"";try{eS(t,function(r,o){let a=r;iu(r)&&(a=Wg(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function MN(t,e){const n=new md;if(Te.Image){const i=new Image;i.onload=uc(hc,n,i,"TestLoadImage: loaded",!0,e),i.onerror=uc(hc,n,i,"TestLoadImage: error",!1,e),i.onabort=uc(hc,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=uc(hc,n,i,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function hc(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ed(t){this.l=t.ec||null,this.j=t.ob||!1}At(Ed,qg);Ed.prototype.g=function(){return new Td(this.l,this.j)};Ed.prototype.i=function(t){return function(){return t}}({});function Td(t,e){Ct.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Td,Ct);var Xg=0;ne=Td.prototype;ne.open=function(t,e){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ml(this)};ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uu(this)),this.readyState=Xg};ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function cS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uu(this):Ml(this),this.readyState==3&&cS(this)}};ne.Za=function(t){this.g&&(this.response=this.responseText=t,uu(this))};ne.Ya=function(t){this.g&&(this.response=t,uu(this))};ne.ka=function(){this.g&&uu(this)};function uu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ml(t)}ne.setRequestHeader=function(t,e){this.v.append(t,e)};ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ml(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jN=Te.JSON.parse;function lt(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hS,this.L=this.M=!1}At(lt,Ct);var hS="",zN=/^https?$/i,FN=["POST","PUT"];ne=lt.prototype;ne.Oa=function(t){this.M=t};ne.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lm.g(),this.C=this.u?hw(this.u):hw(lm),this.g.onreadystatechange=Qt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){pw(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Te.FormData&&t instanceof Te.FormData,!(0<=kT(FN,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pS(this),0<this.B&&((this.L=VN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.ua,this)):this.A=Gg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){pw(this,o)}};function VN(t){return Mo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ne.ua=function(){typeof jg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))};function pw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dS(t),Sd(t)}function dS(t){t.F||(t.F=!0,Ut(t,"complete"),Ut(t,"error"))}ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),Sd(this))};ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sd(this,!0)),lt.$.N.call(this)};ne.La=function(){this.s||(this.G||this.v||this.l?fS(this):this.kb())};ne.kb=function(){fS(this)};function fS(t){if(t.h&&typeof jg<"u"&&(!t.C[1]||hi(t)!=4||t.da()!=2)){if(t.v&&hi(t)==4)Gg(t.La,0,t);else if(Ut(t,"readystatechange"),hi(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(tS)[1]||null;!r&&Te.self&&Te.self.location&&(r=Te.self.location.protocol.slice(0,-1)),i=!zN.test(r?r.toLowerCase():"")}n=i}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var o=2<hi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",dS(t)}}finally{Sd(t)}}}}function Sd(t,e){if(t.g){pS(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=i}catch{}}}function pS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}ne.isActive=function(){return!!this.g};function hi(t){return t.g?t.g.readyState:0}ne.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}};ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jN(e)}};function mw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function UN(t){const e={};t=(t.g&&2<=hi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Cl(t[i]))continue;var n=dN(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}sN(e,function(i){return i.join(", ")})}ne.Ia=function(){return this.m};ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mS(t){let e="";return Vg(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function e_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=mS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function ka(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gS(t){this.Ga=0,this.j=[],this.l=new md,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ka("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ka("baseRetryDelayMs",5e3,t),this.hb=ka("retryDelaySeedMs",1e4,t),this.eb=ka("forwardChannelMaxRetries",2,t),this.xa=ka("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sS(t&&t.concurrentRequestLimit),this.Ja=new NN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ne=gS.prototype;ne.ra=8;ne.H=1;function t_(t){if(_S(t),t.H==3){var e=t.W++,n=Gi(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),cu(t,n),e=new au(t,t.l,e),e.L=2,e.A=wd(Gi(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon)try{n=Te.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Te.Image&&(new Image().src=e.A,n=!0),n||(e.g=IS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),lu(e)}SS(t)}function Pd(t){t.g&&(i_(t),t.g.cancel(),t.g=null)}function _S(t){Pd(t),t.u&&(Te.clearTimeout(t.u),t.u=null),Th(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function Id(t){if(!oS(t.i)&&!t.m){t.m=!0;var e=t.Na;Al||FT(),Ll||(Al(),Ll=!0),Kg.add(e,t),t.C=0}}function BN(t,e){return aS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=su(Qt(t.Na,t,e),TS(t,t.C)),t.C++,!0)}ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new au(this,this.l,t);let o=this.s;if(this.U&&(o?(o=AT(o),LT(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vS(this,r,e),n=Gi(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),cu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(mS(o)))+"&"+e:this.o&&e_(n,this.o,o)),Yg(this.i,r),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),r.aa=!0,cm(r,n,null)):cm(r,n,e),this.H=2}}else this.H==3&&(t?gw(this,t):this.j.length==0||oS(this.i)||gw(this))};function gw(t,e){var n;e?n=e.m:n=t.W++;const i=Gi(t.I);qe(i,"SID",t.K),qe(i,"RID",n),qe(i,"AID",t.V),cu(t,i),t.o&&t.s&&e_(i,t.o,t.s),n=new au(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yg(t.i,n),cm(n,i,e)}function cu(t,e){t.na&&Vg(t.na,function(n,i){qe(e,i,n)}),t.h&&eS({},function(n,i){qe(e,i,n)})}function vS(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Qt(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=r[h].g;const p=r[h].map;if(f-=o,0>f)o=Math.max(0,r[h].g-100),c=!1;else try{DN(p,a,"req"+f+"_")}catch{i&&i(p)}}if(c){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function yS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Al||FT(),Ll||(Al(),Ll=!0),Kg.add(e,t),t.A=0}}function n_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=su(Qt(t.Ma,t),TS(t,t.A)),t.A++,!0)}ne.Ma=function(){if(this.u=null,wS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=su(Qt(this.jb,this),t)}};ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rn(10),Pd(this),wS(this))};function i_(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function wS(t){t.g=new au(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Gi(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),cu(t,e),t.o&&t.s&&e_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wd(Gi(e)),n.u=null,n.S=!0,QT(n,t)}ne.ib=function(){this.v!=null&&(this.v=null,Pd(this),n_(this),rn(19))};function Th(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function ES(t,e){var n=null;if(t.g==e){Th(t),i_(t),t.g=null;var i=2}else if(dm(t.i,e))n=e.F,lS(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=gd(),Ut(i,new WT(i,n)),Id(t)}else yS(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&BN(t,e)||i==2&&n_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}}function TS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function us(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Qt(t.pb,t);n||(n=new ms("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||wh(n,"https"),wd(n)),MN(n.toString(),i)}else rn(2);t.H=0,t.h&&t.h.za(e),SS(t),_S(t)}ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rn(2)):(this.l.info("Failed to ping google.com"),rn(1))};function SS(t){if(t.H=0,t.ma=[],t.h){const e=uS(t.i);(e.length!=0||t.j.length!=0)&&(ow(t.ma,e),ow(t.ma,t.j),t.i.i.length=0,zg(t.j),t.j.length=0),t.h.ya()}}function PS(t,e,n){var i=n instanceof ms?Gi(n):new ms(n);if(i.g!="")e&&(i.g=e+"."+i.g),Eh(i,i.m);else{var r=Te.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ms(null);i&&wh(o,i),e&&(o.g=e),r&&Eh(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&qe(i,n,e),qe(i,"VER",t.ra),cu(t,i),i}function IS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new Ed({ob:n})):new lt(t.va),e.Oa(t.J),e}ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function bS(){}ne=bS.prototype;ne.Ba=function(){};ne.Aa=function(){};ne.za=function(){};ne.ya=function(){};ne.isActive=function(){return!0};ne.Va=function(){};function Sh(){if(Mo&&!(10<=Number(tN)))throw Error("Environmental error: no available transport.")}Sh.prototype.g=function(t,e){return new Sn(t,e)};function Sn(t,e){Ct.call(this),this.g=new gS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qo(this)}At(Sn,Ct);Sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PS(t,null,t.Y),Id(t)};Sn.prototype.close=function(){t_(this.g)};Sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Wg(t),t=n);e.j.push(new AN(e.fb++,t)),e.H==3&&Id(e)};Sn.prototype.N=function(){this.g.h=null,delete this.j,t_(this.g),delete this.g,Sn.$.N.call(this)};function kS(t){Qg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(kS,Qg);function xS(){Jg.call(this),this.status=1}At(xS,Jg);function qo(t){this.g=t}At(qo,bS);qo.prototype.Ba=function(){Ut(this.g,"a")};qo.prototype.Aa=function(t){Ut(this.g,new kS(t))};qo.prototype.za=function(t){Ut(this.g,new xS)};qo.prototype.ya=function(){Ut(this.g,"b")};function $N(){this.blockSize=-1}function wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(wi,$N);wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Zf(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}wi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)Zf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){Zf(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){Zf(this,i),r=0;break}}this.h=r,this.i+=e};wi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Be(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var HN={};function r_(t){return-128<=t&&128>t?YO(t,function(e){return new Be([e|0],0>e?-1:0)}):new Be([t|0],0>t?-1:0)}function di(t){if(isNaN(t)||!isFinite(t))return ko;if(0>t)return jt(di(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=fm;return new Be(e,0)}function CS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(CS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=di(Math.pow(e,8)),i=ko,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=di(Math.pow(e,o)),i=i.R(o).add(di(a))):(i=i.R(n),i=i.add(di(a)))}return i}var fm=4294967296,ko=r_(0),pm=r_(1),_w=r_(16777216);ne=Be.prototype;ne.ea=function(){if(On(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:fm+i)*e,e*=fm}return t};ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Fi(this))return"0";if(On(this))return"-"+jt(this).toString(t);for(var e=di(Math.pow(t,6)),n=this,i="";;){var r=Ih(n,e).g;n=Ph(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Fi(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Fi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function On(t){return t.h==-1}ne.X=function(t){return t=Ph(this,t),On(t)?-1:Fi(t)?0:1};function jt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Be(n,~t.h).add(pm)}ne.abs=function(){return On(this)?jt(this):this};ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Be(n,n[n.length-1]&-2147483648?-1:0)};function Ph(t,e){return t.add(jt(e))}ne.R=function(t){if(Fi(this)||Fi(t))return ko;if(On(this))return On(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(On(t))return jt(this.R(jt(t)));if(0>this.X(_w)&&0>t.X(_w))return di(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,c=t.D(r)>>>16,h=t.D(r)&65535;n[2*i+2*r]+=a*h,dc(n,2*i+2*r),n[2*i+2*r+1]+=o*h,dc(n,2*i+2*r+1),n[2*i+2*r+1]+=a*c,dc(n,2*i+2*r+1),n[2*i+2*r+2]+=o*c,dc(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Be(n,0)};function dc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xa(t,e){this.g=t,this.h=e}function Ih(t,e){if(Fi(e))throw Error("division by zero");if(Fi(t))return new xa(ko,ko);if(On(t))return e=Ih(jt(t),e),new xa(jt(e.g),jt(e.h));if(On(e))return e=Ih(t,jt(e)),new xa(jt(e.g),e.h);if(30<t.g.length){if(On(t)||On(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pm,i=e;0>=i.X(t);)n=vw(n),i=vw(i);var r=Ys(n,1),o=Ys(i,1);for(i=Ys(i,2),n=Ys(n,2);!Fi(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Ys(i,1),n=Ys(n,1)}return e=Ph(t,r.R(e)),new xa(r,e)}for(r=ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=di(n),a=o.R(e);On(a)||0<a.X(t);)n-=i,o=di(n),a=o.R(e);Fi(o)&&(o=pm),r=r.add(o),t=Ph(t,a)}return new xa(r,t)}ne.gb=function(t){return Ih(this,t).h};ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Be(n,this.h&t.h)};ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Be(n,this.h|t.h)};ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Be(n,this.h^t.h)};function vw(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Be(n,t.h)}function Ys(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Be(r,t.h)}Sh.prototype.createWebChannel=Sh.prototype.g;Sn.prototype.send=Sn.prototype.u;Sn.prototype.open=Sn.prototype.m;Sn.prototype.close=Sn.prototype.close;_d.NO_ERROR=0;_d.TIMEOUT=8;_d.HTTP_ERROR=6;KT.COMPLETE="complete";ZT.EventType=ou;ou.OPEN="a";ou.CLOSE="b";ou.ERROR="c";ou.MESSAGE="d";Ct.prototype.listen=Ct.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;wi.prototype.digest=wi.prototype.l;wi.prototype.reset=wi.prototype.reset;wi.prototype.update=wi.prototype.j;Be.prototype.add=Be.prototype.add;Be.prototype.multiply=Be.prototype.R;Be.prototype.modulo=Be.prototype.gb;Be.prototype.compare=Be.prototype.X;Be.prototype.toNumber=Be.prototype.ea;Be.prototype.toString=Be.prototype.toString;Be.prototype.getBits=Be.prototype.D;Be.fromNumber=di;Be.fromString=CS;var WN=function(){return new Sh},KN=function(){return gd()},Gf=_d,ZN=KT,GN=Ls,yw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fc=ZT,qN=lt,QN=Be;const ww="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Ig("@firebase/firestore");function Ca(){return bs.logLevel}function oe(t,...e){if(bs.logLevel<=Re.DEBUG){const n=e.map(s_);bs.debug(`Firestore (${Qo}): ${t}`,...n)}}function Nr(t,...e){if(bs.logLevel<=Re.ERROR){const n=e.map(s_);bs.error(`Firestore (${Qo}): ${t}`,...n)}}function bh(t,...e){if(bs.logLevel<=Re.WARN){const n=e.map(s_);bs.warn(`Firestore (${Qo}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function Rt(t,e){t||Ae()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class YN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt(typeof i.accessToken=="string"),new RS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new Zt(e)}}class eD{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tD{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new eD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new nD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=rD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new xt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nt(e)}static min(){return new nt(new xt(0,0))}static max(){return new nt(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends jl{construct(e,n,i){return new at(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new at(n)}static emptyPath(){return new at([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends jl{construct(e,n,i){return new Ft(e,n,i)}static isValidIdentifier(e){return sD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new me(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new me(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(i+=c,r++):(o(),r++)}if(o(),a)throw new me(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(at.fromString(e))}static fromName(e){return new Pe(at.fromString(e).popFirst(5))}static empty(){return new Pe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new at(e.slice()))}}function oD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=nt.fromTimestamp(i===1e9?new xt(n+1,0):new xt(n,i));return new Dr(r,Pe.empty(),e)}function aD(t){return new Dr(t.readTime,t.key,-1)}class Dr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Dr(nt.min(),Pe.empty(),-1)}static max(){return new Dr(nt.max(),Pe.empty(),-1)}}function lD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==uD)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,i)=>{n(e)})}static reject(e){return new H((n,i)=>{i(e)})}static waitFor(e){return new H((n,i)=>{let r=0,o=0,a=!1;e.forEach(c=>{++r,c.next(()=>{++o,a&&o===r&&n()},h=>i(h))}),a=!0,o===r&&n()})}static or(e){let n=H.resolve(!1);for(const i of e)n=n.next(r=>r?H.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new H((i,r)=>{const o=e.length,a=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{a[f]=p,++c,c===o&&i(a)},p=>r(p))}})}static doWhile(e,n){return new H((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Cr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xa(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=a_(i.target.error);this.V.reject(new Xa(e,r))}}static open(e,n,i,r){try{return new o_(n,e.transaction(r,i))}catch(o){throw new Xa(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new dD(n)}}class cs{constructor(e,n,i){this.name=e,this.version=n,this.p=i,cs.S(vt())===12.2&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),is(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!U1())return!1;if(cs.C())return!0;const e=vt(),n=cs.S(e),i=0<n&&n<10,r=cs.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(oe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{const a=o.target.result;n(a)},r.onblocked=()=>{i(new Xa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const a=o.target.error;a.name==="VersionError"?i(new me(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new me(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new Xa(e,a))},r.onupgradeneeded=o=>{oe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{oe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,r){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=o_.open(this.db,e,o?"readonly":"readwrite",i),h=r(c).next(f=>(c.g(),f)).catch(f=>(c.abort(f),H.reject(f))).toPromise();return h.catch(()=>{}),await c.m,h}catch(c){const h=c,f=h.name!=="FirebaseError"&&a<3;if(oe("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}class hD{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return is(this.k.delete())}}class Xa extends me{constructor(e,n){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bd(t){return t.name==="IndexedDbTransactionError"}class dD{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(oe("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),is(i)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),is(this.store.add(e))}get(e){return is(this.store.get(e)).next(n=>(n===void 0&&(n=null),oe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),is(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),is(this.store.count())}W(e,n){const i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const o=r.getAll(i.range);return new H((a,c)=>{o.onerror=h=>{c(h.target.error)},o.onsuccess=h=>{a(h.target.result)}})}{const o=this.cursor(i),a=[];return this.G(o,(c,h)=>{a.push(h)}).next(()=>a)}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new H((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const r=this.cursor(i);return this.G(r,(o,a,c)=>c.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.G(r,n)}Z(e){const n=this.cursor({});return new H((i,r)=>{n.onerror=o=>{const a=a_(o.target.error);r(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}G(e,n){const i=[];return new H((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void r();const h=new hD(c),f=n(c.primaryKey,c.value,h);if(f instanceof H){const p=f.catch(g=>(h.done(),H.reject(g)));i.push(p)}h.isDone?r():h.$===null?c.continue():c.continue(h.$)}}).next(()=>H.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function is(t){return new H((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=a_(i.target.error);n(r)}})}let Ew=!1;function a_(t){const e=cs.S(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ew||(Ew=!0,setTimeout(()=>{throw i},0)),i}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}OS._e=-1;function l_(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function fD(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Dt.RED,this.left=r??Dt.EMPTY,this.right=o??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Dt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sw(this.data.getIterator())}getIteratorFrom(e){return new Sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Yt(Ft.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pD("Invalid base64 string: "+o):o}}(e);return new qi(n)}static fromUint8Array(e){const n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new qi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const mD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(Rt(!!t),typeof t=="string"){let e=0;const n=mD.exec(t);if(Rt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zl(t){return typeof t=="string"?qi.fromBase64String(t):qi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DS(t){const e=t.mapValue.fields.__previous_value__;return u_(e)?DS(e):e}function xh(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,i,r,o,a,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Ch{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u_(t)?4:_D(t)?9007199254740991:10:Ae()}function Ei(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xh(t).isEqual(xh(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=ks(r.timestampValue),c=ks(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return zl(r.bytesValue).isEqual(zl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Mt(r.geoPointValue.latitude)===Mt(o.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Mt(r.integerValue)===Mt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=Mt(r.doubleValue),c=Mt(o.doubleValue);return a===c?kh(a)===kh(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:return function(r,o){const a=r.mapValue.fields||{},c=o.mapValue.fields||{};if(Tw(a)!==Tw(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!Ei(a[h],c[h])))return!1;return!0}(t,e);default:return Ae()}}function Fl(t,e){return(t.values||[]).find(n=>Ei(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=zo(t),i=zo(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=Mt(o.integerValue||o.doubleValue),h=Mt(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(xh(t),xh(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,a){const c=zl(o),h=zl(a);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),h=a.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=We(c[f],h[f]);if(p!==0)return p}return We(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=We(Mt(o.latitude),Mt(a.latitude));return c!==0?c:We(Mt(o.longitude),Mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const c=o.values||[],h=a.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=Fo(c[f],h[f]);if(p)return p}return We(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===mc.mapValue&&a===mc.mapValue)return 0;if(o===mc.mapValue)return 1;if(a===mc.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=a.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const _=We(h[g],p[g]);if(_!==0)return _;const S=Fo(c[h[g]],f[p[g]]);if(S!==0)return S}return We(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ks(t),i=ks(e),r=We(n.seconds,i.seconds);return r!==0?r:We(n.nanos,i.nanos)}function Vo(t){return mm(t)}function mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ks(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=mm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${mm(n.fields[a])}`;return r+"}"}(t.mapValue):Ae()}function gm(t){return!!t&&"integerValue"in t}function c_(t){return!!t&&"arrayValue"in t}function Mc(t){return!!t&&"mapValue"in t}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hu(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=el(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _D(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=Ft.emptyPath(),i={},r=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=c.popLast()}a?i[c.lastSegment()]=el(a):r.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Mc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){hu(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Gn(el(this.value))}}function MS(t){const e=[];return hu(t.fields,(n,i)=>{const r=new Ft([n]);if(Mc(i)){const o=MS(i.mapValue).fields;if(o.length===0)e.push(r);else for(const a of o)e.push(r.child(a))}else e.push(r)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,i,r,o,a,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Zn(e,0,nt.min(),nt.min(),nt.min(),Gn.empty(),0)}static newFoundDocument(e,n,i,r){return new Zn(e,1,n,nt.min(),i,r,0)}static newNoDocument(e,n){return new Zn(e,2,n,nt.min(),nt.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,nt.min(),nt.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function Iw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Pe.comparator(Pe.fromName(a.referenceValue),n.key):i=Fo(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function vD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class bt extends jS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wD(e,n,i):n==="array-contains"?new SD(e,i):n==="in"?new PD(e,i):n==="not-in"?new ID(e,i):n==="array-contains-any"?new bD(e,i):new bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ED(e,i):new TD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends jS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Mr(e,n)}matches(e){return zS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zS(t){return t.op==="and"}function FS(t){return yD(t)&&zS(t)}function yD(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function _m(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(FS(t))return t.filters.map(e=>_m(e)).join(",");{const e=t.filters.map(n=>_m(n)).join(",");return`${t.op}(${e})`}}function VS(t,e){return t instanceof bt?function(i,r){return r instanceof bt&&i.op===r.op&&i.field.isEqual(r.field)&&Ei(i.value,r.value)}(t,e):t instanceof Mr?function(i,r){return r instanceof Mr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,c)=>o&&VS(a,r.filters[c]),!0):!1}(t,e):void Ae()}function US(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"}(t):"Filter"}class wD extends bt{constructor(e,n,i){super(e,n,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ED extends bt{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TD extends bt{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class SD extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c_(n)&&Fl(n.arrayValue,this.value)}}class PD extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class ID extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class bD extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n=null,i=[],r=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=c,this.ce=null}}function kw(t,e=null,n=[],i=[],r=null,o=null,a=null){return new kD(t,e,n,i,r,o,a)}function h_(t){const e=Je(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>_m(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),l_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Vo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Vo(i)).join(",")),e.ce=n}return e.ce}function d_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bw(t.startAt,e.startAt)&&bw(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n=null,i=[],r=[],o=null,a="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function xD(t,e,n,i,r,o,a,c){return new kd(t,e,n,i,r,o,a,c)}function CD(t){return new kd(t)}function xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RD(t){return t.collectionGroup!==null}function tl(t){const e=Je(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Yt(Ft.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ah(o,i))}),n.has(Ft.keyField().canonicalString())||e.le.push(new Ah(Ft.keyField(),i))}return e.le}function gs(t){const e=Je(t);return e.he||(e.he=AD(e,tl(t))),e.he}function AD(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Ah(r.field,o)});const n=t.endAt?new Rh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Rh(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vm(t,e,n){return new kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $S(t,e){return d_(gs(t),gs(e))&&t.limitType===e.limitType}function HS(t){return`${h_(gs(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>US(r)).join(", ")}]`),l_(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Vo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Vo(r)).join(",")),`Target(${i})`}(gs(t))}; limitType=${t.limitType})`}function f_(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of tl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,c,h){const f=Iw(a,c,h);return a.inclusive?f<=0:f<0}(i.startAt,tl(i),r)||i.endAt&&!function(a,c,h){const f=Iw(a,c,h);return a.inclusive?f>=0:f>0}(i.endAt,tl(i),r))}(t,e)}function LD(t){return(e,n)=>{let i=!1;for(const r of tl(t)){const o=OD(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function OD(t,e,n){const i=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,a,c){const h=a.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Fo(h,f):Ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return NS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new gn(Pe.comparator);function Lh(){return ND}const WS=new gn(Pe.comparator);function gc(...t){let e=WS;for(const n of t)e=e.insert(n.key,n);return e}function KS(t){let e=WS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function hs(){return nl()}function ZS(){return nl()}function nl(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const DD=new gn(Pe.comparator),MD=new Yt(Pe.comparator);function qt(...t){let e=MD;for(const n of t)e=e.add(n);return e}const jD=new Yt(We);function zD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function FD(t,e){return fD(e)?qS(e):GS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function VD(t,e,n){return t instanceof Oh?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&u_(o)&&(o=DS(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Vl?JS(t,e):t instanceof Ul?YS(t,e):function(r,o){const a=QS(r,o),c=Cw(a)+Cw(r.Ie);return gm(a)&&gm(r.Ie)?qS(c):GS(r.serializer,c)}(t,e)}function UD(t,e,n){return t instanceof Vl?JS(t,e):t instanceof Ul?YS(t,e):n}function QS(t,e){return t instanceof Nh?function(i){return gm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Oh extends xd{}class Vl extends xd{constructor(e){super(),this.elements=e}}function JS(t,e){const n=XS(e);for(const i of t.elements)n.some(r=>Ei(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ul extends xd{constructor(e){super(),this.elements=e}}function YS(t,e){let n=XS(e);for(const i of t.elements)n=n.filter(r=>!Ei(r,i));return{arrayValue:{values:n}}}class Nh extends xd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Cw(t){return Mt(t.integerValue||t.doubleValue)}function XS(t){return c_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BD(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Vl&&r instanceof Vl||i instanceof Ul&&r instanceof Ul?jo(i.elements,r.elements,Ei):i instanceof Nh&&r instanceof Nh?Ei(i.Ie,r.Ie):i instanceof Oh&&r instanceof Oh}(t.transform,e.transform)}class $D{constructor(e,n){this.version=e,this.transformResults=n}}class Ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cd{}function eP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nP(t.key,Ui.none()):new du(t.key,t.data,Ui.none());{const n=t.data,i=Gn.empty();let r=new Yt(Ft.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new Os(t.key,i,new qn(r.toArray()),Ui.none())}}function HD(t,e,n){t instanceof du?function(r,o,a){const c=r.value.clone(),h=Aw(r.fieldTransforms,o,a.transformResults);c.setAll(h),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(r,o,a){if(!jc(r.precondition,o))return void o.convertToUnknownDocument(a.version);const c=Aw(r.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(tP(r)),h.setAll(c),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,i){return t instanceof du?function(o,a,c,h){if(!jc(o.precondition,a))return c;const f=o.value.clone(),p=Lw(o.fieldTransforms,h,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Os?function(o,a,c,h){if(!jc(o.precondition,a))return c;const f=Lw(o.fieldTransforms,h,a),p=a.data;return p.setAll(tP(o)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(o,a,c){return jc(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function WD(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=QS(i.transform,r||null);o!=null&&(n===null&&(n=Gn.empty()),n.set(i.field,o))}return n||null}function Rw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jo(i,r,(o,a)=>BD(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends Cd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Os extends Cd{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Aw(t,e,n){const i=new Map;Rt(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],a=o.transform,c=e.data.field(o.field);i.set(o.field,UD(a,c,n[r]))}return i}function Lw(t,e,n){const i=new Map;for(const r of t){const o=r.transform,a=n.data.field(r.field);i.set(r.field,VD(o,a,e))}return i}class nP extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&HD(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=il(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=il(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ZS();return this.mutations.forEach(r=>{const o=e.get(r.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(r.key)?null:c;const h=eP(a,c);h!==null&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(nt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qt())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,i)=>Rw(n,i))&&jo(this.baseMutations,e.baseMutations,(n,i)=>Rw(n,i))}}class p_{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Rt(e.mutations.length===i.length);let r=function(){return DD}();const o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new p_(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,je;function qD(t){switch(t){default:return Ae();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function QD(t){if(t===void 0)return Nr("GRPC error has no .code"),Q.UNKNOWN;switch(t){case gt.OK:return Q.OK;case gt.CANCELLED:return Q.CANCELLED;case gt.UNKNOWN:return Q.UNKNOWN;case gt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case gt.INTERNAL:return Q.INTERNAL;case gt.UNAVAILABLE:return Q.UNAVAILABLE;case gt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case gt.NOT_FOUND:return Q.NOT_FOUND;case gt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case gt.ABORTED:return Q.ABORTED;case gt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case gt.DATA_LOSS:return Q.DATA_LOSS;default:return Ae()}}(je=gt||(gt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new QN([4294967295,4294967295],0);class JD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XD(t,e){return ym(t,e.toTimestamp())}function xo(t){return Rt(!!t),nt.fromTimestamp(function(n){const i=ks(n);return new xt(i.seconds,i.nanos)}(t))}function iP(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(r){return new at(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function e2(t){const e=at.fromString(t);return Rt(l2(e)),e}function Em(t,e){return iP(t.databaseId,e.path)}function t2(t){const e=e2(t);return e.length===4?at.emptyPath():i2(e)}function n2(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i2(t){return Rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ow(t,e,n){return{name:Em(t,e),fields:n.value.mapValue.fields}}function r2(t,e){let n;if(e instanceof du)n={update:Ow(t,e.key,e.value)};else if(e instanceof nP)n={delete:Em(t,e.key)};else if(e instanceof Os)n={update:Ow(t,e.key,e.data),updateMask:a2(e.fieldMask)};else{if(!(e instanceof KD))return Ae();n={verify:Em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){const c=a.transform;if(c instanceof Oh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ul)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nh)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:XD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae()}(t,e.precondition)),n}function s2(t,e){return t&&t.length>0?(Rt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?xo(r.updateTime):xo(o);return a.isEqual(nt.min())&&(a=xo(o)),new $D(a,r.transformResults||[])}(n,e))):[]}function o2(t){let e=t2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Rt(i===1);const p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(g){const _=rP(g);return _ instanceof Mr&&FS(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(x){return new Ah(io(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,l_(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(g){const _=!!g.before,S=g.values||[];return new Rh(S,_)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const _=!g.before,S=g.values||[];return new Rh(S,_)}(n.endAt)),xD(e,r,a,o,c,"F",h,f)}function rP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=io(n.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=io(n.unaryFilter.field);return bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=io(n.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=io(n.unaryFilter.field);return bt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(io(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(i=>rP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function io(t){return Ft.fromServerFormat(t.fieldPath)}function a2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.ct=e}}function c2(t){const e=o2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._n=new d2}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Dr.min())}updateCollectionGroup(e,n,i){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class d2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Yt(at.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Yt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Uo(0)}static Ln(){return new Uo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?H.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&il(i.mutation,r,qn.empty(),xt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,qt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=qt()){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=gc();return o.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,qt()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,i,r){let o=Lh();const a=nl(),c=function(){return nl()}();return n.forEach((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof Os)?o=o.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),il(p.mutation,f,p.mutation.getFieldMask(),xt.now())):a.set(f.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var g;return c.set(f,new p2(p,(g=a.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const i=nl();let r=new gn((a,c)=>a-c),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||qn.empty();p=c.applyToLocalView(f,p),i.set(h,p);const g=(r.get(c.batchId)||qt()).add(h);r=r.insert(c.batchId,g)})}).next(()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,g=ZS();p.forEach(_=>{if(!o.has(_)){const S=eP(n.get(_),i.get(_));S!==null&&g.set(_,S),o=o.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return H.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):H.resolve(hs());let c=-1,h=o;return a.next(f=>H.forEach(f,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(p)?H.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,qt())).next(p=>({batchId:c,changes:KS(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(i=>{let r=gc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let a=gc();return this.indexManager.getCollectionParents(e,o).next(c=>H.forEach(c,h=>{const f=function(g,_){return new kd(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((h,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,Zn.newInvalidDocument(p)))});let c=gc();return a.forEach((h,f)=>{const p=o.get(h);p!==void 0&&il(p.mutation,f,qn.empty(),xt.now()),f_(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:xo(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:c2(r.bundledQuery),readTime:xo(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.overlays=new gn(Pe.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hs();return H.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),H.resolve()}getOverlaysForCollection(e,n,i){const r=hs(),o=n.length+1,a=new Pe(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new gn((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=hs(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=hs(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=r)););return H.resolve(c)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new GD(n,i));let o=this.hr.get(n);o===void 0&&(o=qt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Pr=new Yt(Pt.Ir),this.Tr=new Yt(Pt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new Pt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Pt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new Pe(new at([])),i=new Pt(n,e),r=new Pt(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Pe(new at([])),i=new Pt(n,e),r=new Pt(n,e+1);let o=qt();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Pt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Pe.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Yt(Pt.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ZD(o,n,i,r);this.mutationQueue.push(a);for(const c of r)this.wr=this.wr.add(new Pt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),o=r<0?0:r;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pt(n,0),r=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{const c=this.Sr(a.pr);o.push(c)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Yt(We);return n.forEach(r=>{const o=new Pt(r,0),a=new Pt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],c=>{i=i.add(c.pr)})}),H.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Pe.isDocumentKey(o)||(o=o.child(""));const a=new Pt(new Pe(o),0);let c=new Yt(We);return this.wr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(h.pr)),!0)},a),H.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return H.forEach(n.mutations,r=>{const o=new Pt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new Pt(n,0),r=this.wr.firstAfterOrEqual(i);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.vr=e,this.docs=function(){return new gn(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return H.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let i=Lh();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Zn.newInvalidDocument(r))}),H.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Lh();const a=n.path,c=new Pe(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||lD(aD(p),i)<=0||(r.has(p.key)||f_(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ae()}Fr(e,n){return H.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new w2(this)}getSize(e){return H.resolve(this.size)}}class w2 extends f2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.persistence=e,this.Mr=new Jo(n=>h_(n),d_),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new m_,this.targetCount=0,this.Lr=Uo.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),H.waitFor(o).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return H.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),H.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return H.resolve(i)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.Br={},this.overlays={},this.kr=new OS(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new E2(this),this.indexManager=new h2,this.remoteDocumentCache=function(r){return new y2(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new u2(n),this.$r=new g2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new v2(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){oe("MemoryPersistence","Starting transaction:",e);const r=new S2(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return H.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class S2 extends cD{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.zr=new m_,this.jr=null}static Hr(e){return new g_(e)}get Jr(){if(this.jr)return this.jr;throw Ae()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),H.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,i=>{const r=Pe.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,nt.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=qt(),r=qt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new __(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return NC()?8:cs.v(vt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new P2;return this.Ji(e,n,a).next(c=>{if(o.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Ca()<=Re.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Ca()<=Re.DEBUG&&oe("QueryEngine","Query:",Ra(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Ca()<=Re.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(n))):H.resolve())}ji(e,n){if(xw(n))return H.resolve(null);let i=gs(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=vm(n,null,"F"),i=gs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const a=qt(...o);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Zi(n,c);return this.Xi(n,f,a,h.readTime)?this.ji(e,vm(n,null,"F")):this.es(e,f,n,h)}))})))}Hi(e,n,i,r){return xw(n)||r.isEqual(nt.min())?H.resolve(null):this.zi.getDocuments(e,i).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,i,r)?H.resolve(null):(Ca()<=Re.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ra(n)),this.es(e,a,n,oD(r,-1)).next(c=>c))})}Zi(e,n){let i=new Yt(LD(e));return n.forEach((r,o)=>{f_(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Ca()<=Re.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.zi.getDocumentsMatchingQuery(e,n,Dr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new gn(We),this.rs=new Jo(o=>h_(o),d_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function k2(t,e,n,i){return new b2(t,e,n,i)}async function sP(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],c=[];let h=qt();for(const f of r){a.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({us:f,removedBatchIds:a,addedBatchIds:c}))})})}function x2(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const g=f.batch,_=g.keys();let S=H.resolve();return _.forEach(x=>{S=S.next(()=>p.getEntry(h,x)).next(A=>{const O=f.docVersions.get(x);Rt(O!==null),A.version.compareTo(O)<0&&(g.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=qt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function C2(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function R2(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class Nw{constructor(){this.activeTargetIds=zD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A2{constructor(){this.no=new Nw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Nw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function qf(){return _c===null?_c=function(){return 268435456+Math.round(2147483648*Math.random())}():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class D2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){const c=qf(),h=this.bo(n,i.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,o,a),this.Co(n,h,f,r).then(p=>(oe("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw bh("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",r),p})}vo(n,i,r,o,a,c){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){const r=O2[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){const o=qf();return new Promise((a,c)=>{const h=new qN;h.setWithCredentials(!0),h.listenOnce(ZN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Gf.NO_ERROR:const p=h.getResponseJson();oe(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Gf.TIMEOUT:oe(Kt,`RPC '${e}' ${o} timed out`),c(new me(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const g=h.getStatus();if(oe(Kt,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const x=function(O){const P=O.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(P)>=0?P:Q.UNKNOWN}(S.status);c(new me(x,S.message))}else c(new me(Q.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new me(Q.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{oe(Kt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);oe(Kt,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",f,i,15)})}Fo(e,n,i){const r=qf(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=WN(),c=KN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");oe(Kt,`Creating RPC '${e}' stream ${r}: ${p}`,h);const g=a.createWebChannel(p,h);let _=!1,S=!1;const x=new N2({lo:O=>{S?oe(Kt,`Not sending because RPC '${e}' stream ${r} is closed:`,O):(_||(oe(Kt,`Opening RPC '${e}' stream ${r} transport.`),g.open(),_=!0),oe(Kt,`RPC '${e}' stream ${r} sending:`,O),g.send(O))},ho:()=>g.close()}),A=(O,P,E)=>{O.listen(P,b=>{try{E(b)}catch(N){setTimeout(()=>{throw N},0)}})};return A(g,fc.EventType.OPEN,()=>{S||oe(Kt,`RPC '${e}' stream ${r} transport opened.`)}),A(g,fc.EventType.CLOSE,()=>{S||(S=!0,oe(Kt,`RPC '${e}' stream ${r} transport closed`),x.Vo())}),A(g,fc.EventType.ERROR,O=>{S||(S=!0,bh(Kt,`RPC '${e}' stream ${r} transport errored:`,O),x.Vo(new me(Q.UNAVAILABLE,"The operation could not be completed")))}),A(g,fc.EventType.MESSAGE,O=>{var P;if(!S){const E=O.data[0];Rt(!!E);const b=E,N=b.error||((P=b[0])===null||P===void 0?void 0:P.error);if(N){oe(Kt,`RPC '${e}' stream ${r} received error:`,N);const U=N.status;let K=function(ke){const ve=gt[ke];if(ve!==void 0)return QD(ve)}(U),W=N.message;K===void 0&&(K=Q.INTERNAL,W="Unknown error status: "+U+" with message "+N.message),S=!0,x.Vo(new me(K,W)),g.close()}else oe(Kt,`RPC '${e}' stream ${r} received:`,E),x.mo(E)}}),A(c,GN.STAT_EVENT,O=>{O.stat===yw.PROXY?oe(Kt,`RPC '${e}' stream ${r} detected buffering proxy`):O.stat===yw.NOPROXY&&oe(Kt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.Ro()},0),x}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new JD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,i,r,o,a,c,h){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new oP(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{const r=new me(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){const i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j2 extends M2{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=s2(e.writeResults,e.commitTime),i=xo(e.commitTime);return this.listener.T_(i,n)}return Rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=n2(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>r2(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,wm(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(Q.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,wm(n,i),r,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Q.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class F2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Nr(n),this.g_=!1):oe("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(async()=>{pu(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=Je(h);f.v_.add(4),await fu(f),f.x_.set("Unknown"),f.v_.delete(4),await Ad(f)}(this))})}),this.x_=new F2(i,r)}}async function Ad(t){if(pu(t))for(const e of t.F_)await e(!0)}async function fu(t){for(const e of t.F_)await e(!1)}function pu(t){return Je(t).v_.size===0}async function aP(t,e,n){if(!bd(e))throw e;t.v_.add(1),await fu(t),t.x_.set("Offline"),n||(n=()=>C2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ad(t)})}function lP(t,e){return e().catch(n=>aP(t,n,e))}async function Ld(t){const e=Je(t),n=jr(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;U2(e);)try{const r=await R2(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,B2(e,r)}catch(r){await aP(e,r)}uP(e)&&cP(e)}function U2(t){return pu(t)&&t.D_.length<10}function B2(t,e){t.D_.push(e);const n=jr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function uP(t){return pu(t)&&!jr(t).Ho()&&t.D_.length>0}function cP(t){jr(t).start()}async function $2(t){jr(t).d_()}async function H2(t){const e=jr(t);for(const n of t.D_)e.I_(n.mutations)}async function W2(t,e,n){const i=t.D_.shift(),r=p_.from(i,e,n);await lP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ld(t)}async function K2(t,e){e&&jr(t).P_&&await async function(i,r){if(function(a){return qD(a)&&a!==Q.ABORTED}(r.code)){const o=i.D_.shift();jr(i).Zo(),await lP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ld(i)}}(t,e),uP(t)&&cP(t)}async function Mw(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=pu(n);n.v_.add(3),await fu(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ad(n)}async function Z2(t,e){const n=Je(t);e?(n.v_.delete(2),await Ad(n)):e||(n.v_.add(2),await fu(n),n.x_.set("Unknown"))}function jr(t){return t.L_||(t.L_=function(n,i,r){const o=Je(n);return o.R_(),new j2(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:$2.bind(null,t),To:K2.bind(null,t),E_:H2.bind(null,t),T_:W2.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Ld(t)):(await t.L_.stop(),t.D_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const a=Date.now()+i,c=new v_(e,n,a,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hP(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),bd(t))return new me(Q.UNAVAILABLE,`${e}: ${t}`);throw t}class G2{constructor(){this.queries=new Jo(e=>HS(e),$S),this.onlineState="Unknown",this.W_=new Set}}function q2(t){t.W_.forEach(e=>{e.next()})}var jw,zw;(zw=jw||(jw={})).j_="default",zw.Cache="cache";class Q2{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new Jo(c=>HS(c),$S),this.Sa=new Map,this.ba=new Set,this.Da=new gn(Pe.comparator),this.Ca=new Map,this.va=new m_,this.Fa={},this.Ma=new Map,this.xa=Uo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function J2(t,e,n){const i=tM(t);try{const r=await function(a,c){const h=Je(a),f=xt.now(),p=c.reduce((S,x)=>S.add(x.key),qt());let g,_;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=Lh(),A=qt();return h.os.getEntries(S,p).next(O=>{x=O,x.forEach((P,E)=>{E.isValidDocument()||(A=A.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,x)).next(O=>{g=O;const P=[];for(const E of c){const b=WD(E,g.get(E.key).overlayedDocument);b!=null&&P.push(new Os(E.key,b,MS(b.value.mapValue),Ui.exists(!0)))}return h.mutationQueue.addMutationBatch(S,f,P,c)}).next(O=>{_=O;const P=O.applyToLocalDocumentSet(g,A);return h.documentOverlayCache.saveOverlays(S,O.batchId,P)})}).then(()=>({batchId:_.batchId,changes:KS(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,h){let f=a.Fa[a.currentUser.toKey()];f||(f=new gn(We)),f=f.insert(c,h),a.Fa[a.currentUser.toKey()]=f}(i,r.batchId,n),await Od(i,r.changes),await Ld(i.remoteStore)}catch(r){const o=hP(r,"Failed to persist write");n.reject(o)}}function Fw(t,e,n){const i=Je(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wa.forEach((o,a)=>{const c=a.view.G_(e);c.snapshot&&r.push(c.snapshot)}),function(a,c){const h=Je(a);h.onlineState=c;let f=!1;h.queries.forEach((p,g)=>{for(const _ of g.Q_)_.G_(c)&&(f=!0)}),f&&q2(h)}(i.eventManager,e),r.length&&i.ya.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Y2(t,e){const n=Je(t),i=e.batch.batchId;try{const r=await x2(n.localStore,e);fP(n,i,null),dP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Od(n,r)}catch(r){await LS(r)}}async function X2(t,e,n){const i=Je(t);try{const r=await function(a,c){const h=Je(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(g=>(Rt(g!==null),p=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);fP(i,e,n),dP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Od(i,r)}catch(r){await LS(r)}}function dP(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function fP(t,e,n){const i=Je(t);let r=i.Fa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}async function Od(t,e,n){const i=Je(t),r=[],o=[],a=[];i.wa.isEmpty()||(i.wa.forEach((c,h)=>{a.push(i.Na(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){r.push(f);const p=__.Ki(h.targetId,f);o.push(p)}}))}),await Promise.all(a),i.ya.u_(r),await async function(h,f){const p=Je(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>H.forEach(f,_=>H.forEach(_.qi,S=>p.persistence.referenceDelegate.addReference(g,_.targetId,S)).next(()=>H.forEach(_.Qi,S=>p.persistence.referenceDelegate.removeReference(g,_.targetId,S)))))}catch(g){if(!bd(g))throw g;oe("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const _=g.targetId;if(!g.fromCache){const S=p.ns.get(_),x=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(x);p.ns=p.ns.insert(_,A)}}}(i.localStore,o))}async function eM(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await sP(n.localStore,e);n.currentUser=e,function(o,a){o.Ma.forEach(c=>{c.forEach(h=>{h.reject(new me(Q.CANCELLED,a))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Od(n,i.us)}}function tM(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X2.bind(null,e),e}class Vw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k2(this.persistence,new I2,e.initialUser,this.serializer)}createPersistence(e){return new T2(g_.Hr,this.serializer)}createSharedClientState(e){return new A2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eM.bind(null,this.syncEngine),await Z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G2}()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),i=function(o){return new D2(o)}(e.databaseInfo);return function(o,a,c,h){return new z2(o,a,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,c){return new V2(i,r,o,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Fw(this.syncEngine,n,0),function(){return Dw.D()?new Dw:new L2}())}createSyncEngine(e,n){return function(r,o,a,c,h,f,p){const g=new Q2(r,o,a,c,h,f);return p&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=Je(i);oe("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await fu(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Zt.UNAUTHENTICATED,this.clientId=AS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=hP(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Jf(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await sP(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sM(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Mw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Mw(e.remoteStore,r)),t._onlineComponents=e}function rM(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rM(n))throw n;bh("Error using user provided cache. Falling back to memory cache: "+n),await Jf(t,new Vw)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Jf(t,new Vw);return t._offlineComponents}async function oM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Uw(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Uw(t,new nM))),t._onlineComponents}function aM(t){return oM(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){if(!n)throw new me(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lM(t,e,n,i){if(e===!0&&i===!0)throw new me(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $w(t){if(!Pe.isDocumentKey(t))throw new me(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hw(t){if(Pe.isDocumentKey(t))throw new me(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function gP(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y_(t);throw new me(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new me(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JN;switch(i.type){case"firstParty":return new tD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Bw.get(n);i&&(oe("ComponentProvider","Removing Datastore"),Bw.delete(n),i.terminate())}(this),Promise.resolve()}}function uM(t,e,n,i={}){var r;const o=(t=gP(t,Nd))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&bh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Zt.MOCK_USER;else{c=V1(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new me(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Zt(f)}t._authCredentials=new YN(new RS(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new w_(this.firestore,e,this._query)}}class Bi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class Rr extends w_{constructor(e,n,i){super(e,n,CD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new Pe(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function cM(t,e,...n){if(t=on(t),mP("collection","path",e),t instanceof Nd){const i=at.fromString(e,...n);return Hw(i),new Rr(t,null,i)}{if(!(t instanceof Bi||t instanceof Rr))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return Hw(i),new Rr(t.firestore,null,i)}}function hM(t,e,...n){if(t=on(t),arguments.length===1&&(e=AS.newId()),mP("doc","path",e),t instanceof Nd){const i=at.fromString(e,...n);return $w(i),new Bi(t,null,new Pe(i))}{if(!(t instanceof Bi||t instanceof Rr))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return $w(i),new Bi(t.firestore,t instanceof Rr?t.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new oP(this,"async_queue_retry"),this.cu=()=>{const n=Qf();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Qf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Cr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!bd(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;const r=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Nr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const r=v_.createAndSchedule(this,e,n,i,o=>this.Iu(o));return this.su.push(r),r}lu(){this.ou&&Ae()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class _P extends Nd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new dM}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vP(this),this._firestoreClient.terminate()}}function fM(t,e){const n=typeof t=="object"?t:kg(),i=typeof t=="string"?t:e||"(default)",r=sd(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=j1("firestore");o&&uM(r,...o)}return r}function pM(t){return t._firestoreClient||vP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vP(t){var e,n,i;const r=t._freezeSettings(),o=function(c,h,f,p){return new gD(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,pP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new iM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(qi.fromBase64String(e))}catch(n){throw new me(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=/^__.*__$/;class gM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function TP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class E_{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new E_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.pu(e),r}yu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Dh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(TP(this.Vu)&&mM.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class _M{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rd(e)}Cu(e,n,i,r=!1){return new E_({Vu:e,methodName:n,Du:i,path:Ft.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vM(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new _M(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yM(t,e,n,i,r,o={}){const a=t.Cu(o.merge||o.mergeFields?2:0,e,n,r);bP("Data must be an object, but it was:",a,i);const c=PP(i,a);let h,f;if(o.merge)h=new qn(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const g of o.mergeFields){const _=wM(e,g,n);if(!a.contains(_))throw new me(Q.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);SM(p,_)||p.push(_)}h=new qn(p),f=a.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=a.fieldTransforms;return new gM(new Gn(c),h,f)}function SP(t,e){if(IP(t=on(t)))return bP("Unsupported field value:",e,t),PP(t,e);if(t instanceof wP)return function(i,r){if(!TP(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,r){const o=[];let a=0;for(const c of i){let h=SP(c,r.wu(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=on(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=xt.fromDate(i);return{timestampValue:ym(r.serializer,o)}}if(i instanceof xt){const o=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ym(r.serializer,o)}}if(i instanceof EP)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bl)return{bytesValue:YD(r.serializer,i._byteString)};if(i instanceof Bi){const o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iP(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${y_(i)}`)}(t,e)}function PP(t,e){const n={};return NS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(t,(i,r)=>{const o=SP(r,e.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function IP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof EP||t instanceof Bl||t instanceof Bi||t instanceof wP)}function bP(t,e,n){if(!IP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=y_(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function wM(t,e,n){if((e=on(e))instanceof yP)return e._internalPath;if(typeof e=="string")return TM(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const EM=new RegExp("[~\\*/\\[\\]]");function TM(t,e,n){if(e.search(EM)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yP(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,i,r){const o=i&&!i.isEmpty(),a=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new me(Q.INVALID_ARGUMENT,c+t+h)}function SM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}function IM(t,e){const n=gP(t.firestore,_P),i=hM(t),r=PM(t.converter,e);return bM(n,[yM(vM(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ui.exists(!1))]).then(()=>i)}function bM(t,e){return function(i,r){const o=new Cr;return i.asyncQueue.enqueueAndForget(async()=>J2(await aM(i),r,o)),o.promise}(pM(t),e)}(function(e,n=!0){(function(r){Qo=r})(Rs),Ss(new Or("firestore",(i,{instanceIdentifier:r,options:o})=>{const a=i.getProvider("app").getImmediate(),c=new _P(new XN(i.getProvider("auth-internal")),new iD(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(f.options.projectId,p)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),gi(ww,"4.5.0",e),gi(ww,"4.5.0","esm2017")})();const T_=H1(HO),Ke=hO(T_);VO(T_);const kM=fM(T_),kP=({iconClass:t,text:e,setisFormSubmitted:n,isFormSubmitted:i})=>(F.useEffect(()=>{setTimeout(()=>n(!1),3e3)},[]),k.jsx(k.Fragment,{children:k.jsxs("div",{className:"toast",children:[k.jsx("i",{className:t}),e]})}));function xM(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Kw={};function Tm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&Kw[e[0]]||(typeof e[0]=="string"&&(Kw[e[0]]=new Date),xM(...e))}const xP=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function Zw(t,e,n){t.loadNamespaces(e,xP(t,n))}function Gw(t,e,n,i){typeof n=="string"&&(n=[n]),n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,xP(t,i))}function CM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],r=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(c,h)=>{const f=e.services.backendConnector.state[`${c}|${h}`];return f===-1||f===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(i,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(i,t)&&(!r||a(o,t)))}function RM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Tm("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,t))return!1}}):CM(t,e,n)}const AM=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,LM={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},OM=t=>LM[t],NM=t=>t.replace(AM,OM);let Sm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NM};function DM(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Sm={...Sm,...t}}function MM(){return Sm}let CP;function jM(t){CP=t}function zM(){return CP}const FM={type:"3rdParty",init(t){DM(t.options.react),jM(t)}},VM=F.createContext();class UM{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const BM=(t,e)=>{const n=F.useRef();return F.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function RP(t,e,n,i){return t.getFixedT(e,n,i)}function $M(t,e,n,i){return F.useCallback(RP(t,e,n,i),[t,e,n,i])}function zn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:i,defaultNS:r}=F.useContext(VM)||{},o=n||i||zM();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new UM),!o){Tm("You will need to pass in an i18next instance by using initReactI18next");const N=(K,W)=>typeof W=="string"?W:W&&typeof W=="object"&&typeof W.defaultValue=="string"?W.defaultValue:Array.isArray(K)?K[K.length-1]:K,U=[N,{},!1];return U.t=N,U.i18n={},U.ready=!1,U}o.options.react&&o.options.react.wait!==void 0&&Tm("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...MM(),...o.options.react,...e},{useSuspense:c,keyPrefix:h}=a;let f=t||r||o.options&&o.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(f);const p=(o.isInitialized||o.initializedStoreOnce)&&f.every(N=>RM(N,o,a)),g=$M(o,e.lng||null,a.nsMode==="fallback"?f:f[0],h),_=()=>g,S=()=>RP(o,e.lng||null,a.nsMode==="fallback"?f:f[0],h),[x,A]=F.useState(_);let O=f.join();e.lng&&(O=`${e.lng}${O}`);const P=BM(O),E=F.useRef(!0);F.useEffect(()=>{const{bindI18n:N,bindI18nStore:U}=a;E.current=!0,!p&&!c&&(e.lng?Gw(o,e.lng,f,()=>{E.current&&A(S)}):Zw(o,f,()=>{E.current&&A(S)})),p&&P&&P!==O&&E.current&&A(S);function K(){E.current&&A(S)}return N&&o&&o.on(N,K),U&&o&&o.store.on(U,K),()=>{E.current=!1,N&&o&&N.split(" ").forEach(W=>o.off(W,K)),U&&o&&U.split(" ").forEach(W=>o.store.off(W,K))}},[o,O]),F.useEffect(()=>{E.current&&p&&A(_)},[o,h,p]);const b=[x,o,p];if(b.t=x,b.i18n=o,b.ready=p,p||!p&&!c)return b;throw new Promise(N=>{e.lng?Gw(o,e.lng,f,()=>N()):Zw(o,f,()=>N())})}const HM=({onClose:t,onRegisterClick:e})=>{const[n,i]=F.useState({login:"",password:""}),r=h=>{const{name:f,value:p}=h.target;i({...n,[f]:p})},o=h=>{h.preventDefault(),qA(Ke,n.login,n.password).then(()=>{t()}).catch(f=>{console.error("Error during login:",f)})},a=()=>{t(),e()},{t:c}=zn();return k.jsx("div",{className:"popup",children:k.jsxs("div",{className:"popup-content",children:[k.jsx("button",{id:"close-btn",onClick:t,children:"X"}),k.jsx("h3",{children:c("LoginSignIn")}),k.jsx("div",{className:"popup-body",children:k.jsxs("form",{onSubmit:o,children:[k.jsx("input",{id:"input-login",type:"text",name:"login",placeholder:c("LoginPlaceholderLogin"),value:n.login,onChange:r,required:!0}),k.jsx("input",{id:"input-password",type:"password",name:"password",placeholder:c("LoginPlaceholderPassword"),value:n.password,onChange:r,required:!0}),k.jsx("button",{id:"button_action",type:"submit",className:"submit-btn",children:c("LoginLogin")})]})}),k.jsxs("div",{className:"popup-login-register",children:[k.jsx("span",{id:"text_referral",children:c("LoginNoAccount")}),k.jsx("button",{id:"button_referral",onClick:a,children:c("LoginSignup")})]})]})})},WM=({onClose:t,onLoginClick:e})=>{const[n,i]=F.useState({name:"",login:"",password:""}),r=h=>{const{name:f,value:p}=h.target;i({...n,[f]:p})},o=h=>{h.preventDefault(),GA(Ke,n.login,n.password).then(()=>{t()}).catch(f=>{console.error("Error during registration:",f)})},a=()=>{t(),e()},{t:c}=zn();return k.jsx("div",{className:"popup",children:k.jsxs("div",{className:"popup-content",children:[k.jsx("button",{id:"close-btn",onClick:t,children:"X"}),k.jsx("h3",{children:c("RegisterSignup")}),k.jsx("div",{className:"popup-body",children:k.jsxs("form",{onSubmit:o,children:[k.jsx("input",{id:"input-name",type:"text",name:"name",placeholder:c("RegisterPlaceholderName"),value:n.name,onChange:r,required:!0}),k.jsx("input",{id:"input-login",type:"email",name:"login",placeholder:"Email",value:n.login,onChange:r,required:!0}),k.jsx("input",{id:"input-password",type:"password",name:"password",placeholder:c("RegisterPlaceholderPassword"),value:n.password,onChange:r,required:!0}),k.jsx("button",{id:"button_action",type:"submit",className:"submit-btn",children:c("RegisterJoin")})]})}),k.jsxs("div",{className:"popup-login-register",children:[k.jsx("span",{id:"text_referral",children:c("RegisterAlreadyAccount")}),k.jsx("button",{id:"button_referral",onClick:a,children:c("RegisterSignin")})]})]})})};class mu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const KM=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},zt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:KM()},S_=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},ZM=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=S_(t);zt.publicKey=n.publicKey,zt.blockHeadless=n.blockHeadless,zt.storageProvider=n.storageProvider,zt.blockList=n.blockList,zt.limitRate=n.limitRate,zt.origin=n.origin||e},AP=async(t,e,n={})=>{const i=await fetch(zt.origin+t,{method:"POST",headers:n,body:e}),r=await i.text(),o=new mu(i.status,r);if(i.ok)return o;throw o},LP=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},GM=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},OP=t=>t.webdriver||!t.languages||t.languages.length===0,NP=()=>new mu(451,"Unavailable For Headless Browser"),qM=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},QM=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},JM=(t,e)=>t instanceof FormData?t.get(e):t[e],DP=(t,e)=>{if(QM(t))return!1;qM(t.list,t.watchVariable);const n=JM(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},MP=()=>new mu(403,"Forbidden"),YM=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},XM=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},jP=async(t,e,n)=>{if(!e.throttle||!n)return!1;YM(e.throttle,e.id);const i=e.id||t;return await XM(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},zP=()=>new mu(429,"Too Many Requests"),ej=async(t,e,n,i)=>{const r=S_(i),o=r.publicKey||zt.publicKey,a=r.blockHeadless||zt.blockHeadless,c=zt.storageProvider||r.storageProvider,h={...zt.blockList,...r.blockList},f={...zt.limitRate,...r.limitRate};return a&&OP(navigator)?Promise.reject(NP()):(LP(o,t,e),GM(n),n&&DP(h,n)?Promise.reject(MP()):await jP(location.pathname,f,c)?Promise.reject(zP()):AP("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},tj=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},nj=t=>typeof t=="string"?document.querySelector(t):t,ij=async(t,e,n,i)=>{const r=S_(i),o=r.publicKey||zt.publicKey,a=r.blockHeadless||zt.blockHeadless,c=zt.storageProvider||r.storageProvider,h={...zt.blockList,...r.blockList},f={...zt.limitRate,...r.limitRate};if(a&&OP(navigator))return Promise.reject(NP());const p=nj(n);LP(o,t,e),tj(p);const g=new FormData(p);return DP(h,g)?Promise.reject(MP()):await jP(location.pathname,f,c)?Promise.reject(zP()):(g.append("lib_version","4.3.3"),g.append("service_id",t),g.append("template_id",e),g.append("user_id",o),AP("/api/v1.0/email/send-form",g))},FP={init:ZM,send:ej,sendForm:ij,EmailJSResponseStatus:mu},rj=({onClose:t,setisFormSubmitted:e,isFormSubmitted:n})=>{F.useState({name:"",email:"",message:""});const{t:i}=zn(),r=F.useRef(null),o=a=>{a.preventDefault(),FP.sendForm("service_i9svdvj","template_x1by15r",r.current,{publicKey:"nEnmgTagRKnAS2Ayl"}).then(()=>{console.log("SUCCESS!"),e(!0)},c=>{console.log("FAILED...",c.text)}),t()};return k.jsx(k.Fragment,{children:k.jsx("div",{className:"popup",children:k.jsxs("div",{className:"popup-content",children:[k.jsx("button",{id:"close-btn",onClick:t,children:"X"}),k.jsx("h3",{children:i("ContactUs")}),k.jsx("div",{className:"popup-body",children:k.jsxs("form",{ref:r,onSubmit:o,children:[k.jsx("input",{id:"input-name",type:"text",name:"user_name",placeholder:i("ContactFormPlaceholderName"),required:!0}),k.jsx("input",{id:"input-email",type:"email",name:"user_email",placeholder:"Email",required:!0}),k.jsx("textarea",{id:"input-message",name:"message",placeholder:i("ContactFormPlaceholderMessage"),required:!0}),k.jsx("button",{id:"button_action",type:"submit",className:"submit-btn",value:"Send",children:i("Submit")})]})})]})})})},VP=F.createContext(void 0),UP=()=>{const t=F.useContext(VP);if(!t)throw new Error("useAuth must be used within an AuthProvider");const{loginPopupVisible:e,registerPopupVisible:n,openLoginPopup:i,closeLoginPopup:r,openRegisterPopup:o,closeRegisterPopup:a}=t,c=()=>{};return{loginPopupVisible:e,registerPopupVisible:n,openLoginPopup:i,closeLoginPopup:r||c,openRegisterPopup:o||c,closeRegisterPopup:a||c}},sj=({children:t})=>{const[e,n]=F.useState(!1),[i,r]=F.useState(!1),o=()=>{n(!0)},a=()=>{n(!1)},c=()=>{r(!0)},h=()=>{r(!1)};return k.jsx(VP.Provider,{value:{loginPopupVisible:e,setLoginPopupVisible:n,registerPopupVisible:i,setRegisterPopupVisible:r,openLoginPopup:o,closeLoginPopup:a,openRegisterPopup:c,closeRegisterPopup:h},children:t})},oj=()=>{const{t,i18n:e}=zn();if(localStorage.i18nextLng!=="PL")return k.jsxs("select",{id:"LngSelector",onChange:n=>{e.changeLanguage(n.target.value)},children:[k.jsx("option",{value:"EN",children:"EN"}),k.jsx("option",{value:"PL",children:"PL"})]});if(localStorage.i18nextLng==="PL")return k.jsxs("select",{id:"LngSelector",onChange:n=>{e.changeLanguage(n.target.value)},children:[k.jsx("option",{value:"PL",children:"PL"}),k.jsx("option",{value:"EN",children:"EN"})]})},BP=F.createContext(void 0),$P=()=>{const t=F.useContext(BP);if(!t)throw new Error("useContact must be used within an ContactProvider");const{contactPopupVisible:e,setContactPopupVisible:n,openContactPopup:i,closeContactPopup:r}=t;return{contactPopupVisible:e,openContactPopup:i,closeContactPopup:r}},aj=({children:t})=>{const[e,n]=F.useState(!1),i=()=>{n(!0)},r=()=>{n(!1)};return k.jsx(BP.Provider,{value:{contactPopupVisible:e,setContactPopupVisible:n,openContactPopup:i,closeContactPopup:r},children:t})},lj=()=>{var O,P,E;const{loginPopupVisible:t,registerPopupVisible:e,openLoginPopup:n,closeLoginPopup:i,openRegisterPopup:r,closeRegisterPopup:o}=UP(),{contactPopupVisible:a,openContactPopup:c,closeContactPopup:h}=$P(),[f,p]=F.useState(!1),g=id(),{t:_}=zn(),S=()=>{XA(Ke).then(()=>{}).then(()=>{window.location.reload()}).catch(b=>{console.error("Error during logout:",b)})},x=()=>{g("/booking")},A=()=>{g("/ourrooms")};return k.jsxs("header",{className:"header",children:[k.jsxs("div",{className:"logo",children:[k.jsx("img",{id:"hotel_logo",src:"https://firebasestorage.googleapis.com/v0/b/dobra-ekipa-6f3c0.appspot.com/o/logo%2F2.png?alt=media&token=59adcdea-ea81-4400-b9f0-10c042d5fae1",alt:"Logo",className:"logo",onClick:()=>window.location.replace("/")}),k.jsx("span",{className:"hotel_name",onClick:()=>window.location.replace("/"),children:"Sol Hotel"})]}),k.jsxs("div",{className:"navigation",children:[((O=Ke==null?void 0:Ke.currentUser)==null?void 0:O.email)&&k.jsx("button",{onClick:x,className:"navi_button",children:_("BookNow")}),k.jsx("button",{onClick:A,className:"navi_button",children:_("OurRooms")}),k.jsx("button",{onClick:c,className:"navi_button",children:_("HeaderContactUs")}),!((P=Ke==null?void 0:Ke.currentUser)!=null&&P.email)&&k.jsx("button",{onClick:n,className:"navi_button",style:{backgroundColor:"#2c3f1f",color:"#f1f3ee"},children:_("HeaderLogin")}),((E=Ke==null?void 0:Ke.currentUser)==null?void 0:E.email)&&k.jsx("button",{onClick:S,className:"navi_button",style:{backgroundColor:"#2c3f1f",color:"#f1f3ee"},children:_("HeaderLogOut")}),k.jsx(oj,{})]}),t&&k.jsx(HM,{onClose:i,onRegisterClick:r}),e&&k.jsx(WM,{onClose:o,onLoginClick:n}),a&&k.jsx(rj,{isFormSubmitted:f,setisFormSubmitted:p,onClose:h}),f&&k.jsx(kP,{iconClass:"fa-solid fa-circle-check",text:" Success! We've received your message",isFormSubmitted:f,setisFormSubmitted:p})]})},uj=()=>{const t=n=>{n.preventDefault(),IM(cM(kM,"users"),{email:n.target.email.value}),n.target.email.value=""},{t:e}=zn();return k.jsxs("div",{className:"discount_container",children:[k.jsx("img",{className:"discount-img",src:"https://www.humanproofdesigns.com/wp-content/uploads/2020/12/discount.png",alt:"discount image"}),k.jsxs("div",{className:"text-container",children:[k.jsx("div",{className:"discount-title",children:e("discountHeader")}),k.jsx("div",{children:e("discountHeader2")}),k.jsxs("form",{onSubmit:t,children:[k.jsx("label",{htmlFor:"email",children:e("discountEmail")}),k.jsx("br",{}),k.jsx("input",{type:"email",id:"email",name:"email",required:!0}),k.jsx("br",{}),k.jsx("input",{type:"checkbox",id:"agreed",name:"agreed",value:"Agreed",required:!0}),k.jsxs("label",{htmlFor:"agreed",children:[" ",e("discountConsent")]}),k.jsx("br",{}),k.jsx("input",{type:"submit",id:"submit",name:"submit",value:"Submit"})]})]})]})};var HP={exports:{}};(function(t,e){(function(n,i){t.exports=i(F)})(to,n=>(()=>{var i={703:(c,h,f)=>{var p=f(414);function g(){}function _(){}_.resetWarningCache=g,c.exports=function(){function S(O,P,E,b,N,U){if(U!==p){var K=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw K.name="Invariant Violation",K}}function x(){return S}S.isRequired=S;var A={array:S,bool:S,func:S,number:S,object:S,string:S,symbol:S,any:S,arrayOf:x,element:S,elementType:S,instanceOf:x,node:S,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:_,resetWarningCache:g};return A.PropTypes=A,A}},697:(c,h,f)=>{c.exports=f(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:c=>{var h=typeof Element<"u",f=typeof Map=="function",p=typeof Set=="function",g=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function _(S,x){if(S===x)return!0;if(S&&x&&typeof S=="object"&&typeof x=="object"){if(S.constructor!==x.constructor)return!1;var A,O,P,E;if(Array.isArray(S)){if((A=S.length)!=x.length)return!1;for(O=A;O--!=0;)if(!_(S[O],x[O]))return!1;return!0}if(f&&S instanceof Map&&x instanceof Map){if(S.size!==x.size)return!1;for(E=S.entries();!(O=E.next()).done;)if(!x.has(O.value[0]))return!1;for(E=S.entries();!(O=E.next()).done;)if(!_(O.value[1],x.get(O.value[0])))return!1;return!0}if(p&&S instanceof Set&&x instanceof Set){if(S.size!==x.size)return!1;for(E=S.entries();!(O=E.next()).done;)if(!x.has(O.value[0]))return!1;return!0}if(g&&ArrayBuffer.isView(S)&&ArrayBuffer.isView(x)){if((A=S.length)!=x.length)return!1;for(O=A;O--!=0;)if(S[O]!==x[O])return!1;return!0}if(S.constructor===RegExp)return S.source===x.source&&S.flags===x.flags;if(S.valueOf!==Object.prototype.valueOf)return S.valueOf()===x.valueOf();if(S.toString!==Object.prototype.toString)return S.toString()===x.toString();if((A=(P=Object.keys(S)).length)!==Object.keys(x).length)return!1;for(O=A;O--!=0;)if(!Object.prototype.hasOwnProperty.call(x,P[O]))return!1;if(h&&S instanceof Element)return!1;for(O=A;O--!=0;)if((P[O]!=="_owner"&&P[O]!=="__v"&&P[O]!=="__o"||!S.$$typeof)&&!_(S[P[O]],x[P[O]]))return!1;return!0}return S!=S&&x!=x}c.exports=function(S,x){try{return _(S,x)}catch(A){if((A.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw A}}},359:c=>{c.exports=n}},r={};function o(c){var h=r[c];if(h!==void 0)return h.exports;var f=r[c]={exports:{}};return i[c](f,f.exports,o),f.exports}o.n=c=>{var h=c&&c.__esModule?()=>c.default:()=>c;return o.d(h,{a:h}),h},o.d=(c,h)=>{for(var f in h)o.o(h,f)&&!o.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:h[f]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(c,h)=>Object.prototype.hasOwnProperty.call(c,h),o.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var a={};return(()=>{function c(I){var y,R,M="";if(typeof I=="string"||typeof I=="number")M+=I;else if(typeof I=="object")if(Array.isArray(I))for(y=0;y<I.length;y++)I[y]&&(R=c(I[y]))&&(M&&(M+=" "),M+=R);else for(y in I)I[y]&&(M&&(M+=" "),M+=y);return M}function h(){for(var I,y,R=0,M="";R<arguments.length;)(I=arguments[R++])&&(y=c(I))&&(M&&(M+=" "),M+=y);return M}o.r(a),o.d(a,{default:()=>Au});var f=o(359),p=o.n(f);const g=function(I){var y=typeof I;return I!=null&&(y=="object"||y=="function")},_=typeof to=="object"&&to&&to.Object===Object&&to;var S=typeof self=="object"&&self&&self.Object===Object&&self;const x=_||S||Function("return this")(),A=function(){return x.Date.now()};var O=/\s/,P=/^\s+/;const E=function(I){return I&&I.slice(0,function(y){for(var R=y.length;R--&&O.test(y.charAt(R)););return R}(I)+1).replace(P,"")},b=x.Symbol;var N=Object.prototype,U=N.hasOwnProperty,K=N.toString,W=b?b.toStringTag:void 0,re=Object.prototype.toString,ke=b?b.toStringTag:void 0;const ve=function(I){return I==null?I===void 0?"[object Undefined]":"[object Null]":ke&&ke in Object(I)?function(y){var R=U.call(y,W),M=y[W];try{y[W]=void 0;var q=!0}catch{}var le=K.call(y);return q&&(R?y[W]=M:delete y[W]),le}(I):function(y){return re.call(y)}(I)};var Le=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,Fn=/^0o[0-7]+$/i,ft=parseInt;const bn=function(I){if(typeof I=="number")return I;if(function(M){return typeof M=="symbol"||function(q){return q!=null&&typeof q=="object"}(M)&&ve(M)=="[object Symbol]"}(I))return NaN;if(g(I)){var y=typeof I.valueOf=="function"?I.valueOf():I;I=g(y)?y+"":y}if(typeof I!="string")return I===0?I:+I;I=E(I);var R=ut.test(I);return R||Fn.test(I)?ft(I.slice(2),R?2:8):Le.test(I)?NaN:+I};var Ye=Math.max,un=Math.min;const V=function(I,y,R){var M,q,le,Ie,w,T,j=0,G=!1,Z=!1,X=!0;if(typeof I!="function")throw new TypeError("Expected a function");function pe(ce){var we=M,Ne=q;return M=q=void 0,j=ce,Ie=I.apply(Ne,we)}function de(ce){return j=ce,w=setTimeout(ee,y),G?pe(ce):Ie}function ue(ce){var we=ce-T;return T===void 0||we>=y||we<0||Z&&ce-j>=le}function ee(){var ce=A();if(ue(ce))return te(ce);w=setTimeout(ee,function(we){var Ne=y-(we-T);return Z?un(Ne,le-(we-j)):Ne}(ce))}function te(ce){return w=void 0,X&&M?pe(ce):(M=q=void 0,Ie)}function ie(){var ce=A(),we=ue(ce);if(M=arguments,q=this,T=ce,we){if(w===void 0)return de(T);if(Z)return clearTimeout(w),w=setTimeout(ee,y),pe(T)}return w===void 0&&(w=setTimeout(ee,y)),Ie}return y=bn(y)||0,g(R)&&(G=!!R.leading,le=(Z="maxWait"in R)?Ye(bn(R.maxWait)||0,y):le,X="trailing"in R?!!R.trailing:X),ie.cancel=function(){w!==void 0&&clearTimeout(w),j=0,M=T=q=w=void 0},ie.flush=function(){return w===void 0?Ie:te(A())},ie},fe=function(I,y,R){var M=!0,q=!0;if(typeof I!="function")throw new TypeError("Expected a function");return g(R)&&(M="leading"in R?!!R.leading:M,q="trailing"in R?!!R.trailing:q),V(I,y,{leading:M,maxWait:y,trailing:q})};var Y=o(590),ge=o.n(Y),xe=function(){if(typeof Map<"u")return Map;function I(y,R){var M=-1;return y.some(function(q,le){return q[0]===R&&(M=le,!0)}),M}return function(){function y(){this.__entries__=[]}return Object.defineProperty(y.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),y.prototype.get=function(R){var M=I(this.__entries__,R),q=this.__entries__[M];return q&&q[1]},y.prototype.set=function(R,M){var q=I(this.__entries__,R);~q?this.__entries__[q][1]=M:this.__entries__.push([R,M])},y.prototype.delete=function(R){var M=this.__entries__,q=I(M,R);~q&&M.splice(q,1)},y.prototype.has=function(R){return!!~I(this.__entries__,R)},y.prototype.clear=function(){this.__entries__.splice(0)},y.prototype.forEach=function(R,M){M===void 0&&(M=null);for(var q=0,le=this.__entries__;q<le.length;q++){var Ie=le[q];R.call(M,Ie[1],Ie[0])}},y}()}(),et=typeof window<"u"&&typeof document<"u"&&window.document===document,ze=o.g!==void 0&&o.g.Math===Math?o.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Oe=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ze):function(I){return setTimeout(function(){return I(Date.now())},1e3/60)},Se=["top","right","bottom","left","width","height","size","weight"],$t=typeof MutationObserver<"u",ei=function(){function I(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(y,R){var M=!1,q=!1,le=0;function Ie(){M&&(M=!1,y()),q&&T()}function w(){Oe(Ie)}function T(){var j=Date.now();if(M){if(j-le<2)return;q=!0}else M=!0,q=!1,setTimeout(w,20);le=j}return T}(this.refresh.bind(this))}return I.prototype.addObserver=function(y){~this.observers_.indexOf(y)||this.observers_.push(y),this.connected_||this.connect_()},I.prototype.removeObserver=function(y){var R=this.observers_,M=R.indexOf(y);~M&&R.splice(M,1),!R.length&&this.connected_&&this.disconnect_()},I.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},I.prototype.updateObservers_=function(){var y=this.observers_.filter(function(R){return R.gatherActive(),R.hasActive()});return y.forEach(function(R){return R.broadcastActive()}),y.length>0},I.prototype.connect_=function(){et&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$t?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},I.prototype.disconnect_=function(){et&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},I.prototype.onTransitionEnd_=function(y){var R=y.propertyName,M=R===void 0?"":R;Se.some(function(q){return!!~M.indexOf(q)})&&this.refresh()},I.getInstance=function(){return this.instance_||(this.instance_=new I),this.instance_},I.instance_=null,I}(),Yo=function(I,y){for(var R=0,M=Object.keys(y);R<M.length;R++){var q=M[R];Object.defineProperty(I,q,{value:y[q],enumerable:!1,writable:!1,configurable:!0})}return I},ti=function(I){return I&&I.ownerDocument&&I.ownerDocument.defaultView||ze},Ns=Zr(0,0,0,0);function ni(I){return parseFloat(I)||0}function Ds(I){for(var y=[],R=1;R<arguments.length;R++)y[R-1]=arguments[R];return y.reduce(function(M,q){return M+ni(I["border-"+q+"-width"])},0)}var zd=typeof SVGGraphicsElement<"u"?function(I){return I instanceof ti(I).SVGGraphicsElement}:function(I){return I instanceof ti(I).SVGElement&&typeof I.getBBox=="function"};function gu(I){return et?zd(I)?function(y){var R=y.getBBox();return Zr(0,0,R.width,R.height)}(I):function(y){var R=y.clientWidth,M=y.clientHeight;if(!R&&!M)return Ns;var q=ti(y).getComputedStyle(y),le=function(X){for(var pe={},de=0,ue=["top","right","bottom","left"];de<ue.length;de++){var ee=ue[de],te=X["padding-"+ee];pe[ee]=ni(te)}return pe}(q),Ie=le.left+le.right,w=le.top+le.bottom,T=ni(q.width),j=ni(q.height);if(q.boxSizing==="border-box"&&(Math.round(T+Ie)!==R&&(T-=Ds(q,"left","right")+Ie),Math.round(j+w)!==M&&(j-=Ds(q,"top","bottom")+w)),!function(X){return X===ti(X).document.documentElement}(y)){var G=Math.round(T+Ie)-R,Z=Math.round(j+w)-M;Math.abs(G)!==1&&(T-=G),Math.abs(Z)!==1&&(j-=Z)}return Zr(le.left,le.top,T,j)}(I):Ns}function Zr(I,y,R,M){return{x:I,y,width:R,height:M}}var Xo=function(){function I(y){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Zr(0,0,0,0),this.target=y}return I.prototype.isActive=function(){var y=gu(this.target);return this.contentRect_=y,y.width!==this.broadcastWidth||y.height!==this.broadcastHeight},I.prototype.broadcastRect=function(){var y=this.contentRect_;return this.broadcastWidth=y.width,this.broadcastHeight=y.height,y},I}(),Ms=function(I,y){var R,M,q,le,Ie,w,T,j=(M=(R=y).x,q=R.y,le=R.width,Ie=R.height,w=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,T=Object.create(w.prototype),Yo(T,{x:M,y:q,width:le,height:Ie,top:q,right:M+le,bottom:Ie+q,left:M}),T);Yo(this,{target:I,contentRect:j})},Fd=function(){function I(y,R,M){if(this.activeObservations_=[],this.observations_=new xe,typeof y!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=y,this.controller_=R,this.callbackCtx_=M}return I.prototype.observe=function(y){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(y instanceof ti(y).Element))throw new TypeError('parameter 1 is not of type "Element".');var R=this.observations_;R.has(y)||(R.set(y,new Xo(y)),this.controller_.addObserver(this),this.controller_.refresh())}},I.prototype.unobserve=function(y){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(y instanceof ti(y).Element))throw new TypeError('parameter 1 is not of type "Element".');var R=this.observations_;R.has(y)&&(R.delete(y),R.size||this.controller_.removeObserver(this))}},I.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},I.prototype.gatherActive=function(){var y=this;this.clearActive(),this.observations_.forEach(function(R){R.isActive()&&y.activeObservations_.push(R)})},I.prototype.broadcastActive=function(){if(this.hasActive()){var y=this.callbackCtx_,R=this.activeObservations_.map(function(M){return new Ms(M.target,M.broadcastRect())});this.callback_.call(y,R,y),this.clearActive()}},I.prototype.clearActive=function(){this.activeObservations_.splice(0)},I.prototype.hasActive=function(){return this.activeObservations_.length>0},I}(),ea=typeof WeakMap<"u"?new WeakMap:new xe,js=function I(y){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var R=ei.getInstance(),M=new Fd(y,R,this);ea.set(this,M)};["observe","unobserve","disconnect"].forEach(function(I){js.prototype[I]=function(){var y;return(y=ea.get(this))[I].apply(y,arguments)}});const ta=ze.ResizeObserver!==void 0?ze.ResizeObserver:js,Pi="Left",Ii="Right",Ji="Up",Vn="Down",bi={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},zs={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},_u="mousemove",na="mouseup";function ia(I,y){if(y===0)return I;const R=Math.PI/180*y;return[I[0]*Math.cos(R)+I[1]*Math.sin(R),I[1]*Math.cos(R)-I[0]*Math.sin(R)]}function Vd(I){const{trackMouse:y}=I,R=f.useRef(Object.assign({},zs)),M=f.useRef(Object.assign({},bi)),q=f.useRef(Object.assign({},M.current));let le;for(le in q.current=Object.assign({},M.current),M.current=Object.assign(Object.assign({},bi),I),bi)M.current[le]===void 0&&(M.current[le]=bi[le]);const[Ie,w]=f.useMemo(()=>function(T,j){const G=ee=>{const te="touches"in ee;te&&ee.touches.length>1||T((ie,ce)=>{ce.trackMouse&&!te&&(document.addEventListener(_u,Z),document.addEventListener(na,pe));const{clientX:we,clientY:Ne}=te?ee.touches[0]:ee,He=ia([we,Ne],ce.rotationAngle);return ce.onTouchStartOrOnMouseDown&&ce.onTouchStartOrOnMouseDown({event:ee}),Object.assign(Object.assign(Object.assign({},ie),zs),{initial:He.slice(),xy:He,start:ee.timeStamp||0})})},Z=ee=>{T((te,ie)=>{const ce="touches"in ee;if(ce&&ee.touches.length>1)return te;if(ee.timeStamp-te.start>ie.swipeDuration)return te.swiping?Object.assign(Object.assign({},te),{swiping:!1}):te;const{clientX:we,clientY:Ne}=ce?ee.touches[0]:ee,[He,yt]=ia([we,Ne],ie.rotationAngle),wt=He-te.xy[0],ct=yt-te.xy[1],$e=Math.abs(wt),Fe=Math.abs(ct),xn=(ee.timeStamp||0)-te.start,Qr=Math.sqrt($e*$e+Fe*Fe)/(xn||1),ye=[wt/(xn||1),ct/(xn||1)],pt=function(xi,ri,vn,Lt){return xi>ri?vn>0?Ii:Pi:Lt>0?Vn:Ji}($e,Fe,wt,ct),De=typeof ie.delta=="number"?ie.delta:ie.delta[pt.toLowerCase()]||bi.delta;if($e<De&&Fe<De&&!te.swiping)return te;const _n={absX:$e,absY:Fe,deltaX:wt,deltaY:ct,dir:pt,event:ee,first:te.first,initial:te.initial,velocity:Qr,vxvy:ye};_n.first&&ie.onSwipeStart&&ie.onSwipeStart(_n),ie.onSwiping&&ie.onSwiping(_n);let ii=!1;return(ie.onSwiping||ie.onSwiped||ie[`onSwiped${pt}`])&&(ii=!0),ii&&ie.preventScrollOnSwipe&&ie.trackTouch&&ee.cancelable&&ee.preventDefault(),Object.assign(Object.assign({},te),{first:!1,eventData:_n,swiping:!0})})},X=ee=>{T((te,ie)=>{let ce;if(te.swiping&&te.eventData){if(ee.timeStamp-te.start<ie.swipeDuration){ce=Object.assign(Object.assign({},te.eventData),{event:ee}),ie.onSwiped&&ie.onSwiped(ce);const we=ie[`onSwiped${ce.dir}`];we&&we(ce)}}else ie.onTap&&ie.onTap({event:ee});return ie.onTouchEndOrOnMouseUp&&ie.onTouchEndOrOnMouseUp({event:ee}),Object.assign(Object.assign(Object.assign({},te),zs),{eventData:ce})})},pe=ee=>{document.removeEventListener(_u,Z),document.removeEventListener(na,pe),X(ee)},de=(ee,te)=>{let ie=()=>{};if(ee&&ee.addEventListener){const ce=Object.assign(Object.assign({},bi.touchEventOptions),te.touchEventOptions),we=[["touchstart",G,ce],["touchmove",Z,Object.assign(Object.assign({},ce),te.preventScrollOnSwipe?{passive:!1}:{})],["touchend",X,ce]];we.forEach(([Ne,He,yt])=>ee.addEventListener(Ne,He,yt)),ie=()=>we.forEach(([Ne,He])=>ee.removeEventListener(Ne,He))}return ie},ue={ref:ee=>{ee!==null&&T((te,ie)=>{if(te.el===ee)return te;const ce={};return te.el&&te.el!==ee&&te.cleanUpTouch&&(te.cleanUpTouch(),ce.cleanUpTouch=void 0),ie.trackTouch&&ee&&(ce.cleanUpTouch=de(ee,ie)),Object.assign(Object.assign(Object.assign({},te),{el:ee}),ce)})}};return j.trackMouse&&(ue.onMouseDown=G),[ue,de]}(T=>R.current=T(R.current,M.current),{trackMouse:y}),[y]);return R.current=function(T,j,G,Z){return j.trackTouch&&T.el?T.cleanUpTouch?j.preventScrollOnSwipe!==G.preventScrollOnSwipe||j.touchEventOptions.passive!==G.touchEventOptions.passive?(T.cleanUpTouch(),Object.assign(Object.assign({},T),{cleanUpTouch:Z(T.el,j)})):T:Object.assign(Object.assign({},T),{cleanUpTouch:Z(T.el,j)}):(T.cleanUpTouch&&T.cleanUpTouch(),Object.assign(Object.assign({},T),{cleanUpTouch:void 0}))}(R.current,M.current,q.current,w),Ie}var B=o(697);function ki(I){return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},ki(I)}function ra(I,y){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(I);y&&(M=M.filter(function(q){return Object.getOwnPropertyDescriptor(I,q).enumerable})),R.push.apply(R,M)}return R}function vu(I){for(var y=1;y<arguments.length;y++){var R=arguments[y]!=null?arguments[y]:{};y%2?ra(Object(R),!0).forEach(function(M){Gr(I,M,R[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):ra(Object(R)).forEach(function(M){Object.defineProperty(I,M,Object.getOwnPropertyDescriptor(R,M))})}return I}function Gr(I,y,R){return(y=function(M){var q=function(le,Ie){if(ki(le)!=="object"||le===null)return le;var w=le[Symbol.toPrimitive];if(w!==void 0){var T=w.call(le,Ie);if(ki(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(M,"string");return ki(q)==="symbol"?q:String(q)}(y))in I?Object.defineProperty(I,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[y]=R,I}var Ud={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"},sa=p().memo(function(I){var y=vu(vu({},Ud),I),R=y.description,M=y.fullscreen,q=y.handleImageLoaded,le=y.isFullscreen,Ie=y.onImageError,w=y.original,T=y.originalAlt,j=y.originalHeight,G=y.originalWidth,Z=y.originalTitle,X=y.sizes,pe=y.srcSet,de=y.loading,ue=le&&M||w;return p().createElement(p().Fragment,null,p().createElement("img",{className:"image-gallery-image",src:ue,alt:T,srcSet:pe,height:j,width:G,sizes:X,title:Z,onLoad:function(ee){return q(ee,w)},onError:Ie,loading:de}),R&&p().createElement("span",{className:"image-gallery-description"},R))});sa.displayName="Item",sa.propTypes={description:B.string,fullscreen:B.string,handleImageLoaded:B.func.isRequired,isFullscreen:B.bool,onImageError:B.func.isRequired,original:B.string.isRequired,originalAlt:B.string,originalHeight:B.string,originalWidth:B.string,originalTitle:B.string,sizes:B.string,srcSet:B.string,loading:B.string};const yu=sa;function Yi(I){return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Yi(I)}function oa(I,y){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(I);y&&(M=M.filter(function(q){return Object.getOwnPropertyDescriptor(I,q).enumerable})),R.push.apply(R,M)}return R}function wu(I){for(var y=1;y<arguments.length;y++){var R=arguments[y]!=null?arguments[y]:{};y%2?oa(Object(R),!0).forEach(function(M){Bd(I,M,R[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):oa(Object(R)).forEach(function(M){Object.defineProperty(I,M,Object.getOwnPropertyDescriptor(R,M))})}return I}function Bd(I,y,R){return(y=function(M){var q=function(le,Ie){if(Yi(le)!=="object"||le===null)return le;var w=le[Symbol.toPrimitive];if(w!==void 0){var T=w.call(le,Ie);if(Yi(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(M,"string");return Yi(q)==="symbol"?q:String(q)}(y))in I?Object.defineProperty(I,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[y]=R,I}var $d={left:p().createElement("polyline",{points:"15 18 9 12 15 6"}),right:p().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:p().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:p().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:p().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:p().createElement(p().Fragment,null,p().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),p().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},Hd={strokeWidth:1,viewBox:"0 0 24 24"},Eu=function(I){var y=wu(wu({},Hd),I),R=y.strokeWidth,M=y.viewBox,q=y.icon;return p().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:M,fill:"none",stroke:"currentColor",strokeWidth:R,strokeLinecap:"round",strokeLinejoin:"round"},$d[q])};Eu.propTypes={strokeWidth:B.number,viewBox:B.string,icon:(0,B.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired};const Fs=Eu;var qr=p().memo(function(I){var y=I.isFullscreen,R=I.onClick;return p().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:R,"aria-label":"Open Fullscreen"},p().createElement(Fs,{strokeWidth:2,icon:y?"minimize":"maximize"}))});qr.displayName="Fullscreen",qr.propTypes={isFullscreen:B.bool.isRequired,onClick:B.func.isRequired};const Wd=qr;var aa=p().memo(function(I){var y=I.disabled,R=I.onClick;return p().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:y,onClick:R,"aria-label":"Previous Slide"},p().createElement(Fs,{icon:"left",viewBox:"6 0 12 24"}))});aa.displayName="LeftNav",aa.propTypes={disabled:B.bool.isRequired,onClick:B.func.isRequired};const Kd=aa;var la=p().memo(function(I){var y=I.disabled,R=I.onClick;return p().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:y,onClick:R,"aria-label":"Next Slide"},p().createElement(Fs,{icon:"right",viewBox:"6 0 12 24"}))});la.displayName="RightNav",la.propTypes={disabled:B.bool.isRequired,onClick:B.func.isRequired};const kn=la;var he=p().memo(function(I){var y=I.isPlaying,R=I.onClick;return p().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:R,"aria-label":"Play or Pause Slideshow"},p().createElement(Fs,{strokeWidth:2,icon:y?"pause":"play"}))});he.displayName="PlayPause",he.propTypes={isPlaying:B.bool.isRequired,onClick:B.func.isRequired};const Tu=he;function Xi(I){return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Xi(I)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(I){for(var y=1;y<arguments.length;y++){var R=arguments[y];for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(I[M]=R[M])}return I},Vs.apply(this,arguments)}function ua(I,y){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(I);y&&(M=M.filter(function(q){return Object.getOwnPropertyDescriptor(I,q).enumerable})),R.push.apply(R,M)}return R}function Us(I){for(var y=1;y<arguments.length;y++){var R=arguments[y]!=null?arguments[y]:{};y%2?ua(Object(R),!0).forEach(function(M){Su(I,M,R[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):ua(Object(R)).forEach(function(M){Object.defineProperty(I,M,Object.getOwnPropertyDescriptor(R,M))})}return I}function Su(I,y,R){return(y=function(M){var q=function(le,Ie){if(Xi(le)!=="object"||le===null)return le;var w=le[Symbol.toPrimitive];if(w!==void 0){var T=w.call(le,Ie);if(Xi(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(le)}(M,"string");return Xi(q)==="symbol"?q:String(q)}(y))in I?Object.defineProperty(I,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[y]=R,I}var er={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}},ca=function(I){var y=Us(Us({},er),I),R=y.children,M=y.className,q=Vd({delta:y.delta,onSwiping:y.onSwiping,onSwiped:y.onSwiped});return p().createElement("div",Vs({},q,{className:M}),R)};ca.propTypes={children:B.node.isRequired,className:B.string,delta:B.number,onSwiped:B.func,onSwiping:B.func};const Pu=ca;function tr(I){return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},tr(I)}function Iu(I,y){var R=Object.keys(I);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(I);y&&(M=M.filter(function(q){return Object.getOwnPropertyDescriptor(I,q).enumerable})),R.push.apply(R,M)}return R}function bu(I){for(var y=1;y<arguments.length;y++){var R=arguments[y]!=null?arguments[y]:{};y%2?Iu(Object(R),!0).forEach(function(M){xu(I,M,R[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(R)):Iu(Object(R)).forEach(function(M){Object.defineProperty(I,M,Object.getOwnPropertyDescriptor(R,M))})}return I}function ku(I,y){for(var R=0;R<y.length;R++){var M=y[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,Cu(M.key),M)}}function ha(I,y){return ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,M){return R.__proto__=M,R},ha(I,y)}function Bs(I,y){if(y&&(tr(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(I)}function tt(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function $s(I){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},$s(I)}function xu(I,y,R){return(y=Cu(y))in I?Object.defineProperty(I,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[y]=R,I}function Cu(I){var y=function(R,M){if(tr(R)!=="object"||R===null)return R;var q=R[Symbol.toPrimitive];if(q!==void 0){var le=q.call(R,M);if(tr(le)!=="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}(I,"string");return tr(y)==="symbol"?y:String(y)}var Ru=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],da=(0,B.arrayOf)((0,B.shape)({srcSet:B.string,media:B.string}));function nr(I){var y=parseInt(I.keyCode||I.which||0,10);return y===66||y===62}var Hs=function(I){(function(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),T&&ha(w,T)})(Ie,I);var y,R,M,q,le=(M=Ie,q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var w,T=$s(M);if(q){var j=$s(this).constructor;w=Reflect.construct(T,arguments,j)}else w=T.apply(this,arguments);return Bs(this,w)});function Ie(w){var T;return function(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}(this,Ie),xu(tt(T=le.call(this,w)),"onBulletClick",function(j,G){var Z=T.props,X=Z.onBulletClick,pe=Z.items,de=T.state.currentIndex;j.target.blur(),de!==G&&(pe.length===2?T.slideToIndexWithStyleReset(G,j):T.slideToIndex(G,j)),X&&X(j,G)}),T.state={currentIndex:w.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(w.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},T.loadedImages={},T.imageGallery=p().createRef(),T.thumbnailsWrapper=p().createRef(),T.thumbnails=p().createRef(),T.imageGallerySlideWrapper=p().createRef(),T.handleImageLoaded=T.handleImageLoaded.bind(tt(T)),T.handleKeyDown=T.handleKeyDown.bind(tt(T)),T.handleMouseDown=T.handleMouseDown.bind(tt(T)),T.handleResize=T.handleResize.bind(tt(T)),T.handleTouchMove=T.handleTouchMove.bind(tt(T)),T.handleOnSwiped=T.handleOnSwiped.bind(tt(T)),T.handleScreenChange=T.handleScreenChange.bind(tt(T)),T.handleSwiping=T.handleSwiping.bind(tt(T)),T.handleThumbnailSwiping=T.handleThumbnailSwiping.bind(tt(T)),T.handleOnThumbnailSwiped=T.handleOnThumbnailSwiped.bind(tt(T)),T.onThumbnailMouseLeave=T.onThumbnailMouseLeave.bind(tt(T)),T.handleImageError=T.handleImageError.bind(tt(T)),T.pauseOrPlay=T.pauseOrPlay.bind(tt(T)),T.renderThumbInner=T.renderThumbInner.bind(tt(T)),T.renderItem=T.renderItem.bind(tt(T)),T.slideLeft=T.slideLeft.bind(tt(T)),T.slideRight=T.slideRight.bind(tt(T)),T.toggleFullScreen=T.toggleFullScreen.bind(tt(T)),T.togglePlay=T.togglePlay.bind(tt(T)),T.unthrottledSlideToIndex=T.slideToIndex,T.slideToIndex=fe(T.unthrottledSlideToIndex,w.slideDuration,{trailing:!1}),w.lazyLoad&&(T.lazyLoaded=[]),T}return y=Ie,R=[{key:"componentDidMount",value:function(){var w=this.props,T=w.autoPlay,j=w.useWindowKeyDown;T&&this.play(),j?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(w,T){var j=this.props,G=j.items,Z=j.lazyLoad,X=j.slideDuration,pe=j.slideInterval,de=j.startIndex,ue=j.thumbnailPosition,ee=j.showThumbnails,te=j.useWindowKeyDown,ie=this.state,ce=ie.currentIndex,we=ie.isPlaying,Ne=w.items.length!==G.length,He=!ge()(w.items,G),yt=w.startIndex!==de,wt=w.thumbnailPosition!==ue,ct=w.showThumbnails!==ee;pe===w.slideInterval&&X===w.slideDuration||we&&(this.pause(),this.play()),wt&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),ct&&ee&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),ct&&!ee&&this.removeThumbnailsResizeObserver(),(Ne||ct)&&this.handleResize(),T.currentIndex!==ce&&this.slideThumbnailBar(),w.slideDuration!==X&&(this.slideToIndex=fe(this.unthrottledSlideToIndex,X,{trailing:!1})),!Z||w.lazyLoad&&!He||(this.lazyLoaded=[]),te!==w.useWindowKeyDown&&(te?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(yt||He)&&this.setState({currentIndex:de,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var w=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),w?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var w=this,T=this.state,j=T.currentIndex,G=T.isTransitioning,Z=this.props,X=Z.onSlide,pe=Z.slideDuration;this.transitionTimer=window.setTimeout(function(){G&&(w.setState({isTransitioning:!G,isSwipingThumbnail:!1}),X&&X(j))},pe+50)}},{key:"onThumbnailClick",value:function(w,T){var j=this.props,G=j.onThumbnailClick,Z=j.items,X=this.state.currentIndex;w.target.parentNode.parentNode.blur(),X!==T&&(Z.length===2?this.slideToIndexWithStyleReset(T,w):this.slideToIndex(T,w)),G&&G(w,T)}},{key:"onThumbnailMouseOver",value:function(w,T){var j=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){j.slideToIndex(T),j.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var w=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,w&&this.play()}}},{key:"setThumbsTranslate",value:function(w){this.setState({thumbsTranslate:w})}},{key:"setModalFullscreen",value:function(w){var T=this.props.onScreenChange;this.setState({modalFullscreen:w}),T&&T(w)}},{key:"getThumbsTranslate",value:function(w){var T,j=this.props,G=j.disableThumbnailScroll,Z=j.items,X=this.state,pe=X.thumbnailsWrapperWidth,de=X.thumbnailsWrapperHeight,ue=this.thumbnails&&this.thumbnails.current;if(G)return 0;if(ue){if(this.isThumbnailVertical()){if(ue.scrollHeight<=de)return 0;T=ue.scrollHeight-de}else{if(ue.scrollWidth<=pe||pe<=0)return 0;T=ue.scrollWidth-pe}return w*(T/(Z.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(w){switch(w){case"left":w=" ".concat("image-gallery-thumbnails-left");break;case"right":w=" ".concat("image-gallery-thumbnails-right");break;case"bottom":w=" ".concat("image-gallery-thumbnails-bottom");break;case"top":w=" ".concat("image-gallery-thumbnails-top")}return w}},{key:"getAlignmentClassName",value:function(w){var T=this.state.currentIndex,j=this.props,G=j.infinite,Z=j.items,X="",pe="image-gallery-left",de="image-gallery-right";switch(w){case T-1:X=" ".concat(pe);break;case T:X=" ".concat("image-gallery-center");break;case T+1:X=" ".concat(de)}return Z.length>=3&&G&&(w===0&&T===Z.length-1?X=" ".concat(de):w===Z.length-1&&T===0&&(X=" ".concat(pe))),X}},{key:"getTranslateXForTwoSlide",value:function(w){var T=this.state,j=T.currentIndex,G=T.currentSlideOffset,Z=T.previousIndex,X=j!==Z,pe=w===0&&Z===0,de=w===1&&Z===1,ue=w===0&&j===1,ee=w===1&&j===0,te=G===0,ie=-100*j+100*w+G;return G>0?this.direction="left":G<0&&(this.direction="right"),ee&&G>0&&(ie=-100+G),ue&&G<0&&(ie=100+G),X?pe&&te&&this.direction==="left"?ie=100:de&&te&&this.direction==="right"&&(ie=-100):(ee&&te&&this.direction==="left"&&(ie=-100),ue&&te&&this.direction==="right"&&(ie=100)),ie}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(w){var T=this.state,j=T.currentIndex,G=T.currentSlideOffset,Z=T.slideStyle,X=this.props,pe=X.infinite,de=X.items,ue=X.useTranslate3D,ee=X.isRTL,te=-100*j,ie=de.length-1,ce=(te+100*w)*(ee?-1:1)+G;pe&&de.length>2&&(j===0&&w===ie?ce=-100*(ee?-1:1)+G:j===ie&&w===0&&(ce=100*(ee?-1:1)+G)),pe&&de.length===2&&(ce=this.getTranslateXForTwoSlide(w));var we="translate(".concat(ce,"%, 0)");return ue&&(we="translate3d(".concat(ce,"%, 0, 0)")),bu({display:this.isSlideVisible(w)?"inherit":"none",WebkitTransform:we,MozTransform:we,msTransform:we,OTransform:we,transform:we},Z)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var w,T=this.props,j=T.useTranslate3D,G=T.isRTL,Z=this.state,X=Z.thumbsTranslate,pe=Z.thumbsStyle,de=G?-1*X:X;return this.isThumbnailVertical()?(w="translate(0, ".concat(X,"px)"),j&&(w="translate3d(0, ".concat(X,"px, 0)"))):(w="translate(".concat(de,"px, 0)"),j&&(w="translate3d(".concat(de,"px, 0, 0)"))),bu({WebkitTransform:w,MozTransform:w,msTransform:w,OTransform:w,transform:w},pe)}},{key:"getSlideItems",value:function(){var w=this,T=this.state.currentIndex,j=this.props,G=j.items,Z=j.slideOnThumbnailOver,X=j.onClick,pe=j.lazyLoad,de=j.onTouchMove,ue=j.onTouchEnd,ee=j.onTouchStart,te=j.onMouseOver,ie=j.onMouseLeave,ce=j.renderItem,we=j.renderThumbInner,Ne=j.showThumbnails,He=j.showBullets,yt=[],wt=[],ct=[];return G.forEach(function($e,Fe){var xn=w.getAlignmentClassName(Fe),Qr=$e.originalClass?" ".concat($e.originalClass):"",ye=$e.thumbnailClass?" ".concat($e.thumbnailClass):"",pt=$e.renderItem||ce||w.renderItem,De=$e.renderThumbInner||we||w.renderThumbInner,_n=!pe||xn||w.lazyLoaded[Fe];_n&&pe&&!w.lazyLoaded[Fe]&&(w.lazyLoaded[Fe]=!0);var ii=w.getSlideStyle(Fe),xi=p().createElement("div",{"aria-label":"Go to Slide ".concat(Fe+1),key:"slide-".concat(Fe),tabIndex:"-1",className:"image-gallery-slide ".concat(xn," ").concat(Qr),style:ii,onClick:X,onKeyUp:w.handleSlideKeyUp,onTouchMove:de,onTouchEnd:ue,onTouchStart:ee,onMouseOver:te,onFocus:te,onMouseLeave:ie,role:"button"},_n?pt($e):p().createElement("div",{style:{height:"100%"}}));if(yt.push(xi),Ne&&$e.thumbnail){var ri=h("image-gallery-thumbnail",ye,{active:T===Fe});wt.push(p().createElement("button",{key:"thumbnail-".concat(Fe),type:"button",tabIndex:"0","aria-pressed":T===Fe?"true":"false","aria-label":"Go to Slide ".concat(Fe+1),className:ri,onMouseLeave:Z?w.onThumbnailMouseLeave:null,onMouseOver:function(Lt){return w.handleThumbnailMouseOver(Lt,Fe)},onFocus:function(Lt){return w.handleThumbnailMouseOver(Lt,Fe)},onKeyUp:function(Lt){return w.handleThumbnailKeyUp(Lt,Fe)},onClick:function(Lt){return w.onThumbnailClick(Lt,Fe)}},De($e)))}if(He){var vn=h("image-gallery-bullet",$e.bulletClass,{active:T===Fe});ct.push(p().createElement("button",{type:"button",key:"bullet-".concat(Fe),className:vn,onClick:function(Lt){return w.onBulletClick(Lt,Fe)},"aria-pressed":T===Fe?"true":"false","aria-label":"Go to Slide ".concat(Fe+1)}))}}),{slides:yt,thumbnails:wt,bullets:ct}}},{key:"ignoreIsTransitioning",value:function(){var w=this.props.items,T=this.state,j=T.previousIndex,G=T.currentIndex,Z=w.length-1;return Math.abs(j-G)>1&&!(j===0&&G===Z)&&!(j===Z&&G===0)}},{key:"isFirstOrLastSlide",value:function(w){return w===this.props.items.length-1||w===0}},{key:"slideIsTransitioning",value:function(w){var T=this.state,j=T.isTransitioning,G=T.previousIndex,Z=T.currentIndex;return j&&!(w===G||w===Z)}},{key:"isSlideVisible",value:function(w){return!this.slideIsTransitioning(w)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(w)}},{key:"slideThumbnailBar",value:function(){var w=this.state,T=w.currentIndex,j=w.isSwipingThumbnail,G=-this.getThumbsTranslate(T);j||(T===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:G,thumbsSwipedTranslate:G}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){return this.props.infinite||this.canSlidePrevious()}},{key:"canSlideRight",value:function(){return this.props.infinite||this.canSlideNext()}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(w){var T=w.event,j=w.absX,G=w.dir,Z=this.props,X=Z.disableSwipe,pe=Z.stopPropagation,de=this.state,ue=de.galleryWidth,ee=de.isTransitioning,te=de.swipingUpDown,ie=de.swipingLeftRight;if(G!==Ji&&G!==Vn&&!te||ie){if(G!==Pi&&G!==Ii||ie||this.setState({swipingLeftRight:!0}),!X){var ce=this.props.swipingTransitionDuration;if(pe&&T.preventDefault(),ee)this.setState({currentSlideOffset:0});else{var we=G===Ii?1:-1,Ne=j/ue*100;Math.abs(Ne)>=100&&(Ne=100);var He={transition:"transform ".concat(ce,"ms ease-out")};this.setState({currentSlideOffset:we*Ne,slideStyle:He})}}}else te||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(w){var T=w.event,j=w.absX,G=w.absY,Z=w.dir,X=this.props,pe=X.stopPropagation,de=X.swipingThumbnailTransitionDuration,ue=this.state,ee=ue.thumbsSwipedTranslate,te=ue.thumbnailsWrapperHeight,ie=ue.thumbnailsWrapperWidth,ce=ue.swipingUpDown,we=ue.swipingLeftRight;if(this.isThumbnailVertical()){if((Z===Pi||Z===Ii||we)&&!ce)return void(we||this.setState({swipingLeftRight:!0}));Z!==Ji&&Z!==Vn||ce||this.setState({swipingUpDown:!0})}else{if((Z===Ji||Z===Vn||ce)&&!we)return void(ce||this.setState({swipingUpDown:!0}));Z!==Pi&&Z!==Ii||we||this.setState({swipingLeftRight:!0})}var Ne,He,yt,wt,ct,$e=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(Ne=ee+(Z===Vn?G:-G),He=$e.scrollHeight-te+20,yt=Math.abs(Ne)>He,wt=Ne>20,ct=$e.scrollHeight<=te):(Ne=ee+(Z===Ii?j:-j),He=$e.scrollWidth-ie+20,yt=Math.abs(Ne)>He,wt=Ne>20,ct=$e.scrollWidth<=ie),!ct&&(Z!==Pi&&Z!==Ji||!yt)&&(Z!==Ii&&Z!==Vn||!wt)){pe&&T.stopPropagation();var Fe={transition:"transform ".concat(de,"ms ease-out")};this.setState({thumbsTranslate:Ne,thumbsStyle:Fe})}}},{key:"handleOnThumbnailSwiped",value:function(){var w=this.state.thumbsTranslate,T=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:w,thumbsStyle:{transition:"all ".concat(T,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var w=this.state.currentSlideOffset,T=this.props.swipeThreshold;return Math.abs(w)>T}},{key:"resetSwipingDirection",value:function(){var w=this.state,T=w.swipingUpDown,j=w.swipingLeftRight;T&&this.setState({swipingUpDown:!1}),j&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(w){var T=w.event,j=w.dir,G=w.velocity,Z=this.props,X=Z.disableSwipe,pe=Z.stopPropagation,de=Z.flickThreshold;if(!X){var ue=this.props.isRTL;pe&&T.stopPropagation(),this.resetSwipingDirection();var ee=(j===Pi?1:-1)*(ue?-1:1),te=G>de&&!(j===Ji||j===Vn);this.handleOnSwipedTo(ee,te)}}},{key:"handleOnSwipedTo",value:function(w,T){var j=this.state,G=j.currentIndex,Z=j.isTransitioning,X=G;!this.sufficientSwipe()&&!T||Z||(X+=w),(w===-1&&!this.canSlideLeft()||w===1&&!this.canSlideRight())&&(X=G),this.unthrottledSlideToIndex(X)}},{key:"handleTouchMove",value:function(w){this.state.swipingLeftRight&&w.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(w){var T=this.props,j=T.disableKeyDown,G=T.useBrowserFullscreen,Z=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!j)switch(parseInt(w.keyCode||w.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(w);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(w);break;case 27:Z&&!G&&this.exitFullScreen()}}},{key:"handleImageError",value:function(w){var T=this.props.onErrorImageURL;T&&w.target.src.indexOf(T)===-1&&(w.target.src=T)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var w=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(w)))}},{key:"initSlideWrapperResizeObserver",value:function(w){var T=this;w&&!w.current||(this.resizeSlideWrapperObserver=new ta(V(function(j){j&&j.forEach(function(G){T.setState({thumbnailsWrapperWidth:G.contentRect.width},T.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(w.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(w){var T=this;w&&!w.current||(this.resizeThumbnailWrapperObserver=new ta(V(function(j){j&&j.forEach(function(G){T.setState({thumbnailsWrapperHeight:G.contentRect.height},T.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(w.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var w=this.props,T=w.onScreenChange,j=w.useBrowserFullscreen,G=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,Z=this.imageGallery.current===G;T&&T(Z),j&&this.setState({isFullscreen:Z})}},{key:"slideToIndex",value:function(w,T){var j=this.state,G=j.currentIndex,Z=j.isTransitioning,X=this.props,pe=X.items,de=X.slideDuration,ue=X.onBeforeSlide;if(!Z){T&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var ee=pe.length-1,te=w;w<0?te=ee:w>ee&&(te=0),ue&&te!==G&&ue(te),this.setState({previousIndex:G,currentIndex:te,isTransitioning:te!==G,currentSlideOffset:0,slideStyle:{transition:"all ".concat(de,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(w){var T=this.props.isRTL;this.slideTo(w,T?"right":"left")}},{key:"slideRight",value:function(w){var T=this.props.isRTL;this.slideTo(w,T?"left":"right")}},{key:"slideTo",value:function(w,T){var j=this.state,G=j.currentIndex,Z=j.isTransitioning,X=this.props.items,pe=G+(T==="left"?-1:1);Z||(X.length===2?this.slideToIndexWithStyleReset(pe,w):this.slideToIndex(pe,w))}},{key:"slideToIndexWithStyleReset",value:function(w,T){var j=this,G=this.state,Z=G.currentIndex,X=G.currentSlideOffset;this.setState({currentSlideOffset:X+(Z>w?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return j.slideToIndex(w,T)},25)})}},{key:"handleThumbnailMouseOver",value:function(w,T){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(w,T)}},{key:"handleThumbnailKeyUp",value:function(w,T){nr(w)&&this.onThumbnailClick(w,T)}},{key:"handleSlideKeyUp",value:function(w){nr(w)&&(0,this.props.onClick)(w)}},{key:"isThumbnailVertical",value:function(){var w=this.props.thumbnailPosition;return w==="left"||w==="right"}},{key:"addScreenChangeEvent",value:function(){var w=this;Ru.forEach(function(T){document.addEventListener(T,w.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var w=this;Ru.forEach(function(T){document.removeEventListener(T,w.handleScreenChange)})}},{key:"fullScreen",value:function(){var w=this.props.useBrowserFullscreen,T=this.imageGallery.current;w?T.requestFullscreen?T.requestFullscreen():T.msRequestFullscreen?T.msRequestFullscreen():T.mozRequestFullScreen?T.mozRequestFullScreen():T.webkitRequestFullscreen?T.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var w=this.state.isFullscreen,T=this.props.useBrowserFullscreen;w&&(T?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var w=this.props.infinite,T=this.state.currentIndex;w||this.canSlideRight()?this.slideToIndex(T+1):this.pause()}},{key:"play",value:function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],T=this.props,j=T.onPlay,G=T.slideInterval,Z=T.slideDuration,X=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(G,Z)),j&&w&&j(X))}},{key:"pause",value:function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],T=this.props.onPause,j=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),T&&w&&T(j))}},{key:"isImageLoaded",value:function(w){return!!this.loadedImages[w.original]||(this.loadedImages[w.original]=!0,!1)}},{key:"handleImageLoaded",value:function(w,T){var j=this.props.onImageLoad;!this.loadedImages[T]&&j&&(this.loadedImages[T]=!0,j(w))}},{key:"renderItem",value:function(w){var T=this.state.isFullscreen,j=this.props.onImageError||this.handleImageError;return p().createElement(yu,{description:w.description,fullscreen:w.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:T,onImageError:j,original:w.original,originalAlt:w.originalAlt,originalHeight:w.originalHeight,originalWidth:w.originalWidth,originalTitle:w.originalTitle,sizes:w.sizes,loading:w.loading,srcSet:w.srcSet})}},{key:"renderThumbInner",value:function(w){var T=this.props.onThumbnailError||this.handleImageError;return p().createElement("span",{className:"image-gallery-thumbnail-inner"},p().createElement("img",{className:"image-gallery-thumbnail-image",src:w.thumbnail,height:w.thumbnailHeight,width:w.thumbnailWidth,alt:w.thumbnailAlt,title:w.thumbnailTitle,loading:w.thumbnailLoading,onError:T}),w.thumbnailLabel&&p().createElement("div",{className:"image-gallery-thumbnail-label"},w.thumbnailLabel))}},{key:"render",value:function(){var w=this.state,T=w.currentIndex,j=w.isFullscreen,G=w.modalFullscreen,Z=w.isPlaying,X=this.props,pe=X.additionalClass,de=X.disableThumbnailSwipe,ue=X.indexSeparator,ee=X.isRTL,te=X.items,ie=X.thumbnailPosition,ce=X.renderFullscreenButton,we=X.renderCustomControls,Ne=X.renderLeftNav,He=X.renderRightNav,yt=X.showBullets,wt=X.showFullscreenButton,ct=X.showIndex,$e=X.showThumbnails,Fe=X.showNav,xn=X.showPlayButton,Qr=X.renderPlayPauseButton,ye=this.getThumbnailStyle(),pt=this.getSlideItems(),De=pt.slides,_n=pt.thumbnails,ii=pt.bullets,xi=h("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(ie),{"image-gallery-rtl":ee}),ri=p().createElement("div",{ref:this.imageGallerySlideWrapper,className:xi},we&&we(),this.canSlide()?p().createElement(p().Fragment,null,Fe&&p().createElement(p().Fragment,null,Ne(this.slideLeft,!this.canSlideLeft()),He(this.slideRight,!this.canSlideRight())),p().createElement(Pu,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},p().createElement("div",{className:"image-gallery-slides"},De))):p().createElement("div",{className:"image-gallery-slides"},De),xn&&Qr(this.togglePlay,Z),yt&&p().createElement("div",{className:"image-gallery-bullets"},p().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ii)),wt&&ce(this.toggleFullScreen,j),ct&&p().createElement("div",{className:"image-gallery-index"},p().createElement("span",{className:"image-gallery-index-current"},T+1),p().createElement("span",{className:"image-gallery-index-separator"},ue),p().createElement("span",{className:"image-gallery-index-total"},te.length))),vn=h("image-gallery",pe,{"fullscreen-modal":G}),Lt=h("image-gallery-content",this.getThumbnailPositionClassName(ie),{fullscreen:j}),Jr=h("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(ie),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&ee},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!de},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!de});return p().createElement("div",{ref:this.imageGallery,className:vn,"aria-live":"polite"},p().createElement("div",{className:Lt},(ie==="bottom"||ie==="right")&&ri,$e&&_n.length>0?p().createElement(Pu,{className:Jr,delta:0,onSwiping:!de&&this.handleThumbnailSwiping,onSwiped:!de&&this.handleOnThumbnailSwiped},p().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},p().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:ye,"aria-label":"Thumbnail Navigation"},_n))):null,(ie==="top"||ie==="left")&&ri))}}],R&&ku(y.prototype,R),Object.defineProperty(y,"prototype",{writable:!1}),Ie}(p().Component);Hs.propTypes={flickThreshold:B.number,items:(0,B.arrayOf)((0,B.shape)({bulletClass:B.string,bulletOnClick:B.func,description:B.string,original:B.string,originalHeight:B.number,originalWidth:B.number,loading:B.string,thumbnailHeight:B.number,thumbnailWidth:B.number,thumbnailLoading:B.string,fullscreen:B.string,originalAlt:B.string,originalTitle:B.string,thumbnail:B.string,thumbnailAlt:B.string,thumbnailLabel:B.string,thumbnailTitle:B.string,originalClass:B.string,thumbnailClass:B.string,renderItem:B.func,renderThumbInner:B.func,imageSet:da,srcSet:B.string,sizes:B.string})).isRequired,showNav:B.bool,autoPlay:B.bool,lazyLoad:B.bool,infinite:B.bool,showIndex:B.bool,showBullets:B.bool,showThumbnails:B.bool,showPlayButton:B.bool,showFullscreenButton:B.bool,disableThumbnailScroll:B.bool,disableKeyDown:B.bool,disableSwipe:B.bool,disableThumbnailSwipe:B.bool,useBrowserFullscreen:B.bool,onErrorImageURL:B.string,indexSeparator:B.string,thumbnailPosition:(0,B.oneOf)(["top","bottom","left","right"]),startIndex:B.number,slideDuration:B.number,slideInterval:B.number,slideOnThumbnailOver:B.bool,swipeThreshold:B.number,swipingTransitionDuration:B.number,swipingThumbnailTransitionDuration:B.number,onSlide:B.func,onBeforeSlide:B.func,onScreenChange:B.func,onPause:B.func,onPlay:B.func,onClick:B.func,onImageLoad:B.func,onImageError:B.func,onTouchMove:B.func,onTouchEnd:B.func,onTouchStart:B.func,onMouseOver:B.func,onMouseLeave:B.func,onBulletClick:B.func,onThumbnailError:B.func,onThumbnailClick:B.func,renderCustomControls:B.func,renderLeftNav:B.func,renderRightNav:B.func,renderPlayPauseButton:B.func,renderFullscreenButton:B.func,renderItem:B.func,renderThumbInner:B.func,stopPropagation:B.bool,additionalClass:B.string,useTranslate3D:B.bool,isRTL:B.bool,useWindowKeyDown:B.bool},Hs.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onBulletClick:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(I,y){return p().createElement(Kd,{onClick:I,disabled:y})},renderRightNav:function(I,y){return p().createElement(kn,{onClick:I,disabled:y})},renderPlayPauseButton:function(I,y){return p().createElement(Tu,{onClick:I,isPlaying:y})},renderFullscreenButton:function(I,y){return p().createElement(Wd,{onClick:I,isFullscreen:y})},useWindowKeyDown:!0};const Au=Hs})(),a})())})(HP);var cj=HP.exports;const hj=u0(cj),dj=[{original:"https://media.tacdn.com/media/attractions-splice-spp-674x446/0b/2c/ef/d0.jpg",originalHeight:300,originalWidth:300,loading:"lazy",originalAlt:"First placeholder image in gallery"},{original:"https://static.prsa.pl/images/56f92698-7b84-416d-ae66-344c25d948d2.jpg?format=500",originalHeight:300,originalWidth:300,loading:"lazy",originalAlt:"Second placeholder image in gallery"},{original:"https://naukawpolsce.pl/sites/default/files/styles/strona_glowna_slider_750x420/public/202310/46711862_46709856.jpg?itok=oqfQC8-R",originalHeight:300,originalWidth:300,loading:"lazy",originalAlt:"Third placeholder image gallery"}],fj=()=>k.jsx(k.Fragment,{children:k.jsx("div",{className:"image-gallery-wrapper",children:k.jsx(hj,{items:dj,autoPlay:!0,showThumbnails:!1})})});function WP(t,e){const n=F.useRef(e);F.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const pj=1;function mj(t){return Object.freeze({__version:pj,map:t})}function gj(t,e){return Object.freeze({...t,...e})}const KP=F.createContext(null),ZP=KP.Provider;function GP(){const t=F.useContext(KP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function _j(t){function e(n,i){const{instance:r,context:o}=t(n).current;return F.useImperativeHandle(i,()=>r),n.children==null?null:sl.createElement(ZP,{value:o},n.children)}return F.forwardRef(e)}function vj(t){function e(n,i){const[r,o]=F.useState(!1),{instance:a}=t(n,o).current;F.useImperativeHandle(i,()=>a),F.useEffect(function(){r&&a.update()},[a,r,n.children]);const c=a._contentNode;return c?S1.createPortal(n.children,c):null}return F.forwardRef(e)}function yj(t){function e(n,i){const{instance:r}=t(n).current;return F.useImperativeHandle(i,()=>r),null}return F.forwardRef(e)}function qP(t,e){const n=F.useRef();F.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function P_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function wj(t,e){return function(i,r){const o=GP(),a=t(P_(i,o),o);return WP(o.map,i.attribution),qP(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var Pm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(to,function(n){var i="1.9.4";function r(s){var l,u,d,m;for(u=1,d=arguments.length;u<d;u++){m=arguments[u];for(l in m)s[l]=m[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var d=u.call(arguments,2);return function(){return s.apply(l,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function f(s,l,u){var d,m,v,C;return C=function(){d=!1,m&&(v.apply(u,m),m=!1)},v=function(){d?m=arguments:(s.apply(u,arguments),setTimeout(C,l),d=!0)},v}function p(s,l,u){var d=l[1],m=l[0],v=d-m;return s===d&&u?s:((s-m)%v+v)%v+m}function g(){return!1}function _(s,l){if(l===!1)return s;var u=Math.pow(10,l===void 0?6:l);return Math.round(s*u)/u}function S(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function x(s){return S(s).split(/\s+/)}function A(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var u in l)s.options[u]=l[u];return s.options}function O(s,l,u){var d=[];for(var m in s)d.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(s[m]));return(!l||l.indexOf("?")===-1?"?":"&")+d.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function E(s,l){return s.replace(P,function(u,d){var m=l[d];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(l)),m})}var b=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function N(s,l){for(var u=0;u<s.length;u++)if(s[u]===l)return u;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var W=0;function re(s){var l=+new Date,u=Math.max(0,16-(l-W));return W=l+u,window.setTimeout(s,u)}var ke=window.requestAnimationFrame||K("RequestAnimationFrame")||re,ve=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Le(s,l,u){if(u&&ke===re)s.call(l);else return ke.call(window,a(s,l))}function ut(s){s&&ve.call(window,s)}var Fn={__proto__:null,extend:r,create:o,bind:a,get lastId(){return c},stamp:h,throttle:f,wrapNum:p,falseFn:g,formatNum:_,trim:S,splitWords:x,setOptions:A,getParamString:O,template:E,isArray:b,indexOf:N,emptyImageUrl:U,requestFn:ke,cancelFn:ve,requestAnimFrame:Le,cancelAnimFrame:ut};function ft(){}ft.extend=function(s){var l=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=l.__super__=this.prototype,d=o(u);d.constructor=l,l.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(l[m]=this[m]);return s.statics&&r(l,s.statics),s.includes&&(bn(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,C=d._initHooks.length;v<C;v++)d._initHooks[v].call(this)}},l},ft.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},ft.mergeOptions=function(s){return r(this.prototype.options,s),this},ft.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function bn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=b(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ye={on:function(s,l,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],l);else{s=x(s);for(var m=0,v=s.length;m<v;m++)this._on(s[m],l,u)}return this},off:function(s,l,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],l);else{s=x(s);for(var m=arguments.length===1,v=0,C=s.length;v<C;v++)m?this._off(s[v]):this._off(s[v],l,u)}return this},_on:function(s,l,u,d){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,u)===!1){u===this&&(u=void 0);var m={fn:l,ctx:u};d&&(m.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(m)}},_off:function(s,l,u){var d,m,v;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,v=d.length;m<v;m++)d[m].fn=g;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var C=this._listens(s,l,u);if(C!==!1){var D=d[C];this._firingCount&&(D.fn=g,this._events[s]=d=d.slice()),d.splice(C,1)}}},fire:function(s,l,u){if(!this.listens(s,u))return this;var d=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var m=this._events[s];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,C=m.length;v<C;v++){var D=m[v],z=D.fn;D.once&&this.off(s,z,D.ctx),z.call(D.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(s,l,u,d){typeof s!="string"&&console.warn('"string" type argument expected');var m=l;typeof l!="function"&&(d=!!l,m=void 0,u=void 0);var v=this._events&&this._events[s];if(v&&v.length&&this._listens(s,m,u)!==!1)return!0;if(d){for(var C in this._eventParents)if(this._eventParents[C].listens(s,l,u,d))return!0}return!1},_listens:function(s,l,u){if(!this._events)return!1;var d=this._events[s]||[];if(!l)return!!d.length;u===this&&(u=void 0);for(var m=0,v=d.length;m<v;m++)if(d[m].fn===l&&d[m].ctx===u)return m;return!1},once:function(s,l,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],l,!0);else{s=x(s);for(var m=0,v=s.length;m<v;m++)this._on(s[m],l,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Ye.addEventListener=Ye.on,Ye.removeEventListener=Ye.clearAllEventListeners=Ye.off,Ye.addOneTimeEventListener=Ye.once,Ye.fireEvent=Ye.fire,Ye.hasEventListeners=Ye.listens;var un=ft.extend(Ye);function V(s,l,u){this.x=u?Math.round(s):s,this.y=u?Math.round(l):l}var fe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(s){return this.clone()._add(Y(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Y(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new V(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new V(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(s){s=Y(s);var l=s.x-this.x,u=s.y-this.y;return Math.sqrt(l*l+u*u)},equals:function(s){return s=Y(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Y(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function Y(s,l,u){return s instanceof V?s:b(s)?new V(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new V(s.x,s.y):new V(s,l,u)}function ge(s,l){if(s)for(var u=l?[s,l]:s,d=0,m=u.length;d<m;d++)this.extend(u[d])}ge.prototype={extend:function(s){var l,u;if(!s)return this;if(s instanceof V||typeof s[0]=="number"||"x"in s)l=u=Y(s);else if(s=xe(s),l=s.min,u=s.max,!l||!u)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=u.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,u;return typeof s[0]=="number"||s instanceof V?s=Y(s):s=xe(s),s instanceof ge?(l=s.min,u=s.max):l=u=s,l.x>=this.min.x&&u.x<=this.max.x&&l.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=xe(s);var l=this.min,u=this.max,d=s.min,m=s.max,v=m.x>=l.x&&d.x<=u.x,C=m.y>=l.y&&d.y<=u.y;return v&&C},overlaps:function(s){s=xe(s);var l=this.min,u=this.max,d=s.min,m=s.max,v=m.x>l.x&&d.x<u.x,C=m.y>l.y&&d.y<u.y;return v&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,u=this.max,d=Math.abs(l.x-u.x)*s,m=Math.abs(l.y-u.y)*s;return xe(Y(l.x-d,l.y-m),Y(u.x+d,u.y+m))},equals:function(s){return s?(s=xe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function xe(s,l){return!s||s instanceof ge?s:new ge(s,l)}function et(s,l){if(s)for(var u=l?[s,l]:s,d=0,m=u.length;d<m;d++)this.extend(u[d])}et.prototype={extend:function(s){var l=this._southWest,u=this._northEast,d,m;if(s instanceof Oe)d=s,m=s;else if(s instanceof et){if(d=s._southWest,m=s._northEast,!d||!m)return this}else return s?this.extend(Se(s)||ze(s)):this;return!l&&!u?(this._southWest=new Oe(d.lat,d.lng),this._northEast=new Oe(m.lat,m.lng)):(l.lat=Math.min(d.lat,l.lat),l.lng=Math.min(d.lng,l.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(s){var l=this._southWest,u=this._northEast,d=Math.abs(l.lat-u.lat)*s,m=Math.abs(l.lng-u.lng)*s;return new et(new Oe(l.lat-d,l.lng-m),new Oe(u.lat+d,u.lng+m))},getCenter:function(){return new Oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Oe||"lat"in s?s=Se(s):s=ze(s);var l=this._southWest,u=this._northEast,d,m;return s instanceof et?(d=s.getSouthWest(),m=s.getNorthEast()):d=m=s,d.lat>=l.lat&&m.lat<=u.lat&&d.lng>=l.lng&&m.lng<=u.lng},intersects:function(s){s=ze(s);var l=this._southWest,u=this._northEast,d=s.getSouthWest(),m=s.getNorthEast(),v=m.lat>=l.lat&&d.lat<=u.lat,C=m.lng>=l.lng&&d.lng<=u.lng;return v&&C},overlaps:function(s){s=ze(s);var l=this._southWest,u=this._northEast,d=s.getSouthWest(),m=s.getNorthEast(),v=m.lat>l.lat&&d.lat<u.lat,C=m.lng>l.lng&&d.lng<u.lng;return v&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=ze(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ze(s,l){return s instanceof et?s:new et(s,l)}function Oe(s,l,u){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,u!==void 0&&(this.alt=+u)}Oe.prototype={equals:function(s,l){if(!s)return!1;s=Se(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+_(this.lat,s)+", "+_(this.lng,s)+")"},distanceTo:function(s){return ei.distance(this,Se(s))},wrap:function(){return ei.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,u=l/Math.cos(Math.PI/180*this.lat);return ze([this.lat-l,this.lng-u],[this.lat+l,this.lng+u])},clone:function(){return new Oe(this.lat,this.lng,this.alt)}};function Se(s,l,u){return s instanceof Oe?s:b(s)&&typeof s[0]!="object"?s.length===3?new Oe(s[0],s[1],s[2]):s.length===2?new Oe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Oe(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Oe(s,l,u)}var $t={latLngToPoint:function(s,l){var u=this.projection.project(s),d=this.scale(l);return this.transformation._transform(u,d)},pointToLatLng:function(s,l){var u=this.scale(l),d=this.transformation.untransform(s,u);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,u=this.scale(s),d=this.transformation.transform(l.min,u),m=this.transformation.transform(l.max,u);return new ge(d,m)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?p(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?p(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new Oe(u,l,d)},wrapLatLngBounds:function(s){var l=s.getCenter(),u=this.wrapLatLng(l),d=l.lat-u.lat,m=l.lng-u.lng;if(d===0&&m===0)return s;var v=s.getSouthWest(),C=s.getNorthEast(),D=new Oe(v.lat-d,v.lng-m),z=new Oe(C.lat-d,C.lng-m);return new et(D,z)}},ei=r({},$t,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var u=Math.PI/180,d=s.lat*u,m=l.lat*u,v=Math.sin((l.lat-s.lat)*u/2),C=Math.sin((l.lng-s.lng)*u/2),D=v*v+Math.cos(d)*Math.cos(m)*C*C,z=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*z}}),Yo=6378137,ti={R:Yo,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,s.lat),-u),m=Math.sin(d*l);return new V(this.R*s.lng*l,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(s){var l=180/Math.PI;return new Oe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=Yo*Math.PI;return new ge([-s,-s],[s,s])}()};function Ns(s,l,u,d){if(b(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=u,this._d=d}Ns.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new V((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function ni(s,l,u,d){return new Ns(s,l,u,d)}var Ds=r({},ei,{code:"EPSG:3857",projection:ti,transformation:function(){var s=.5/(Math.PI*ti.R);return ni(s,.5,-s,.5)}()}),zd=r({},Ds,{code:"EPSG:900913"});function gu(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Zr(s,l){var u="",d,m,v,C,D,z;for(d=0,v=s.length;d<v;d++){for(D=s[d],m=0,C=D.length;m<C;m++)z=D[m],u+=(m?"L":"M")+z.x+" "+z.y;u+=l?he.svg?"z":"x":""}return u||"M0 0"}var Xo=document.documentElement.style,Ms="ActiveXObject"in window,Fd=Ms&&!document.addEventListener,ea="msLaunchUri"in navigator&&!("documentMode"in document),js=kn("webkit"),ta=kn("android"),Pi=kn("android 2")||kn("android 3"),Ii=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ji=ta&&kn("Google")&&Ii<537&&!("AudioNode"in window),Vn=!!window.opera,bi=!ea&&kn("chrome"),zs=kn("gecko")&&!js&&!Vn&&!Ms,_u=!bi&&kn("safari"),na=kn("phantom"),ia="OTransition"in Xo,Vd=navigator.platform.indexOf("Win")===0,B=Ms&&"transition"in Xo,ki="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pi,ra="MozPerspective"in Xo,vu=!window.L_DISABLE_3D&&(B||ki||ra)&&!ia&&!na,Gr=typeof orientation<"u"||kn("mobile"),Ud=Gr&&js,sa=Gr&&ki,yu=!window.PointerEvent&&window.MSPointerEvent,Yi=!!(window.PointerEvent||yu),oa="ontouchstart"in window||!!window.TouchEvent,wu=!window.L_NO_TOUCH&&(oa||Yi),Bd=Gr&&Vn,$d=Gr&&zs,Hd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Eu=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return s}(),Fs=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&gu("svg").createSVGRect),Wd=!!qr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),aa=!qr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Kd=navigator.platform.indexOf("Mac")===0,la=navigator.platform.indexOf("Linux")===0;function kn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var he={ie:Ms,ielt9:Fd,edge:ea,webkit:js,android:ta,android23:Pi,androidStock:Ji,opera:Vn,chrome:bi,gecko:zs,safari:_u,phantom:na,opera12:ia,win:Vd,ie3d:B,webkit3d:ki,gecko3d:ra,any3d:vu,mobile:Gr,mobileWebkit:Ud,mobileWebkit3d:sa,msPointer:yu,pointer:Yi,touch:wu,touchNative:oa,mobileOpera:Bd,mobileGecko:$d,retina:Hd,passiveEvents:Eu,canvas:Fs,svg:qr,vml:aa,inlineSvg:Wd,mac:Kd,linux:la},Tu=he.msPointer?"MSPointerDown":"pointerdown",Xi=he.msPointer?"MSPointerMove":"pointermove",Vs=he.msPointer?"MSPointerUp":"pointerup",ua=he.msPointer?"MSPointerCancel":"pointercancel",Us={touchstart:Tu,touchmove:Xi,touchend:Vs,touchcancel:ua},Su={touchstart:tt,touchmove:Bs,touchend:Bs,touchcancel:Bs},er={},ca=!1;function Pu(s,l,u){return l==="touchstart"&&ha(),Su[l]?(u=Su[l].bind(this,u),s.addEventListener(Us[l],u,!1),u):(console.warn("wrong event specified:",l),g)}function tr(s,l,u){if(!Us[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Us[l],u,!1)}function Iu(s){er[s.pointerId]=s}function bu(s){er[s.pointerId]&&(er[s.pointerId]=s)}function ku(s){delete er[s.pointerId]}function ha(){ca||(document.addEventListener(Tu,Iu,!0),document.addEventListener(Xi,bu,!0),document.addEventListener(Vs,ku,!0),document.addEventListener(ua,ku,!0),ca=!0)}function Bs(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var u in er)l.touches.push(er[u]);l.changedTouches=[l],s(l)}}function tt(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ot(l),Bs(s,l)}function $s(s){var l={},u,d;for(d in s)u=s[d],l[d]=u&&u.bind?u.bind(s):u;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var xu=200;function Cu(s,l){s.addEventListener("dblclick",l);var u=0,d;function m(v){if(v.detail!==1){d=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var C=k_(v);if(!(C.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!C.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var D=Date.now();D-u<=xu?(d++,d===2&&l($s(v))):d=1,u=D}}}return s.addEventListener("click",m),{dblclick:l,simDblclick:m}}function Ru(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var da=pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nr=pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Hs=nr==="webkitTransition"||nr==="OTransition"?nr+"End":"transitionend";function Au(s){return typeof s=="string"?document.getElementById(s):s}function I(s,l){var u=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);u=d?d[l]:null}return u==="auto"?null:u}function y(s,l,u){var d=document.createElement(s);return d.className=l||"",u&&u.appendChild(d),d}function R(s){var l=s.parentNode;l&&l.removeChild(s)}function M(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function q(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function le(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Ie(s,l){if(s.classList!==void 0)return s.classList.contains(l);var u=G(s);return u.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(u)}function w(s,l){if(s.classList!==void 0)for(var u=x(l),d=0,m=u.length;d<m;d++)s.classList.add(u[d]);else if(!Ie(s,l)){var v=G(s);j(s,(v?v+" ":"")+l)}}function T(s,l){s.classList!==void 0?s.classList.remove(l):j(s,S((" "+G(s)+" ").replace(" "+l+" "," ")))}function j(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function G(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Z(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&X(s,l)}function X(s,l){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(d)}catch{if(l===1)return}l=Math.round(l*100),u?(u.Enabled=l!==100,u.Opacity=l):s.style.filter+=" progid:"+d+"(opacity="+l+")"}function pe(s){for(var l=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in l)return s[u];return!1}function de(s,l,u){var d=l||new V(0,0);s.style[da]=(he.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function ue(s,l){s._leaflet_pos=l,he.any3d?de(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ee(s){return s._leaflet_pos||new V(0,0)}var te,ie,ce;if("onselectstart"in document)te=function(){ye(window,"selectstart",Ot)},ie=function(){De(window,"selectstart",Ot)};else{var we=pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);te=function(){if(we){var s=document.documentElement.style;ce=s[we],s[we]="none"}},ie=function(){we&&(document.documentElement.style[we]=ce,ce=void 0)}}function Ne(){ye(window,"dragstart",Ot)}function He(){De(window,"dragstart",Ot)}var yt,wt;function ct(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&($e(),yt=s,wt=s.style.outlineStyle,s.style.outlineStyle="none",ye(window,"keydown",$e))}function $e(){yt&&(yt.style.outlineStyle=wt,yt=void 0,wt=void 0,De(window,"keydown",$e))}function Fe(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function xn(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Qr={__proto__:null,TRANSFORM:da,TRANSITION:nr,TRANSITION_END:Hs,get:Au,getStyle:I,create:y,remove:R,empty:M,toFront:q,toBack:le,hasClass:Ie,addClass:w,removeClass:T,setClass:j,getClass:G,setOpacity:Z,testProp:pe,setTransform:de,setPosition:ue,getPosition:ee,get disableTextSelection(){return te},get enableTextSelection(){return ie},disableImageDrag:Ne,enableImageDrag:He,preventOutline:ct,restoreOutline:$e,getSizedParentNode:Fe,getScale:xn};function ye(s,l,u,d){if(l&&typeof l=="object")for(var m in l)xi(s,m,l[m],u);else{l=x(l);for(var v=0,C=l.length;v<C;v++)xi(s,l[v],u,d)}return this}var pt="_leaflet_events";function De(s,l,u,d){if(arguments.length===1)_n(s),delete s[pt];else if(l&&typeof l=="object")for(var m in l)ri(s,m,l[m],u);else if(l=x(l),arguments.length===2)_n(s,function(D){return N(l,D)!==-1});else for(var v=0,C=l.length;v<C;v++)ri(s,l[v],u,d);return this}function _n(s,l){for(var u in s[pt]){var d=u.split(/\d/)[0];(!l||l(d))&&ri(s,d,null,null,u)}}var ii={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xi(s,l,u,d){var m=l+h(u)+(d?"_"+h(d):"");if(s[pt]&&s[pt][m])return this;var v=function(D){return u.call(d||s,D||window.event)},C=v;!he.touchNative&&he.pointer&&l.indexOf("touch")===0?v=Pu(s,l,v):he.touch&&l==="dblclick"?v=Cu(s,v):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(ii[l]||l,v,he.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(v=function(D){D=D||window.event,Zd(s,D)&&C(D)},s.addEventListener(ii[l],v,!1)):s.addEventListener(l,C,!1):s.attachEvent("on"+l,v),s[pt]=s[pt]||{},s[pt][m]=v}function ri(s,l,u,d,m){m=m||l+h(u)+(d?"_"+h(d):"");var v=s[pt]&&s[pt][m];if(!v)return this;!he.touchNative&&he.pointer&&l.indexOf("touch")===0?tr(s,l,v):he.touch&&l==="dblclick"?Ru(s,v):"removeEventListener"in s?s.removeEventListener(ii[l]||l,v,!1):s.detachEvent("on"+l,v),s[pt][m]=null}function vn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Lt(s){return xi(s,"wheel",vn),this}function Jr(s){return ye(s,"mousedown touchstart dblclick contextmenu",vn),s._leaflet_disable_click=!0,this}function Ot(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Yr(s){return Ot(s),vn(s),this}function k_(s){if(s.composedPath)return s.composedPath();for(var l=[],u=s.target;u;)l.push(u),u=u.parentNode;return l}function x_(s,l){if(!l)return new V(s.clientX,s.clientY);var u=xn(l),d=u.boundingClientRect;return new V((s.clientX-d.left)/u.x-l.clientLeft,(s.clientY-d.top)/u.y-l.clientTop)}var tI=he.linux&&he.chrome?window.devicePixelRatio:he.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function C_(s){return he.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/tI:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Zd(s,l){var u=l.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var nI={__proto__:null,on:ye,off:De,stopPropagation:vn,disableScrollPropagation:Lt,disableClickPropagation:Jr,preventDefault:Ot,stop:Yr,getPropagationPath:k_,getMousePosition:x_,getWheelDelta:C_,isExternalTarget:Zd,addListener:ye,removeListener:De},R_=un.extend({run:function(s,l,u,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=ee(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Le(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,u=this._duration*1e3;l<u?this._runFrame(this._easeOut(l/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var u=this._startPos.add(this._offset.multiplyBy(s));l&&u._round(),ue(this._el,u),this.fire("step")},_complete:function(){ut(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Me=un.extend({options:{crs:Ds,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=A(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Se(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nr&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,Hs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,u){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(Se(s),l,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=r({animate:u.animate},u.zoom),u.pan=r({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,u.zoom):this._tryAnimatedPan(s,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,u){var d=this.getZoomScale(l),m=this.getSize().divideBy(2),v=s instanceof V?s:this.latLngToContainerPoint(s),C=v.subtract(m).multiplyBy(1-1/d),D=this.containerPointToLatLng(m.add(C));return this.setView(D,l,{zoom:u})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():ze(s);var u=Y(l.paddingTopLeft||l.padding||[0,0]),d=Y(l.paddingBottomRight||l.padding||[0,0]),m=this.getBoundsZoom(s,!1,u.add(d));if(m=typeof l.maxZoom=="number"?Math.min(l.maxZoom,m):m,m===1/0)return{center:s.getCenter(),zoom:m};var v=d.subtract(u).divideBy(2),C=this.project(s.getSouthWest(),m),D=this.project(s.getNorthEast(),m),z=this.unproject(C.add(D).divideBy(2).add(v),m);return{center:z,zoom:m}},fitBounds:function(s,l){if(s=ze(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,l);return this.setView(u.center,u.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=Y(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new R_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){w(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,u){if(u=u||{},u.animate===!1||!he.any3d)return this.setView(s,l,u);this._stop();var d=this.project(this.getCenter()),m=this.project(s),v=this.getSize(),C=this._zoom;s=Se(s),l=l===void 0?C:l;var D=Math.max(v.x,v.y),z=D*this.getZoomScale(C,l),$=m.distanceTo(d)||1,se=1.42,_e=se*se;function be(mt){var $u=mt?-1:1,HI=mt?z:D,WI=z*z-D*D+$u*_e*_e*$*$,KI=2*HI*_e*$,sf=WI/KI,cv=Math.sqrt(sf*sf+1)-sf,ZI=cv<1e-9?-18:Math.log(cv);return ZI}function tn(mt){return(Math.exp(mt)-Math.exp(-mt))/2}function St(mt){return(Math.exp(mt)+Math.exp(-mt))/2}function Rn(mt){return tn(mt)/St(mt)}var cn=be(0);function Qs(mt){return D*(St(cn)/St(cn+se*mt))}function VI(mt){return D*(St(cn)*Rn(cn+se*mt)-tn(cn))/_e}function UI(mt){return 1-Math.pow(1-mt,1.5)}var BI=Date.now(),lv=(be(1)-cn)/se,$I=u.duration?1e3*u.duration:1e3*lv*.8;function uv(){var mt=(Date.now()-BI)/$I,$u=UI(mt)*lv;mt<=1?(this._flyToFrame=Le(uv,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(VI($u)/$)),C),this.getScaleZoom(D/Qs($u),C),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),uv.call(this),this},flyToBounds:function(s,l){var u=this._getBoundsCenterZoom(s,l);return this.flyTo(u.center,u.zoom,l)},setMaxBounds:function(s){return s=ze(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,ze(s));return u.equals(d)||this.panTo(d,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var u=Y(l.paddingTopLeft||l.padding||[0,0]),d=Y(l.paddingBottomRight||l.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(s),C=this.getPixelBounds(),D=xe([C.min.add(u),C.max.subtract(d)]),z=D.getSize();if(!D.contains(v)){this._enforcingBounds=!0;var $=v.subtract(D.getCenter()),se=D.extend(v).getSize().subtract(z);m.x+=$.x<0?-se.x:se.x,m.y+=$.y<0?-se.y:se.y,this.panTo(this.unproject(m),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=l.divideBy(2).round(),m=u.divideBy(2).round(),v=d.subtract(m);return!v.x&&!v.y?this:(s.animate&&s.pan?this.panBy(v):(s.pan&&this._rawPanBy(v),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),u=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,u,s):navigator.geolocation.getCurrentPosition(l,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,u=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,u=s.coords.longitude,d=new Oe(l,u),m=d.toBounds(s.coords.accuracy*2),v=this._locateOptions;if(v.setView){var C=this.getBoundsZoom(m);this.setView(d,v.maxZoom?Math.min(C,v.maxZoom):C)}var D={latlng:d,bounds:m,timestamp:s.timestamp};for(var z in s.coords)typeof s.coords[z]=="number"&&(D[z]=s.coords[z]);this.fire("locationfound",D)}},addHandler:function(s,l){if(!l)return this;var u=this[s]=new l(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),R(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ut(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)R(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=y("div",u,l||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new et(l,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,u){s=ze(s),u=Y(u||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),C=s.getNorthWest(),D=s.getSouthEast(),z=this.getSize().subtract(u),$=xe(this.project(D,d),this.project(C,d)).getSize(),se=he.any3d?this.options.zoomSnap:1,_e=z.x/$.x,be=z.y/$.y,tn=l?Math.max(_e,be):Math.min(_e,be);return d=this.getScaleZoom(tn,d),se&&(d=Math.round(d/(se/100))*(se/100),d=l?Math.ceil(d/se)*se:Math.floor(d/se)*se),Math.max(m,Math.min(v,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var u=this._getTopLeftPoint(s,l);return new ge(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var u=this.options.crs;return l=l===void 0?this._zoom:l,u.scale(s)/u.scale(l)},getScaleZoom:function(s,l){var u=this.options.crs;l=l===void 0?this._zoom:l;var d=u.zoom(s*u.scale(l));return isNaN(d)?1/0:d},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Se(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Y(s),l)},layerPointToLatLng:function(s){var l=Y(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(Se(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Se(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ze(s))},distance:function(s,l){return this.options.crs.distance(Se(s),Se(l))},containerPointToLayerPoint:function(s){return Y(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Y(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(Y(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(s)))},mouseEventToContainerPoint:function(s){return x_(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Au(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,w(s,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=I(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ue(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(w(s.markerPane,"leaflet-zoom-hide"),w(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,u){ue(this._mapPane,new V(0,0));var d=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var m=this._zoom!==l;this._moveStart(m,u)._move(s,l)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,u,d){l===void 0&&(l=this._zoom);var m=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ut(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ue(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?De:ye;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ut(this._resizeRequest),this._resizeRequest=Le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var u=[],d,m=l==="mouseout"||l==="mouseover",v=s.target||s.srcElement,C=!1;v;){if(d=this._targets[h(v)],d&&(l==="click"||l==="preclick")&&this._draggableMoved(d)){C=!0;break}if(d&&d.listens(l,!0)&&(m&&!Zd(v,s)||(u.push(d),m))||v===this._container)break;v=v.parentNode}return!u.length&&!C&&!m&&this.listens(l,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var u=s.type;u==="mousedown"&&ct(l),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,u){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var m=this._findEventTargets(s,l);if(u){for(var v=[],C=0;C<u.length;C++)u[C].listens(l,!0)&&v.push(u[C]);m=v.concat(m)}if(m.length){l==="contextmenu"&&Ot(s);var D=m[0],z={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var $=D.getLatLng&&(!D._radius||D._radius<=10);z.containerPoint=$?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(s),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=$?D.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(C=0;C<m.length;C++)if(m[C].fire(l,z,!0),z.originalEvent._stopped||m[C].options.bubblingMouseEvents===!1&&N(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ee(this._mapPane)||new V(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var u=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var u=this.getSize()._divideBy(2);return this.project(s,l)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,u){var d=this._getNewPixelOrigin(u,l);return this.project(s,l)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,l,u){var d=this._getNewPixelOrigin(u,l);return xe([this.project(s.getSouthWest(),l)._subtract(d),this.project(s.getNorthWest(),l)._subtract(d),this.project(s.getSouthEast(),l)._subtract(d),this.project(s.getNorthEast(),l)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,u){if(!u)return s;var d=this.project(s,l),m=this.getSize().divideBy(2),v=new ge(d.subtract(m),d.add(m)),C=this._getBoundsOffset(v,u,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(d.add(C),l)},_limitOffset:function(s,l){if(!l)return s;var u=this.getPixelBounds(),d=new ge(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(d,l))},_getBoundsOffset:function(s,l,u){var d=xe(this.project(l.getNorthEast(),u),this.project(l.getSouthWest(),u)),m=d.min.subtract(s.min),v=d.max.subtract(s.max),C=this._rebound(m.x,-v.x),D=this._rebound(m.y,-v.y);return new V(C,D)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),u=this.getMaxZoom(),d=he.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(l,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){T(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var u=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,l),!0)},_createAnimProxy:function(){var s=this._proxy=y("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var u=da,d=this._proxy.style[u];de(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){R(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();de(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(l),m=this._getCenterOffset(s)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(m)?!1:(Le(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,w(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&T(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function iI(s,l){return new Me(s,l)}var Un=ft.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),u=this.getPosition(),d=s._controlCorners[u];return w(l,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(R(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),fa=function(s){return new Un(s)};Me.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",u=this._controlContainer=y("div",l+"control-container",this._container);function d(m,v){var C=l+m+" "+l+v;s[m+v]=y("div",C,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)R(this._controlCorners[s]);R(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var A_=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,u,d){return u<d?-1:d<u?1:0}},initialize:function(s,l,u){A(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in l)this._addLayer(l[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Un.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){w(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(w(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):T(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return T(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=y("div",s),u=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Jr(l),Lt(l);var d=this._section=y("section",s+"-list");u&&(this._map.on("click",this.collapse,this),ye(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=y("a",s+"-toggle",l);m.href="#",m.title="Layers",m.setAttribute("role","button"),ye(m,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Ot(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=y("div",s+"-base",d),this._separator=y("div",s+"-separator",d),this._overlaysList=y("div",s+"-overlays",d),l.appendChild(d)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:u}),this.options.sortLayers&&this._layers.sort(a(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;M(this._baseLayersList),M(this._overlaysList),this._layerControlInputs=[];var s,l,u,d,m=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),l=l||d.overlay,s=s||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&m>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),u=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,l)},_createRadioElement:function(s,l){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(s){var l=document.createElement("label"),u=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(s.layer),ye(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+s.name;var v=document.createElement("span");l.appendChild(v),v.appendChild(d),v.appendChild(m);var C=s.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,u,d=[],m=[];this._handlingClick=!0;for(var v=s.length-1;v>=0;v--)l=s[v],u=this._getLayer(l.layerId).layer,l.checked?d.push(u):l.checked||m.push(u);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])||this._map.addLayer(d[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,u,d=this._map.getZoom(),m=s.length-1;m>=0;m--)l=s[m],u=this._getLayer(l.layerId).layer,l.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ye(s,"click",Ot),this.expand();var l=this;setTimeout(function(){De(s,"click",Ot),l._preventClick=!1})}}),rI=function(s,l,u){return new A_(s,l,u)},Gd=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",u=y("div",l+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,l+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,l+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,u,d,m){var v=y("a",u,d);return v.innerHTML=s,v.href="#",v.title=l,v.setAttribute("role","button"),v.setAttribute("aria-label",l),Jr(v),ye(v,"click",Yr),ye(v,"click",m,this),ye(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";T(this._zoomInButton,l),T(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(w(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(w(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Me.mergeOptions({zoomControl:!0}),Me.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gd,this.addControl(this.zoomControl))});var sI=function(s){return new Gd(s)},L_=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",u=y("div",l),d=this.options;return this._addScales(d,l+"-line",u),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,u){s.metric&&(this._mScale=y("div",l,u)),s.imperial&&(this._iScale=y("div",l,u))},_update:function(){var s=this._map,l=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),u=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,u,l/s)},_updateImperial:function(s){var l=s*3.2808399,u,d,m;l>5280?(u=l/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(m=this._getRoundNum(l),this._updateScale(this._iScale,m+" ft",m/l))},_updateScale:function(s,l,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),u=s/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,l*u}}),oI=function(s){return new L_(s)},aI='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qd=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?aI+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=y("div","leaflet-control-attribution"),Jr(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Me.mergeOptions({attributionControl:!0}),Me.addInitHook(function(){this.options.attributionControl&&new qd().addTo(this)});var lI=function(s){return new qd(s)};Un.Layers=A_,Un.Zoom=Gd,Un.Scale=L_,Un.Attribution=qd,fa.layers=rI,fa.zoom=sI,fa.scale=oI,fa.attribution=lI;var si=ft.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(s,l){return s.addHandler(l,this),this};var uI={Events:Ye},O_=he.touch?"touchstart mousedown":"mousedown",ir=un.extend({options:{clickTolerance:3},initialize:function(s,l,u,d){A(this,d),this._element=s,this._dragStartTarget=l||s,this._preventOutline=u},enable:function(){this._enabled||(ye(this._dragStartTarget,O_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ir._dragging===this&&this.finishDrag(!0),De(this._dragStartTarget,O_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ir._dragging===this&&this.finishDrag();return}if(!(ir._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ir._dragging=this,this._preventOutline&&ct(this._element),Ne(),te(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,u=Fe(this._element);this._startPoint=new V(l.clientX,l.clientY),this._startPos=ee(this._element),this._parentScale=xn(u);var d=s.type==="mousedown";ye(document,d?"mousemove":"touchmove",this._onMove,this),ye(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,u=new V(l.clientX,l.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ot(s),this._moved||(this.fire("dragstart"),this._moved=!0,w(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),w(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ue(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){T(document.body,"leaflet-dragging"),this._lastTarget&&(T(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),De(document,"mousemove touchmove",this._onMove,this),De(document,"mouseup touchend touchcancel",this._onUp,this),He(),ie();var l=this._moved&&this._moving;this._moving=!1,ir._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function N_(s,l,u){var d,m=[1,4,2,8],v,C,D,z,$,se,_e,be;for(v=0,se=s.length;v<se;v++)s[v]._code=Xr(s[v],l);for(D=0;D<4;D++){for(_e=m[D],d=[],v=0,se=s.length,C=se-1;v<se;C=v++)z=s[v],$=s[C],z._code&_e?$._code&_e||(be=Lu($,z,_e,l,u),be._code=Xr(be,l),d.push(be)):($._code&_e&&(be=Lu($,z,_e,l,u),be._code=Xr(be,l),d.push(be)),d.push(z));s=d}return s}function D_(s,l){var u,d,m,v,C,D,z,$,se;if(!s||s.length===0)throw new Error("latlngs not passed");Cn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _e=Se([0,0]),be=ze(s),tn=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());tn<1700&&(_e=Qd(s));var St=s.length,Rn=[];for(u=0;u<St;u++){var cn=Se(s[u]);Rn.push(l.project(Se([cn.lat-_e.lat,cn.lng-_e.lng])))}for(D=z=$=0,u=0,d=St-1;u<St;d=u++)m=Rn[u],v=Rn[d],C=m.y*v.x-v.y*m.x,z+=(m.x+v.x)*C,$+=(m.y+v.y)*C,D+=C*3;D===0?se=Rn[0]:se=[z/D,$/D];var Qs=l.unproject(Y(se));return Se([Qs.lat+_e.lat,Qs.lng+_e.lng])}function Qd(s){for(var l=0,u=0,d=0,m=0;m<s.length;m++){var v=Se(s[m]);l+=v.lat,u+=v.lng,d++}return Se([l/d,u/d])}var cI={__proto__:null,clipPolygon:N_,polygonCenter:D_,centroid:Qd};function M_(s,l){if(!l||!s.length)return s.slice();var u=l*l;return s=fI(s,u),s=dI(s,u),s}function j_(s,l,u){return Math.sqrt(pa(s,l,u,!0))}function hI(s,l,u){return pa(s,l,u)}function dI(s,l){var u=s.length,d=typeof Uint8Array<"u"?Uint8Array:Array,m=new d(u);m[0]=m[u-1]=1,Jd(s,m,l,0,u-1);var v,C=[];for(v=0;v<u;v++)m[v]&&C.push(s[v]);return C}function Jd(s,l,u,d,m){var v=0,C,D,z;for(D=d+1;D<=m-1;D++)z=pa(s[D],s[d],s[m],!0),z>v&&(C=D,v=z);v>u&&(l[C]=1,Jd(s,l,u,d,C),Jd(s,l,u,C,m))}function fI(s,l){for(var u=[s[0]],d=1,m=0,v=s.length;d<v;d++)pI(s[d],s[m])>l&&(u.push(s[d]),m=d);return m<v-1&&u.push(s[v-1]),u}var z_;function F_(s,l,u,d,m){var v=d?z_:Xr(s,u),C=Xr(l,u),D,z,$;for(z_=C;;){if(!(v|C))return[s,l];if(v&C)return!1;D=v||C,z=Lu(s,l,D,u,m),$=Xr(z,u),D===v?(s=z,v=$):(l=z,C=$)}}function Lu(s,l,u,d,m){var v=l.x-s.x,C=l.y-s.y,D=d.min,z=d.max,$,se;return u&8?($=s.x+v*(z.y-s.y)/C,se=z.y):u&4?($=s.x+v*(D.y-s.y)/C,se=D.y):u&2?($=z.x,se=s.y+C*(z.x-s.x)/v):u&1&&($=D.x,se=s.y+C*(D.x-s.x)/v),new V($,se,m)}function Xr(s,l){var u=0;return s.x<l.min.x?u|=1:s.x>l.max.x&&(u|=2),s.y<l.min.y?u|=4:s.y>l.max.y&&(u|=8),u}function pI(s,l){var u=l.x-s.x,d=l.y-s.y;return u*u+d*d}function pa(s,l,u,d){var m=l.x,v=l.y,C=u.x-m,D=u.y-v,z=C*C+D*D,$;return z>0&&($=((s.x-m)*C+(s.y-v)*D)/z,$>1?(m=u.x,v=u.y):$>0&&(m+=C*$,v+=D*$)),C=s.x-m,D=s.y-v,d?C*C+D*D:new V(m,v)}function Cn(s){return!b(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function V_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Cn(s)}function U_(s,l){var u,d,m,v,C,D,z,$;if(!s||s.length===0)throw new Error("latlngs not passed");Cn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var se=Se([0,0]),_e=ze(s),be=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());be<1700&&(se=Qd(s));var tn=s.length,St=[];for(u=0;u<tn;u++){var Rn=Se(s[u]);St.push(l.project(Se([Rn.lat-se.lat,Rn.lng-se.lng])))}for(u=0,d=0;u<tn-1;u++)d+=St[u].distanceTo(St[u+1])/2;if(d===0)$=St[0];else for(u=0,v=0;u<tn-1;u++)if(C=St[u],D=St[u+1],m=C.distanceTo(D),v+=m,v>d){z=(v-d)/m,$=[D.x-z*(D.x-C.x),D.y-z*(D.y-C.y)];break}var cn=l.unproject(Y($));return Se([cn.lat+se.lat,cn.lng+se.lng])}var mI={__proto__:null,simplify:M_,pointToSegmentDistance:j_,closestPointOnSegment:hI,clipSegment:F_,_getEdgeIntersection:Lu,_getBitCode:Xr,_sqClosestPointOnSegment:pa,isFlat:Cn,_flat:V_,polylineCenter:U_},Yd={project:function(s){return new V(s.lng,s.lat)},unproject:function(s){return new Oe(s.y,s.x)},bounds:new ge([-180,-90],[180,90])},Xd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ge([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,u=this.R,d=s.lat*l,m=this.R_MINOR/u,v=Math.sqrt(1-m*m),C=v*Math.sin(d),D=Math.tan(Math.PI/4-d/2)/Math.pow((1-C)/(1+C),v/2);return d=-u*Math.log(Math.max(D,1e-10)),new V(s.lng*l*u,d)},unproject:function(s){for(var l=180/Math.PI,u=this.R,d=this.R_MINOR/u,m=Math.sqrt(1-d*d),v=Math.exp(-s.y/u),C=Math.PI/2-2*Math.atan(v),D=0,z=.1,$;D<15&&Math.abs(z)>1e-7;D++)$=m*Math.sin(C),$=Math.pow((1-$)/(1+$),m/2),z=Math.PI/2-2*Math.atan(v*$)-C,C+=z;return new Oe(C*l,s.x*l/u)}},gI={__proto__:null,LonLat:Yd,Mercator:Xd,SphericalMercator:ti},_I=r({},ei,{code:"EPSG:3395",projection:Xd,transformation:function(){var s=.5/(Math.PI*Xd.R);return ni(s,.5,-s,.5)}()}),B_=r({},ei,{code:"EPSG:4326",projection:Yd,transformation:ni(1/180,1,-1/180,.5)}),vI=r({},$t,{projection:Yd,transformation:ni(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var u=l.lng-s.lng,d=l.lat-s.lat;return Math.sqrt(u*u+d*d)},infinite:!0});$t.Earth=ei,$t.EPSG3395=_I,$t.EPSG3857=Ds,$t.EPSG900913=zd,$t.EPSG4326=B_,$t.Simple=vI;var Bn=un.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var u=this.getEvents();l.on(u,this),this.once("remove",function(){l.off(u,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Me.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},_addLayers:function(s){s=s?b(s)?s:[s]:[];for(var l=0,u=s.length;l<u;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;s=m.minZoom===void 0?s:Math.min(s,m.minZoom),l=m.maxZoom===void 0?l:Math.max(l,m.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=Bn.extend({initialize:function(s,l){A(this,l),this._layers={};var u,d;if(s)for(u=0,d=s.length;u<d;u++)this.addLayer(s[u])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[s]&&d[s].apply(d,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),yI=function(s,l){return new Ws(s,l)},Ci=Ws.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ws.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ws.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new et;for(var l in this._layers){var u=this._layers[l];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),wI=function(s,l){return new Ci(s,l)},Ks=ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,l){var u=this.options,d=u[l+"Size"];typeof d=="number"&&(d=[d,d]);var m=Y(d),v=Y(l==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(u.className||""),v&&(s.style.marginLeft=-v.x+"px",s.style.marginTop=-v.y+"px"),m&&(s.style.width=m.x+"px",s.style.height=m.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return he.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function EI(s){return new Ks(s)}var ma=Ks.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ma.imagePath!="string"&&(ma.imagePath=this._detectIconPath()),(this.options.imagePath||ma.imagePath)+Ks.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(u,d,m){var v=d.exec(u);return v&&v[m]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=y("div","leaflet-default-icon-path",document.body),l=I(s,"background-image")||I(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),$_=si.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ir(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),w(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&T(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,u=l._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=ee(l._icon),C=u.getPixelBounds(),D=u.getPixelOrigin(),z=xe(C.min._subtract(D).add(m),C.max._subtract(D).subtract(m));if(!z.contains(v)){var $=Y((Math.max(z.max.x,v.x)-z.max.x)/(C.max.x-z.max.x)-(Math.min(z.min.x,v.x)-z.min.x)/(C.min.x-z.min.x),(Math.max(z.max.y,v.y)-z.max.y)/(C.max.y-z.max.y)-(Math.min(z.min.y,v.y)-z.min.y)/(C.min.y-z.min.y)).multiplyBy(d);u.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),ue(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Le(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ut(this._panRequest),this._panRequest=Le(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,u=l._shadow,d=ee(l._icon),m=l._map.layerPointToLatLng(d);u&&ue(u,d),l._latlng=m,s.latlng=m,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ut(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ou=Bn.extend({options:{icon:new ma,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){A(this,l),this._latlng=Se(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=Se(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),w(u,l),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(u,"focus",this._panOnFocus,this);var m=s.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(w(m,l),m.alt=""),this._shadow=m,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(this._icon,"focus",this._panOnFocus,this),R(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&R(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ue(this._icon,s),this._shadow&&ue(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(w(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Z(this._icon,s),this._shadow&&Z(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,u=l.iconSize?Y(l.iconSize):Y(0,0),d=l.iconAnchor?Y(l.iconAnchor):Y(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function TI(s,l){return new Ou(s,l)}var rr=Bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Nu=rr.extend({options:{fill:!0,radius:10},initialize:function(s,l){A(this,l),this._latlng=Se(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=Se(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return rr.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,u=this._clickTolerance(),d=[s+u,l+u];this._pxBounds=new ge(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function SI(s,l){return new Nu(s,l)}var ef=Nu.extend({initialize:function(s,l,u){if(typeof l=="number"&&(l=r({},u,{radius:l})),A(this,l),this._latlng=Se(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new et(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:rr.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===ei.distance){var m=Math.PI/180,v=this._mRadius/ei.R/m,C=u.project([l+v,s]),D=u.project([l-v,s]),z=C.add(D).divideBy(2),$=u.unproject(z).lat,se=Math.acos((Math.cos(v*m)-Math.sin(l*m)*Math.sin($*m))/(Math.cos(l*m)*Math.cos($*m)))/m;(isNaN(se)||se===0)&&(se=v/Math.cos(Math.PI/180*l)),this._point=z.subtract(u.getPixelOrigin()),this._radius=isNaN(se)?0:z.x-u.project([$,s-se]).x,this._radiusY=z.y-C.y}else{var _e=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(_e).x}this._updateBounds()}});function PI(s,l,u){return new ef(s,l,u)}var Ri=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){A(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,u=null,d=pa,m,v,C=0,D=this._parts.length;C<D;C++)for(var z=this._parts[C],$=1,se=z.length;$<se;$++){m=z[$-1],v=z[$];var _e=d(s,m,v,!0);_e<l&&(l=_e,u=d(s,m,v))}return u&&(u.distance=Math.sqrt(l)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return U_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=Se(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new et,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],u=Cn(s),d=0,m=s.length;d<m;d++)u?(l[d]=Se(s[d]),this._bounds.extend(l[d])):l[d]=this._convertLatLngs(s[d]);return l},_project:function(){var s=new ge;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new V(s,s);this._rawPxBounds&&(this._pxBounds=new ge([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,u){var d=s[0]instanceof Oe,m=s.length,v,C;if(d){for(C=[],v=0;v<m;v++)C[v]=this._map.latLngToLayerPoint(s[v]),u.extend(C[v]);l.push(C)}else for(v=0;v<m;v++)this._projectLatlngs(s[v],l,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,u,d,m,v,C,D,z;for(u=0,m=0,v=this._rings.length;u<v;u++)for(z=this._rings[u],d=0,C=z.length;d<C-1;d++)D=F_(z[d],z[d+1],s,d,!0),D&&(l[m]=l[m]||[],l[m].push(D[0]),(D[1]!==z[d+1]||d===C-2)&&(l[m].push(D[1]),m++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,u=0,d=s.length;u<d;u++)s[u]=M_(s[u],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var u,d,m,v,C,D,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,v=this._parts.length;u<v;u++)for(D=this._parts[u],d=0,C=D.length,m=C-1;d<C;m=d++)if(!(!l&&d===0)&&j_(s,D[m],D[d])<=z)return!0;return!1}});function II(s,l){return new Ri(s,l)}Ri._flat=V_;var Zs=Ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return D_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Ri.prototype._convertLatLngs.call(this,s),u=l.length;return u>=2&&l[0]instanceof Oe&&l[0].equals(l[u-1])&&l.pop(),l},_setLatLngs:function(s){Ri.prototype._setLatLngs.call(this,s),Cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,u=new V(l,l);if(s=new ge(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,v;d<m;d++)v=N_(this._rings[d],s,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,u,d,m,v,C,D,z,$;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,z=this._parts.length;v<z;v++)for(u=this._parts[v],C=0,$=u.length,D=$-1;C<$;D=C++)d=u[C],m=u[D],d.y>s.y!=m.y>s.y&&s.x<(m.x-d.x)*(s.y-d.y)/(m.y-d.y)+d.x&&(l=!l);return l||Ri.prototype._containsPoint.call(this,s,!0)}});function bI(s,l){return new Zs(s,l)}var Ai=Ci.extend({initialize:function(s,l){A(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=b(s)?s:s.features,u,d,m;if(l){for(u=0,d=l.length;u<d;u++)m=l[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(s))return this;var C=Du(s,v);return C?(C.feature=zu(s),C.defaultOptions=C.options,this.resetStyle(C),v.onEachFeature&&v.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Du(s,l){var u=s.type==="Feature"?s.geometry:s,d=u?u.coordinates:null,m=[],v=l&&l.pointToLayer,C=l&&l.coordsToLatLng||tf,D,z,$,se;if(!d&&!u)return null;switch(u.type){case"Point":return D=C(d),H_(v,s,D,l);case"MultiPoint":for($=0,se=d.length;$<se;$++)D=C(d[$]),m.push(H_(v,s,D,l));return new Ci(m);case"LineString":case"MultiLineString":return z=Mu(d,u.type==="LineString"?0:1,C),new Ri(z,l);case"Polygon":case"MultiPolygon":return z=Mu(d,u.type==="Polygon"?1:2,C),new Zs(z,l);case"GeometryCollection":for($=0,se=u.geometries.length;$<se;$++){var _e=Du({geometry:u.geometries[$],type:"Feature",properties:s.properties},l);_e&&m.push(_e)}return new Ci(m);case"FeatureCollection":for($=0,se=u.features.length;$<se;$++){var be=Du(u.features[$],l);be&&m.push(be)}return new Ci(m);default:throw new Error("Invalid GeoJSON object.")}}function H_(s,l,u,d){return s?s(l,u):new Ou(u,d&&d.markersInheritOptions&&d)}function tf(s){return new Oe(s[1],s[0],s[2])}function Mu(s,l,u){for(var d=[],m=0,v=s.length,C;m<v;m++)C=l?Mu(s[m],l-1,u):(u||tf)(s[m]),d.push(C);return d}function nf(s,l){return s=Se(s),s.alt!==void 0?[_(s.lng,l),_(s.lat,l),_(s.alt,l)]:[_(s.lng,l),_(s.lat,l)]}function ju(s,l,u,d){for(var m=[],v=0,C=s.length;v<C;v++)m.push(l?ju(s[v],Cn(s[v])?0:l-1,u,d):nf(s[v],d));return!l&&u&&m.length>0&&m.push(m[0].slice()),m}function Gs(s,l){return s.feature?r({},s.feature,{geometry:l}):zu(l)}function zu(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var rf={toGeoJSON:function(s){return Gs(this,{type:"Point",coordinates:nf(this.getLatLng(),s)})}};Ou.include(rf),ef.include(rf),Nu.include(rf),Ri.include({toGeoJSON:function(s){var l=!Cn(this._latlngs),u=ju(this._latlngs,l?1:0,!1,s);return Gs(this,{type:(l?"Multi":"")+"LineString",coordinates:u})}}),Zs.include({toGeoJSON:function(s){var l=!Cn(this._latlngs),u=l&&!Cn(this._latlngs[0]),d=ju(this._latlngs,u?2:l?1:0,!0,s);return l||(d=[d]),Gs(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Ws.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(u){l.push(u.toGeoJSON(s).geometry.coordinates)}),Gs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var u=l==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(s);if(u)d.push(v.geometry);else{var C=zu(v);C.type==="FeatureCollection"?d.push.apply(d,C.features):d.push(C)}}}),u?Gs(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function W_(s,l){return new Ai(s,l)}var kI=W_,Fu=Bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,u){this._url=s,this._bounds=ze(l),A(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(w(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){R(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&q(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ze(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:y("img");if(w(l,"leaflet-image-layer"),this._zoomAnimated&&w(l,"leaflet-zoom-animated"),this.options.className&&w(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;de(this._image,u,l)},_reset:function(){var s=this._image,l=new ge(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=l.getSize();ue(s,l.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){Z(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),xI=function(s,l,u){return new Fu(s,l,u)},K_=Fu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:y("video");if(w(l,"leaflet-image-layer"),this._zoomAnimated&&w(l,"leaflet-zoom-animated"),this.options.className&&w(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),s){for(var u=l.getElementsByTagName("source"),d=[],m=0;m<u.length;m++)d.push(u[m].src);this._url=u.length>0?d:[l.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var C=y("source");C.src=this._url[v],l.appendChild(C)}}});function CI(s,l,u){return new K_(s,l,u)}var Z_=Fu.extend({_initImage:function(){var s=this._image=this._url;w(s,"leaflet-image-layer"),this._zoomAnimated&&w(s,"leaflet-zoom-animated"),this.options.className&&w(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function RI(s,l,u){return new Z_(s,l,u)}var oi=Bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Oe||b(s))?(this._latlng=Se(s),A(this,l)):(A(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Z(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Z(this._container,1),this.bringToFront(),this.options.interactive&&(w(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Z(this._container,0),this._removeTimeout=setTimeout(a(R,void 0,this._container),200)):R(this._container),this.options.interactive&&(T(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Se(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&q(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Ci){l=null;var u=this._source._layers;for(var d in u)if(u[d]._map){l=u[d];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=Y(this.options.offset),u=this._getAnchor();this._zoomAnimated?ue(this._container,s.add(u)):l=l.add(s).add(u);var d=this._containerBottom=-l.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});Me.include({_initOverlay:function(s,l,u,d){var m=l;return m instanceof s||(m=new s(d).setContent(l)),u&&m.setLatLng(u),m}}),Bn.include({_initOverlay:function(s,l,u,d){var m=u;return m instanceof s?(A(m,d),m._source=this):(m=l&&!d?l:new s(d,this),m.setContent(u)),m}});var Vu=oi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,oi.prototype.openOn.call(this,s)},onAdd:function(s){oi.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",vn))},onRemove:function(s){oi.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",vn))},getEvents:function(){var s=oi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=y("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=y("div",s+"-content-wrapper",l);if(this._contentNode=y("div",s+"-content",u),Jr(l),Lt(this._contentNode),ye(l,"contextmenu",vn),this._tipContainer=y("div",s+"-tip-container",l),this._tip=y("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=y("a",s+"-close-button",l);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',ye(d,"click",function(m){Ot(m),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),l.width=u+1+"px",l.whiteSpace="",l.height="";var d=s.offsetHeight,m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&d>m?(l.height=m+"px",w(s,v)):T(s,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();ue(this._container,l.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(I(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+l,d=this._containerWidth,m=new V(this._containerLeft,-u-this._containerBottom);m._add(ee(this._container));var v=s.layerPointToContainerPoint(m),C=Y(this.options.autoPanPadding),D=Y(this.options.autoPanPaddingTopLeft||C),z=Y(this.options.autoPanPaddingBottomRight||C),$=s.getSize(),se=0,_e=0;v.x+d+z.x>$.x&&(se=v.x+d-$.x+z.x),v.x-se-D.x<0&&(se=v.x-D.x),v.y+u+z.y>$.y&&(_e=v.y+u-$.y+z.y),v.y-_e-D.y<0&&(_e=v.y-D.y),(se||_e)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([se,_e]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),AI=function(s,l){return new Vu(s,l)};Me.mergeOptions({closePopupOnClick:!0}),Me.include({openPopup:function(s,l,u){return this._initOverlay(Vu,s,l,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Bn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Vu,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ci||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Yr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof rr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Uu=oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){oi.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){oi.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=oi.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=y("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,u,d=this._map,m=this._container,v=d.latLngToContainerPoint(d.getCenter()),C=d.layerPointToContainerPoint(s),D=this.options.direction,z=m.offsetWidth,$=m.offsetHeight,se=Y(this.options.offset),_e=this._getAnchor();D==="top"?(l=z/2,u=$):D==="bottom"?(l=z/2,u=0):D==="center"?(l=z/2,u=$/2):D==="right"?(l=0,u=$/2):D==="left"?(l=z,u=$/2):C.x<v.x?(D="right",l=0,u=$/2):(D="left",l=z+(se.x+_e.x)*2,u=$/2),s=s.subtract(Y(l,u,!0)).add(se).add(_e),T(m,"leaflet-tooltip-right"),T(m,"leaflet-tooltip-left"),T(m,"leaflet-tooltip-top"),T(m,"leaflet-tooltip-bottom"),w(m,"leaflet-tooltip-"+D),ue(m,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Z(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),LI=function(s,l){return new Uu(s,l)};Me.include({openTooltip:function(s,l,u){return this._initOverlay(Uu,s,l,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Bn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uu,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[l](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ci||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ye(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ye(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,u,d;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(u),l=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(l)}});var G_=Ks.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(M(l),l.appendChild(u.html)):l.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=Y(u.bgPos);l.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function OI(s){return new G_(s)}Ks.Default=ma;var ga=Bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),R(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(q(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof V?s:new V(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,u=-s(-1/0,1/0),d=0,m=l.length,v;d<m;d++)v=l[d].style.zIndex,l[d]!==this._container&&v&&(u=s(u,+v));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){Z(this._container,this.options.opacity);var s=+new Date,l=!1,u=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var v=Math.min(1,(s-m.loaded)/200);Z(m.el,v),v<1?l=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),l&&(ut(this._fadeFrame),this._fadeFrame=Le(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=y("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=l-Math.abs(s-u),this._onUpdateLevel(u)):(R(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[s],m=this._map;return d||(d=this._levels[s]={},d.el=y("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=l,d.origin=m.project(m.unproject(m.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,m.getCenter(),m.getZoom()),g(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,l,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var d=l.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)R(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,u,d){var m=Math.floor(s/2),v=Math.floor(l/2),C=u-1,D=new V(+m,+v);D.z=+C;var z=this._tileCoordsToKey(D),$=this._tiles[z];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),C>d?this._retainParent(m,v,C,d):!1)},_retainChildren:function(s,l,u,d){for(var m=2*s;m<2*s+2;m++)for(var v=2*l;v<2*l+2;v++){var C=new V(m,v);C.z=u+1;var D=this._tileCoordsToKey(C),z=this._tiles[D];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);u+1<d&&this._retainChildren(m,v,u+1,d)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,u,d){var m=Math.round(l);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var v=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||v)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,l)},_setZoomTransform:function(s,l,u){var d=this._map.getZoomScale(u,s.zoom),m=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(l,u)).round();he.any3d?de(s.el,m,d):ue(s.el,m)},_resetGrid:function(){var s=this._map,l=s.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],d).x/u.x),Math.ceil(s.project([0,l.wrapLng[1]],d).x/u.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],d).y/u.x),Math.ceil(s.project([l.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,u=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),d=l.getZoomScale(u,this._tileZoom),m=l.project(s,this._tileZoom).floor(),v=l.getSize().divideBy(d*2);return new ge(m.subtract(v),m.add(v))},_update:function(s){var l=this._map;if(l){var u=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),m=this._pxBoundsToTileRange(d),v=m.getCenter(),C=[],D=this.options.keepBuffer,z=new ge(m.getBottomLeft().subtract([D,-D]),m.getTopRight().add([D,-D]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var se=this._tiles[$].coords;(se.z!==this._tileZoom||!z.contains(new V(se.x,se.y)))&&(this._tiles[$].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var _e=m.min.y;_e<=m.max.y;_e++)for(var be=m.min.x;be<=m.max.x;be++){var tn=new V(be,_e);if(tn.z=this._tileZoom,!!this._isValidTile(tn)){var St=this._tiles[this._tileCoordsToKey(tn)];St?St.current=!0:C.push(tn)}}if(C.sort(function(cn,Qs){return cn.distanceTo(v)-Qs.distanceTo(v)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rn=document.createDocumentFragment();for(be=0;be<C.length;be++)this._addTile(C[be],Rn);this._level.el.appendChild(Rn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var u=this._globalTileRange;if(!l.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!l.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return ze(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,u=this.getTileSize(),d=s.scaleBy(u),m=d.add(u),v=l.unproject(d,s.z),C=l.unproject(m,s.z);return[v,C]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),u=new et(l[0],l[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),u=new V(+l[0],+l[1]);return u.z=+l[2],u},_removeTile:function(s){var l=this._tiles[s];l&&(R(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){w(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=g,s.onmousemove=g,he.ielt9&&this.options.opacity<1&&Z(s,this.options.opacity)},_addTile:function(s,l){var u=this._getTilePos(s),d=this._tileCoordsToKey(s),m=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(m),this.createTile.length<2&&Le(a(this._tileReady,this,s,null,m)),ue(m,u),this._tiles[d]={el:m,coords:s,current:!0},l.appendChild(m),this.fire("tileloadstart",{tile:m,coords:s})},_tileReady:function(s,l,u){l&&this.fire("tileerror",{error:l,tile:u,coords:s});var d=this._tileCoordsToKey(s);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Z(u.el,0),ut(this._fadeFrame),this._fadeFrame=Le(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),l||(w(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?Le(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new V(this._wrapX?p(s.x,this._wrapX):s.x,this._wrapY?p(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new ge(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function NI(s){return new ga(s)}var qs=ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=A(this,l),l.detectRetina&&he.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var u=document.createElement("img");return ye(u,"load",a(this._tileOnLoad,this,l,u)),ye(u,"error",a(this._tileOnError,this,l,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var l={r:he.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=u),l["-y"]=u}return E(this._url,r(l,this.options))},_tileOnLoad:function(s,l){he.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,u){var d=this.options.errorTileUrl;d&&l.getAttribute("src")!==d&&(l.src=d),s(u,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(s=l-s),s+d},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=g,l.onerror=g,!l.complete)){l.src=U;var u=this._tiles[s].coords;R(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:u})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",U),ga.prototype._removeTile.call(this,s)},_tileReady:function(s,l,u){if(!(!this._map||u&&u.getAttribute("src")===U))return ga.prototype._tileReady.call(this,s,l,u)}});function q_(s,l){return new qs(s,l)}var Q_=qs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var u=r({},this.defaultWmsParams);for(var d in l)d in this.options||(u[d]=l[d]);l=A(this,l);var m=l.detectRetina&&he.retina?2:1,v=this.getTileSize();u.width=v.x*m,u.height=v.y*m,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,qs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),u=this._crs,d=xe(u.project(l[0]),u.project(l[1])),m=d.min,v=d.max,C=(this._wmsVersion>=1.3&&this._crs===B_?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),D=qs.prototype.getTileUrl.call(this,s);return D+O(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function DI(s,l){return new Q_(s,l)}qs.WMS=Q_,q_.wms=DI;var Li=Bn.extend({options:{padding:.1},initialize:function(s){A(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),w(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var u=this._map.getZoomScale(l,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,l),v=d.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(s,l));he.any3d?de(this._container,v,u):ue(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),u=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new ge(u,u.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),J_=Li.extend({options:{tolerance:0},getEvents:function(){var s=Li.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ye(s,"mousemove",this._onMouseMove,this),ye(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ut(this._redrawRequest),delete this._ctx,R(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Li.prototype._update.call(this);var s=this._bounds,l=this._container,u=s.getSize(),d=he.retina?2:1;ue(l,s.min),l.width=d*u.x,l.height=d*u.y,l.style.width=u.x+"px",l.style.height=u.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,u=l.next,d=l.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),u=[],d,m;for(m=0;m<l.length;m++){if(d=Number(l[m]),isNaN(d))return;u.push(d)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Le(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ge,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var u=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var u,d,m,v,C=s._parts,D=C.length,z=this._ctx;if(D){for(z.beginPath(),u=0;u<D;u++){for(d=0,m=C[u].length;d<m;d++)v=C[u][d],z[d?"lineTo":"moveTo"](v.x,v.y);l&&z.closePath()}this._fillStroke(z,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,u=this._ctx,d=Math.max(Math.round(s._radius),1),m=(Math.max(Math.round(s._radiusY),1)||d)/d;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(l.x,l.y/m,d,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,l){var u=l.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(T(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(l)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(w(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,u){this._map._fireDOMEvent(l,u||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var u=l.next,d=l.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var u=l.next,d=l.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Y_(s){return he.canvas?new J_(s):null}var _a=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),MI={_initContainer:function(){this._container=y("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Li.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=_a("shape");w(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=_a("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;R(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,u=s._fill,d=s.options,m=s._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(l||(l=s._stroke=_a("stroke")),m.appendChild(l),l.weight=d.weight+"px",l.color=d.color,l.opacity=d.opacity,d.dashArray?l.dashStyle=b(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=d.lineCap.replace("butt","flat"),l.joinstyle=d.lineJoin):l&&(m.removeChild(l),s._stroke=null),d.fill?(u||(u=s._fill=_a("fill")),m.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(m.removeChild(u),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),u=Math.round(s._radius),d=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){q(s._container)},_bringToBack:function(s){le(s._container)}},Bu=he.vml?_a:gu,va=Li.extend({_initContainer:function(){this._container=Bu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){R(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Li.prototype._update.call(this);var s=this._bounds,l=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,u.setAttribute("width",l.x),u.setAttribute("height",l.y)),ue(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Bu("path");s.options.className&&w(l,s.options.className),s.options.interactive&&w(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){R(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,u=s.options;l&&(u.stroke?(l.setAttribute("stroke",u.color),l.setAttribute("stroke-opacity",u.opacity),l.setAttribute("stroke-width",u.weight),l.setAttribute("stroke-linecap",u.lineCap),l.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?l.setAttribute("stroke-dasharray",u.dashArray):l.removeAttribute("stroke-dasharray"),u.dashOffset?l.setAttribute("stroke-dashoffset",u.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),u.fill?(l.setAttribute("fill",u.fillColor||u.color),l.setAttribute("fill-opacity",u.fillOpacity),l.setAttribute("fill-rule",u.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Zr(s._parts,l))},_updateCircle:function(s){var l=s._point,u=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||u,m="a"+u+","+d+" 0 1,0 ",v=s._empty()?"M0 0":"M"+(l.x-u)+","+l.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(s,v)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){q(s._path)},_bringToBack:function(s){le(s._path)}});he.vml&&va.include(MI);function X_(s){return he.svg||he.vml?new va(s):null}Me.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Y_(s)||X_(s)}});var ev=Zs.extend({initialize:function(s,l){Zs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ze(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function jI(s,l){return new ev(s,l)}va.create=Bu,va.pointsToPath=Zr,Ai.geometryToLayer=Du,Ai.coordsToLatLng=tf,Ai.coordsToLatLngs=Mu,Ai.latLngToCoords=nf,Ai.latLngsToCoords=ju,Ai.getFeature=Gs,Ai.asFeature=zu,Me.mergeOptions({boxZoom:!0});var tv=si.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){R(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),te(),Ne(),this._startPoint=this._map.mouseEventToContainerPoint(s),ye(document,{contextmenu:Yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=y("div","leaflet-zoom-box",this._container),w(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new ge(this._point,this._startPoint),u=l.getSize();ue(this._box,l.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(R(this._box),T(this._container,"leaflet-crosshair")),ie(),He(),De(document,{contextmenu:Yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Me.addInitHook("addHandler","boxZoom",tv),Me.mergeOptions({doubleClickZoom:!0});var nv=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,u=l.getZoom(),d=l.options.zoomDelta,m=s.originalEvent.shiftKey?u-d:u+d;l.options.doubleClickZoom==="center"?l.setZoom(m):l.setZoomAround(s.containerPoint,m)}});Me.addInitHook("addHandler","doubleClickZoom",nv),Me.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var iv=si.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ir(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}w(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){T(this._map._container,"leaflet-grab"),T(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ze(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-l+u)%s+l-u,v=(d+l+u)%s-l-u,C=Math.abs(m+u)<Math.abs(v+u)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var l=this._map,u=l.options,d=!u.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),d)l.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,C=u.easeLinearity,D=m.multiplyBy(C/v),z=D.distanceTo([0,0]),$=Math.min(u.inertiaMaxSpeed,z),se=D.multiplyBy($/z),_e=$/(u.inertiaDeceleration*C),be=se.multiplyBy(-_e/2).round();!be.x&&!be.y?l.fire("moveend"):(be=l._limitOffset(be,l.options.maxBounds),Le(function(){l.panBy(be,{duration:_e,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Me.addInitHook("addHandler","dragging",iv),Me.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rv=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ye(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,u=s.scrollTop||l.scrollTop,d=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},u=this.keyCodes,d,m;for(d=0,m=u.left.length;d<m;d++)l[u.left[d]]=[-1*s,0];for(d=0,m=u.right.length;d<m;d++)l[u.right[d]]=[s,0];for(d=0,m=u.down.length;d<m;d++)l[u.down[d]]=[0,s];for(d=0,m=u.up.length;d<m;d++)l[u.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},u=this.keyCodes,d,m;for(d=0,m=u.zoomIn.length;d<m;d++)l[u.zoomIn[d]]=s;for(d=0,m=u.zoomOut.length;d<m;d++)l[u.zoomOut[d]]=-s},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,u=this._map,d;if(l in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[l],s.shiftKey&&(d=Y(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(Y(d),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(m)}else u.panBy(d)}else if(l in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Yr(s)}}});Me.addInitHook("addHandler","keyboard",rv),Me.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sv=si.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=C_(s),u=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),d),Yr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,v=u?Math.ceil(m/u)*u:m,C=s._limitZoom(l+(this._delta>0?v:-v))-l;this._delta=0,this._startTime=null,C&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+C):s.setZoomAround(this._lastMousePos,l+C))}});Me.addInitHook("addHandler","scrollWheelZoom",sv);var zI=600;Me.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var ov=si.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new V(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",Ot),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),zI),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){De(document,"touchend",Ot),De(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new V(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});u._simulated=!0,l.target.dispatchEvent(u)}});Me.addInitHook("addHandler","tapHold",ov),Me.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var av=si.extend({addHooks:function(){w(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){T(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var u=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),Ot(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,u=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]),m=u.distanceTo(d)/this._startDist;if(this._zoom=l.getScaleZoom(m,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&m<1||this._zoom>l.getMaxZoom()&&m>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var v=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&v.x===0&&v.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ut(this._animRequest);var C=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Le(C,this,!0),Ot(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ut(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Me.addInitHook("addHandler","touchZoom",av),Me.BoxZoom=tv,Me.DoubleClickZoom=nv,Me.Drag=iv,Me.Keyboard=rv,Me.ScrollWheelZoom=sv,Me.TapHold=ov,Me.TouchZoom=av,n.Bounds=ge,n.Browser=he,n.CRS=$t,n.Canvas=J_,n.Circle=ef,n.CircleMarker=Nu,n.Class=ft,n.Control=Un,n.DivIcon=G_,n.DivOverlay=oi,n.DomEvent=nI,n.DomUtil=Qr,n.Draggable=ir,n.Evented=un,n.FeatureGroup=Ci,n.GeoJSON=Ai,n.GridLayer=ga,n.Handler=si,n.Icon=Ks,n.ImageOverlay=Fu,n.LatLng=Oe,n.LatLngBounds=et,n.Layer=Bn,n.LayerGroup=Ws,n.LineUtil=mI,n.Map=Me,n.Marker=Ou,n.Mixin=uI,n.Path=rr,n.Point=V,n.PolyUtil=cI,n.Polygon=Zs,n.Polyline=Ri,n.Popup=Vu,n.PosAnimation=R_,n.Projection=gI,n.Rectangle=ev,n.Renderer=Li,n.SVG=va,n.SVGOverlay=Z_,n.TileLayer=qs,n.Tooltip=Uu,n.Transformation=Ns,n.Util=Fn,n.VideoOverlay=K_,n.bind=a,n.bounds=xe,n.canvas=Y_,n.circle=PI,n.circleMarker=SI,n.control=fa,n.divIcon=OI,n.extend=r,n.featureGroup=wI,n.geoJSON=W_,n.geoJson=kI,n.gridLayer=NI,n.icon=EI,n.imageOverlay=xI,n.latLng=Se,n.latLngBounds=ze,n.layerGroup=yI,n.map=iI,n.marker=TI,n.point=Y,n.polygon=bI,n.polyline=II,n.popup=AI,n.rectangle=jI,n.setOptions=A,n.stamp=h,n.svg=X_,n.svgOverlay=RI,n.tileLayer=q_,n.tooltip=LI,n.transformation=ni,n.version=i,n.videoOverlay=CI;var FI=window.L;n.noConflict=function(){return window.L=FI,this},window.L=n})})(Pm,Pm.exports);var Dd=Pm.exports;function I_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function b_(t,e){return e==null?function(i,r){const o=F.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=F.useRef();o.current||(o.current=t(i,r));const a=F.useRef(i),{instance:c}=o.current;return F.useEffect(function(){a.current!==i&&(e(c,i,a.current),a.current=i)},[c,i,r]),o}}function Ej(t,e){F.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function QP(t){return function(n){const i=GP(),r=t(P_(n,i),i);return WP(i.map,n.attribution),qP(r.current,n.eventHandlers),Ej(r.current,i),r}}function Tj(t,e){const n=b_(t,e),i=QP(n);return _j(i)}function Sj(t,e){const n=b_(t),i=wj(n,e);return vj(i)}function Pj(t,e){const n=b_(t,e),i=QP(n);return yj(i)}function Ij(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Im(){return Im=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Im.apply(this,arguments)}function bj({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:c,whenReady:h,zoom:f,...p},g){const[_]=F.useState({className:r,id:o,style:c}),[S,x]=F.useState(null);F.useImperativeHandle(g,()=>(S==null?void 0:S.map)??null,[S]);const A=F.useCallback(P=>{if(P!==null&&S===null){const E=new Dd.Map(P,p);n!=null&&f!=null?E.setView(n,f):t!=null&&E.fitBounds(t,e),h!=null&&E.whenReady(h),x(mj(E))}},[]);F.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const O=S?sl.createElement(ZP,{value:S},i):a??null;return sl.createElement("div",Im({},_,{ref:A}),O)}const kj=F.forwardRef(bj),xj=Tj(function({position:e,...n},i){const r=new Dd.Marker(e,n);return I_(r,gj(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Cj=Sj(function(e,n){const i=new Dd.Popup(e,n.overlayContainer);return I_(i,n)},function(e,n,{position:i},r){F.useEffect(function(){const{instance:a}=e;function c(f){f.popup===a&&(a.update(),r(!0))}function h(f){f.popup===a&&r(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:c,popupclose:h}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),Rj=Pj(function({url:e,...n},i){const r=new Dd.TileLayer(e,P_(n,i));return I_(r,i)},function(e,n,i){Ij(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),Aj=()=>{const t=F.useRef(null),e=51.505,n=-.09,{t:i}=zn();return k.jsxs("div",{className:"location_container",children:[k.jsx("h2",{children:"Hotel Sol"}),k.jsx("div",{className:"text_container",children:i("LocationText")}),k.jsxs(kj,{center:[e,n],zoom:13,ref:t,style:{height:"500px",width:"1000px"},children:[k.jsx(Rj,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),k.jsx(xj,{position:[51.505,-.09],children:k.jsxs(Cj,{children:["Hotel Sol ",k.jsx("br",{})," Al. Nieznana 5, ",k.jsx("br",{})," 01-100 Tajna Gra, ",k.jsx("br",{})," Nibylandia"]})})]})]})},Lj=()=>{var t,e,n;return k.jsxs(k.Fragment,{children:[((t=Ke==null?void 0:Ke.currentUser)==null?void 0:t.email)&&k.jsxs("h1",{children:["Hello ",(e=Ke==null?void 0:Ke.currentUser)==null?void 0:e.email]}),!((n=Ke==null?void 0:Ke.currentUser)!=null&&n.email)&&k.jsx("h1",{children:"Hello"}),k.jsx(fj,{}),k.jsx(Aj,{}),k.jsx(uj,{})]})},Oj=()=>{const{t}=zn(),{openContactPopup:e}=$P();return k.jsxs("footer",{children:[k.jsxs("div",{className:"footer-content",children:[k.jsxs("div",{className:"footer-section",children:[k.jsx("h2",{children:t("Links")}),k.jsxs("ul",{children:[k.jsx("li",{children:k.jsx("a",{href:"/",children:t("MainPage")})}),k.jsx("li",{children:k.jsx("a",{href:"/aboutus",children:t("AboutUs")})}),k.jsx("li",{children:k.jsx("a",{href:"#",onClick:e,children:t("FooterContactUs")})})]})]}),k.jsxs("div",{className:"footer-section",children:[k.jsx("h2",{children:t("SocialMedia")}),k.jsxs("ul",{children:[k.jsx("li",{children:k.jsx("a",{href:"https://tripadvisor.com/",target:"_blank",children:"TripAdvisor"})}),k.jsx("li",{children:k.jsx("a",{href:"https://facebook.com/",target:"_blank",children:"Facebook"})}),k.jsx("li",{children:k.jsx("a",{href:"https://instagram.com/",target:"_blank",children:"Instagram"})})]})]}),k.jsxs("div",{className:"footer-section",children:[k.jsx("h2",{children:t("Contact")}),k.jsx("p",{children:"Adress: Al. Nieznana 5, 01-100 Tajna Gra, Nibylandia"}),k.jsx("p",{children:k.jsx("a",{className:"contact-link",href:"tel:+425891234567",children:"+425 89 123 45 67"})}),k.jsx("p",{children:k.jsx("a",{className:"contact-link",href:"mailto:info@solhotel.com",target:"_blank",children:"info@solhotel.com"})})]})]}),k.jsx("div",{className:"footer-bottom",children:k.jsxs("p",{children:[" ",t("AllRightsReserved")]})})]})},Nj={},Md=F.createContext(Nj),Dj=({children:t})=>{const[e,n]=F.useState("");return k.jsx(Md.Provider,{value:{ID:e,setID:n},children:t})},Mj=({setisFormSubmitted:t,isFormSubmitted:e})=>{var P;const[n,i]=F.useState(""),[r,o]=F.useState(""),[a,c]=F.useState(null),{ID:h}=F.useContext(Md),{t:f}=zn(),[p,g]=F.useState([]);F.useEffect(()=>{g([]),console.log(h),console.log(Ke)},[]);const _=E=>{i(E.target.value)},S=E=>{o(E.target.value)},x=E=>{console.log(E),c(E)},A=F.useRef(null),O=E=>{E.preventDefault(),a!==null&&n.trim()!==""&&r.trim()!==""?(FP.sendForm("service_i9svdvj","template_ihq485e",A.current,{publicKey:"nEnmgTagRKnAS2Ayl"}).then(()=>{console.log("SUCCESS!"),t(!0)},b=>{console.log("FAILED...",b.text)}),i(""),o(""),c(null)):alert("Please select a room, start date, and end date")};return k.jsxs("div",{children:[k.jsx("h2",{children:f("booking_form")}),k.jsxs("form",{ref:A,onSubmit:O,children:[k.jsx("input",{type:"hidden",name:"user_email",value:(P=Ke==null?void 0:Ke.currentUser)==null?void 0:P.email}),k.jsx("label",{htmlFor:"start-date",children:f("booking_start_date")}),k.jsx("input",{type:"date",id:"start-date",name:"start-date",value:n,onChange:_,required:!0}),k.jsx("label",{htmlFor:"end-date",children:f("booking_end_date")}),k.jsx("input",{type:"date",id:"end-date",name:"end-date",value:r,onChange:S,required:!0}),k.jsx("label",{htmlFor:"room",children:f("booking_room")}),k.jsxs("select",{id:"room",name:"room",value:a||"",onChange:E=>x(Number(E.target.value)),required:!0,children:[k.jsx("option",{value:"",disabled:!0,children:f("booking_room")}),p.map(E=>k.jsxs("option",{value:E.id,children:[E.roomname," - $",E.price]},E.id))]}),k.jsx("button",{type:"submit",children:f("booking_submit")})]})]})},jj=()=>{const t=id(),{ID:e}=F.useContext(Md),{loginPopupVisible:n,openLoginPopup:i,closeLoginPopup:r}=UP(),{t:o}=zn(),a=()=>{e?t("/booking"):i()};return F.useEffect(()=>{!n&&e&&(t("/booking"),r())},[n,e,r,t]),k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"container",children:[k.jsx("div",{className:"title-text",children:o("roomDescriptionHeader")}),k.jsxs("div",{children:[k.jsx("div",{className:"description_text",children:o("roomDescriptionText")}),k.jsxs("div",{children:[k.jsx("div",{children:o("roomDescriptionHeader2")}),k.jsxs("div",{className:"photos_container",children:[k.jsx("img",{className:"add_image",src:"https://cdn.pixabay.com/photo/2017/03/05/17/39/wi-fi-2119225_1280.png",alt:"internet-icon"}),k.jsx("div",{children:o("roomDescriptionWifi")}),k.jsx("img",{className:"add_image",src:"https://image.freepik.com/darmowe-ikony/lodowka_318-10736.jpg",alt:"fridge-icon"}),k.jsx("div",{children:o("roomDescriptionRefridgerator")}),k.jsx("img",{className:"add_image",src:"https://th.bing.com/th/id/R.f5866a9e728c84ed2933d3dd31804fee?rik=rQy59MfHPnTEjA&pid=ImgRaw&r=0",alt:"phone-icon"}),k.jsx("div",{children:o("roomDescriptionTelephone")}),k.jsx("img",{className:"add_image",src:"https://image.freepik.com/darmowe-ikony/sylwetka-kropla-wody_318-37294.jpg",alt:"water-icon"}),k.jsx("div",{children:o("roomDescriptionWater")}),k.jsx("img",{className:"add_image",src:"https://i.pinimg.com/originals/fa/9a/8c/fa9a8c990be8c250c7966931a0c73893.png",alt:"ac-icon"}),k.jsx("div",{children:o("roomDescriptionAir")}),k.jsx("img",{className:"add_image",src:"https://mkdesk.pro/wp-content/uploads/2020/03/ikona-biurka-4.png",alt:"desk-icon"}),k.jsx("div",{children:o("roomDescriptionDesk")}),k.jsx("img",{className:"add_image",src:"https://t3.ftcdn.net/jpg/05/60/25/80/360_F_560258099_ky62cSILjBBhH0G8jgh3t2iPdiclDhmE.jpg",alt:"towel-icon"}),k.jsx("div",{children:o("roomDescriptionTowels")}),k.jsx("img",{className:"add_image",src:"https://media.istockphoto.com/id/1329818102/ko/%EB%B2%A1%ED%84%B0/%ED%97%A4%EC%96%B4-%EB%93%9C%EB%9D%BC%EC%9D%B4%EC%96%B4-%ED%94%BD%ED%86%A0%EA%B7%B8%EB%9E%A8-%EB%AF%B8%EC%9A%A9-%EC%9E%A5%EB%B9%84-%EC%8A%A4%EC%BC%80%EC%B9%98-%EC%A0%84%EB%AC%B8-%EB%8F%84%EA%B5%AC-%EC%95%84%EC%9D%B4%EC%BD%98-%EB%B2%A1%ED%84%B0-%EA%B7%B8%EB%A6%BC%EC%9E%85%EB%8B%88%EB%8B%A4-%EC%9D%B4%EB%B0%9C%EC%82%AC-%EA%B8%B0%ED%98%B8.jpg?s=170667a&w=0&k=20&c=4hbDthJn_qTCEnb67rcxCuykKpUz2aHLqo-MHclMVZk=",alt:"hairdryer-icon"}),k.jsx("div",{children:o("roomDescriptionHairdryer")})]})]})]})]}),k.jsx("button",{onClick:a,className:"navi_button booknow",children:o("roomDescriptionBookNow")})]})},zj=()=>{const{t}=zn();return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"info-container",children:[k.jsx("h2",{children:t("about_us_a_brand_leader")}),k.jsx("p",{children:t("about_us_p1")}),k.jsx("span",{children:t("about_us_reception")}),k.jsxs("span",{children:[t("about_us_Tel_No"),k.jsx("a",{href:"tel:+48589999999",children:"+48 58 999 99 99"})]}),k.jsxs("span",{children:["Email: ",k.jsx("a",{href:"mailto:recepcja@solhotel.com",children:"recepcja@solhotel.com"})]}),k.jsx("span",{children:t("about_us_Booking_department")}),k.jsxs("span",{children:[t("about_us_Tel_No"),k.jsx("a",{href:"tel:+48588888888",children:"+48 58 888 88 88"})]}),k.jsxs("span",{children:["Email: ",k.jsx("a",{href:"mailto:recepcja@solhotel.com",children:"booking@solhotel.com"})]})]}),k.jsxs("div",{className:"box-container",children:[k.jsx("img",{className:"value-img",src:"https://cache.marriott.com/content/dam/marriott-renditions/dm-static-renditions/digitallegal-micorp-cec/en_us/micorp_core-values-heritage/unlimited/photo/assets-usage-rights/pdt-hot-shoppe-1927-744354017118562-wide-hor.jpg"}),k.jsxs("div",{className:"text-container",children:[k.jsx("h2",{children:t("about_us_Core_Values_Heritage")}),k.jsx("div",{children:t("about_us_p2")})]})]}),k.jsxs("div",{className:"box-container",children:[k.jsxs("div",{className:"text-container",children:[k.jsx("h2",{children:t("about_us_Company_Strategy")}),k.jsx("div",{children:t("about_us_p3")})]}),k.jsx("img",{className:"value-img",src:"https://cache.marriott.com/content/dam/marriott-digital/digitallegal-micorp-cec/en_us/micorp_about-marriott/unlimited/photo/assets/pdt-corp-strategy-796777262148152.jpg"})]}),k.jsxs("div",{className:"box-container",children:[k.jsx("img",{className:"value-img",src:"https://cache.marriott.com/content/dam/marriott-renditions/dm-static-renditions/digitallegal-micorp-cec/en_us/micorp_about-marriott/unlimited/photo/assets-usage-rights/pdt-diversity-and-inclusion-593095843034458-wide-hor.jpg"}),k.jsxs("div",{className:"text-container",children:[k.jsx("h2",{children:t("about_us_Diversity_Inclusion")}),k.jsx("div",{children:t("about_us_p4")})]})]}),k.jsxs("div",{className:"box-container",children:[k.jsxs("div",{className:"text-container",children:[k.jsx("h2",{children:t("about_us_Sustainability_Social_Impact")}),k.jsx("div",{children:t("about_us_p5")})]}),k.jsx("img",{className:"value-img",src:"https://cache.marriott.com/content/dam/marriott-renditions/dm-static-renditions/digitallegal-micorp-cec/en_us/micorp_sustainability-social-impact/unlimited/photo/assets-usage-rights/pdt-sustain---tree-planting-484752399741473-wide-hor.jpg"})]})]})},Fj=()=>{F.useState("");const{t}=zn();return k.jsxs("div",{children:[k.jsx("h1",{children:t("PageNotFound")}),k.jsx("img",{src:"https://media.tenor.com/eD6ODXgpFdsAAAAi/wat.gif",alt:"404-GIF"}),k.jsx("p",{children:t("confused")}),k.jsxs("p",{children:[t("LinkToHomePage1")," ",k.jsx(yC,{to:"/",children:t("homepage")})," ",t("LinkToHomePage2")]})]})};function Vj(){F.useState(0);const[t,e]=F.useState(!1);F.useState(!1);const[n,i]=F.useState(!1),{setID:r}=F.useContext(Md);return F.useEffect(()=>YA(Ke,a=>{if(a){const c=a.uid;r(c),e(!0)}else e(!1)}),[]),k.jsx(k.Fragment,{children:k.jsxs(gC,{children:[k.jsx(lj,{}),k.jsxs(uC,{children:[k.jsx(no,{path:"/",element:k.jsx(Lj,{})}),k.jsx(no,{path:"ourrooms",element:k.jsx(jj,{})}),k.jsx(no,{path:"/booking",element:t?k.jsx(Mj,{isFormSubmitted:n,setisFormSubmitted:i}):k.jsx(aC,{replace:!0,to:"/"})}),k.jsx(no,{path:"/aboutus",element:k.jsx(zj,{})}),k.jsx(no,{path:"*",element:k.jsx(Fj,{})})]}),n&&k.jsx(kP,{iconClass:"fa-solid fa-circle-check",text:" Success! You've booked a room",isFormSubmitted:n,setisFormSubmitted:i}),k.jsx(Oj,{})]})})}const Uj={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Mh{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Uj,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Mh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Mh(this.logger,e)}}var fi=new Mh;class jd{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(n)||0;this.observers[i].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[c,h]=a;for(let f=0;f<h;f++)c(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[c,h]=a;for(let f=0;f<h;f++)c.apply(c,[e,...i])})}}function Aa(){let t,e;const n=new Promise((i,r)=>{t=i,e=r});return n.resolve=t,n.reject=e,n}function qw(t){return t==null?"":""+t}function Bj(t,e,n){t.forEach(i=>{e[i]&&(n[i]=e[i])})}const $j=/###/g;function rl(t,e,n){function i(c){return c&&c.indexOf("###")>-1?c.replace($j,"."):c}function r(){return!t||typeof t=="string"}const o=typeof e!="string"?e:e.split(".");let a=0;for(;a<o.length-1;){if(r())return{};const c=i(o[a]);!t[c]&&n&&(t[c]=new n),Object.prototype.hasOwnProperty.call(t,c)?t=t[c]:t={},++a}return r()?{}:{obj:t,k:i(o[a])}}function Qw(t,e,n){const{obj:i,k:r}=rl(t,e,Object);if(i!==void 0||e.length===1){i[r]=n;return}let o=e[e.length-1],a=e.slice(0,e.length-1),c=rl(t,a,Object);for(;c.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),c=rl(t,a,Object),c&&c.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n}function Hj(t,e,n,i){const{obj:r,k:o}=rl(t,e,Object);r[o]=r[o]||[],i&&(r[o]=r[o].concat(n)),i||r[o].push(n)}function jh(t,e){const{obj:n,k:i}=rl(t,e);if(n)return n[i]}function Wj(t,e,n){const i=jh(t,n);return i!==void 0?i:jh(e,n)}function JP(t,e,n){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?typeof t[i]=="string"||t[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?n&&(t[i]=e[i]):JP(t[i],e[i],n):t[i]=e[i]);return t}function Xs(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Kj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Zj(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Kj[e]):t}class Gj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const qj=[" ",",","?","!",";"],Qj=new Gj(20);function Jj(t,e,n){e=e||"",n=n||"";const i=qj.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(i.length===0)return!0;const r=Qj.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!r.test(t);if(!o){const a=t.indexOf(n);a>0&&!r.test(t.substring(0,a))&&(o=!0)}return o}function bm(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let r=t;for(let o=0;o<i.length;){if(!r||typeof r!="object")return;let a,c="";for(let h=o;h<i.length;++h)if(h!==o&&(c+=n),c+=i[h],a=r[c],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&h<i.length-1)continue;o+=h-o+1;break}r=a}return r}function zh(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Jw extends jd{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],i&&(Array.isArray(i)?c.push(...i):typeof i=="string"&&o?c.push(...i.split(o)):c.push(i)));const h=jh(this.data,c);return!h&&!n&&!i&&e.indexOf(".")>-1&&(e=c[0],n=c[1],i=c.slice(2).join(".")),h||!a||typeof i!="string"?h:bm(this.data&&this.data[e]&&this.data[e][n],i,o)}addResource(e,n,i,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[e,n];i&&(c=c.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(c=e.split("."),r=n,n=c[1]),this.addNamespaces(n),Qw(this.data,c,r),o.silent||this.emit("added",e,n,i,r)}addResources(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in i)(typeof i[o]=="string"||Object.prototype.toString.apply(i[o])==="[object Array]")&&this.addResource(e,n,o,i[o],{silent:!0});r.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,r,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),r=i,i=n,n=c[1]),this.addNamespaces(n);let h=jh(this.data,c)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?JP(h,i,o):h={...h,...i},Qw(this.data,c,h),a.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var YP={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,r){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,i,r))}),e}};const Yw={};class Fh extends jd{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Bj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Jj(e,i,r);if(a&&!c){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:o};const f=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(r)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:c}=this.extractFromKey(e[e.length-1],n),h=c[c.length-1],f=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(p){const N=n.nsSeparator||this.options.nsSeparator;return r?{res:`${h}${N}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(n)}:`${h}${N}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(n)}:a}const g=this.resolve(e,n);let _=g&&g.res;const S=g&&g.usedKey||a,x=g&&g.exactUsedKey||a,A=Object.prototype.toString.apply(_),O=["[object Number]","[object Function]","[object RegExp]"],P=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject;if(E&&_&&(typeof _!="string"&&typeof _!="boolean"&&typeof _!="number")&&O.indexOf(A)<0&&!(typeof P=="string"&&A==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,_,{...n,ns:c}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(g.res=N,g.usedParams=this.getUsedParamsDetails(n),g):N}if(o){const N=A==="[object Array]",U=N?[]:{},K=N?x:S;for(const W in _)if(Object.prototype.hasOwnProperty.call(_,W)){const re=`${K}${o}${W}`;U[W]=this.translate(re,{...n,joinArrays:!1,ns:c}),U[W]===re&&(U[W]=_[W])}_=U}}else if(E&&typeof P=="string"&&A==="[object Array]")_=_.join(P),_&&(_=this.extendTranslation(_,e,n,i));else{let N=!1,U=!1;const K=n.count!==void 0&&typeof n.count!="string",W=Fh.hasDefaultValue(n),re=K?this.pluralResolver.getSuffix(f,n.count,n):"",ke=n.ordinal&&K?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",ve=K&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),Le=ve&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${re}`]||n[`defaultValue${ke}`]||n.defaultValue;!this.isValidLookup(_)&&W&&(N=!0,_=Le),this.isValidLookup(_)||(U=!0,_=a);const Fn=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&U?void 0:_,ft=W&&Le!==_&&this.options.updateMissing;if(U||N||ft){if(this.logger.log(ft?"updateKey":"missingKey",f,h,a,ft?Le:_),o){const V=this.resolve(a,{...n,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let bn=[];const Ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ye&&Ye[0])for(let V=0;V<Ye.length;V++)bn.push(Ye[V]);else this.options.saveMissingTo==="all"?bn=this.languageUtils.toResolveHierarchy(n.lng||this.language):bn.push(n.lng||this.language);const un=(V,fe,Y)=>{const ge=W&&Y!==_?Y:Fn;this.options.missingKeyHandler?this.options.missingKeyHandler(V,h,fe,ge,ft,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,h,fe,ge,ft,n),this.emit("missingKey",V,h,fe,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?bn.forEach(V=>{const fe=this.pluralResolver.getSuffixes(V,n);ve&&n[`defaultValue${this.options.pluralSeparator}zero`]&&fe.indexOf(`${this.options.pluralSeparator}zero`)<0&&fe.push(`${this.options.pluralSeparator}zero`),fe.forEach(Y=>{un([V],a+Y,n[`defaultValue${Y}`]||Le)})}):un(bn,a,Le))}_=this.extendTranslation(_,e,n,g,i),U&&_===a&&this.options.appendNamespaceToMissingKey&&(_=`${h}:${a}`),(U||N)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${a}`:a,N?_:void 0):_=this.options.parseMissingKeyHandler(_))}return r?(g.res=_,g.usedParams=this.getUsedParamsDetails(n),g):_}extendTranslation(e,n,i,r,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const _=e.match(this.interpolator.nestingRegexp);p=_&&_.length}let g=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,i.lng||this.language,i),f){const _=e.match(this.interpolator.nestingRegexp),S=_&&_.length;p<S&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(i.lng=r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var _=arguments.length,S=new Array(_),x=0;x<_;x++)S[x]=arguments[x];return o&&o[0]===S[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${S[0]} in key: ${n[0]}`),null):a.translate(...S,n)},i)),i.interpolation&&this.interpolator.reset()}const c=i.postProcess||this.options.postProcess,h=typeof c=="string"?[c]:c;return e!=null&&h&&h.length&&i.applyPostProcessor!==!1&&(e=YP.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,r,o,a,c;return typeof e=="string"&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(h,n),p=f.key;r=p;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const _=n.count!==void 0&&typeof n.count!="string",S=_&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),x=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",A=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(O=>{this.isValidLookup(i)||(c=O,!Yw[`${A[0]}-${O}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(Yw[`${A[0]}-${O}`]=!0,this.logger.warn(`key "${r}" for languages "${A.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(P=>{if(this.isValidLookup(i))return;a=P;const E=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(E,p,P,O,n);else{let N;_&&(N=this.pluralResolver.getSuffix(P,n.count,n));const U=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(E.push(p+N),n.ordinal&&N.indexOf(K)===0&&E.push(p+N.replace(K,this.options.pluralSeparator)),S&&E.push(p+U)),x){const W=`${p}${this.options.contextSeparator}${n.context}`;E.push(W),_&&(E.push(W+N),n.ordinal&&N.indexOf(K)===0&&E.push(W+N.replace(K,this.options.pluralSeparator)),S&&E.push(W+U))}}let b;for(;b=E.pop();)this.isValidLookup(i)||(o=b,i=this.getResource(P,O,b,n))}))})}),{res:i,usedKey:r,exactUsedKey:o,usedLng:a,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,r):this.resourceStore.getResource(e,n,i,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&typeof e.replace!="string";let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const o of n)delete r[o]}return r}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}function Yf(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Xw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fi.create("languageUtils")}getScriptPartFromCode(e){if(e=zh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=zh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(r=>r.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Yf(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Yf(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Yf(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const r=this.getLanguagePartFromCode(i);if(this.isSupportedCode(r))return n=r;n=this.options.supportedLngs.find(o=>{if(o===r)return o;if(!(o.indexOf("-")<0&&r.indexOf("-")<0)&&(o.indexOf("-")>0&&r.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===r||o.indexOf(r)===0&&r.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),r=[],o=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),i.forEach(a=>{r.indexOf(a)<0&&o(this.formatLanguageCode(a))}),r}}let Yj=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xj={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const ez=["v1","v2","v3"],tz=["v4"],e0={zero:0,one:1,two:2,few:3,many:4,other:5};function nz(){const t={};return Yj.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Xj[e.fc]}})}),t}class iz{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=fi.create("pluralResolver"),(!this.options.compatibilityJSON||tz.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=nz()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(zh(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(r=>`${n}${r}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((r,o)=>e0[r]-e0[o]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):i.numbers.map(r=>this.getSuffix(e,r,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,i);return r?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:this.getSuffixRetroCompatible(r,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let r=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const o=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!ez.includes(this.options.compatibilityJSON)}}function t0(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Wj(t,e,n);return!o&&r&&typeof n=="string"&&(o=bm(t,n,i),o===void 0&&(o=bm(e,n,i))),o}class rz{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Zj,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Xs(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Xs(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Xs(n.nestingPrefix):n.nestingPrefixEscaped||Xs("$t("),this.nestingSuffix=n.nestingSuffix?Xs(n.nestingSuffix):n.nestingSuffixEscaped||Xs(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n&&n.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,i,r){let o,a,c;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(x){return x.replace(/\$/g,"$$$$")}const p=x=>{if(x.indexOf(this.formatSeparator)<0){const E=t0(n,h,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,i,{...r,...n,interpolationkey:x}):E}const A=x.split(this.formatSeparator),O=A.shift().trim(),P=A.join(this.formatSeparator).trim();return this.format(t0(n,h,O,this.options.keySeparator,this.options.ignoreJSONStructure),P,i,{...r,...n,interpolationkey:O})};this.resetRegExp();const g=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,_=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>f(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?f(this.escape(x)):f(x)}].forEach(x=>{for(c=0;o=x.regex.exec(e);){const A=o[1].trim();if(a=p(A),a===void 0)if(typeof g=="function"){const P=g(e,o,r);a=typeof P=="string"?P:""}else if(r&&Object.prototype.hasOwnProperty.call(r,A))a="";else if(_){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=qw(a));const O=x.safeValue(a);if(e=e.replace(o[0],O),_?(x.regex.lastIndex+=a.length,x.regex.lastIndex-=o[0].length):x.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,o,a;function c(h,f){const p=this.nestingOptionsSeparator;if(h.indexOf(p)<0)return h;const g=h.split(new RegExp(`${p}[ ]*{`));let _=`{${g[1]}`;h=g[0],_=this.interpolate(_,a);const S=_.match(/'/g),x=_.match(/"/g);(S&&S.length%2===0&&!x||x.length%2!==0)&&(_=_.replace(/'/g,'"'));try{a=JSON.parse(_),f&&(a={...f,...a})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,A),`${h}${p}${_}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,h}for(;r=this.nestingRegexp.exec(e);){let h=[];a={...i},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let f=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const p=r[1].split(this.formatSeparator).map(g=>g.trim());r[1]=p.shift(),h=p,f=!0}if(o=n(c.call(this,r[1].trim(),a),a),o&&r[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=qw(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),f&&(o=h.reduce((p,g)=>this.format(p,g,i.lng,{...i,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}function sz(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(a=>{if(!a)return;const[c,...h]=a.split(":"),f=h.join(":").trim().replace(/^'+|'+$/g,"");n[c.trim()]||(n[c.trim()]=f),f==="false"&&(n[c.trim()]=!1),f==="true"&&(n[c.trim()]=!0),isNaN(f)||(n[c.trim()]=parseInt(f,10))})}return{formatName:e,formatOptions:n}}function eo(t){const e={};return function(i,r,o){const a=r+JSON.stringify(o);let c=e[a];return c||(c=t(zh(r),o),e[a]=c),c(i)}}class oz{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fi.create("formatter"),this.options=e,this.formats={number:eo((n,i)=>{const r=new Intl.NumberFormat(n,{...i});return o=>r.format(o)}),currency:eo((n,i)=>{const r=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>r.format(o)}),datetime:eo((n,i)=>{const r=new Intl.DateTimeFormat(n,{...i});return o=>r.format(o)}),relativetime:eo((n,i)=>{const r=new Intl.RelativeTimeFormat(n,{...i});return o=>r.format(o,i.range||"day")}),list:eo((n,i)=>{const r=new Intl.ListFormat(n,{...i});return o=>r.format(o)})},this.init(e)}init(e){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=eo(n)}format(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((c,h)=>{const{formatName:f,formatOptions:p}=sz(h);if(this.formats[f]){let g=c;try{const _=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},S=_.locale||_.lng||r.locale||r.lng||i;g=this.formats[f](c,S,{...p,...r,..._})}catch(_){this.logger.warn(_)}return g}else this.logger.warn(`there was no format function for ${f}`);return c},e)}}function az(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class lz extends jd{constructor(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=fi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,r.backend,r)}queueLoad(e,n,i,r){const o={},a={},c={},h={};return e.forEach(f=>{let p=!0;n.forEach(g=>{const _=`${f}|${g}`;!i.reload&&this.store.hasResourceBundle(f,g)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?a[_]===void 0&&(a[_]=!0):(this.state[_]=1,p=!1,a[_]===void 0&&(a[_]=!0),o[_]===void 0&&(o[_]=!0),h[g]===void 0&&(h[g]=!0)))}),p||(c[f]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}loaded(e,n,i){const r=e.split("|"),o=r[0],a=r[1];n&&this.emit("failedLoading",o,a,n),i&&this.store.addResourceBundle(o,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const c={};this.queue.forEach(h=>{Hj(h.loaded,[o],a),az(h,e),n&&h.errors.push(n),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(f=>{c[f]||(c[f]={});const p=h.loaded[f];p.length&&p.forEach(g=>{c[f][g]===void 0&&(c[f][g]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(h=>!h.done)}read(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:r,wait:o,callback:a});return}this.readingCalls++;const c=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&p&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,r+1,o*2,a)},o);return}a(f,p)},h=this.backend[i].bind(this.backend);if(h.length===2){try{const f=h(e,n);f&&typeof f.then=="function"?f.then(p=>c(null,p)).catch(c):c(null,f)}catch(f){c(f)}return}return h(e,n,c)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(e,n,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(a,c)=>{a&&this.logger.warn(`${n}loading namespace ${o} for language ${r} failed`,a),!a&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${r}`,c),this.loaded(e,a,c)})}saveMissing(e,n,i,r,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const h={...a,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,n,i,r,h):p=f(e,n,i,r),p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}else f(e,n,i,r,c,h)}!e||!e[0]||this.store.addResource(e[0],n,i,r)}}}function n0(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(r=>{n[r]=i[r]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function i0(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function vc(){}function uz(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class $l extends jd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=i0(e),this.services={},this.logger=fi,this.modules={external:[]},uz(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const r=n0();this.options={...r,...this.options,...i0(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(p){return p?typeof p=="function"?new p:p:null}if(!this.options.isClone){this.modules.logger?fi.init(o(this.modules.logger),this.options):fi.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=oz);const g=new Xw(this.options);this.store=new Jw(this.options.resources,this.options);const _=this.services;_.logger=fi,_.resourceStore=this.store,_.languageUtils=g,_.pluralResolver=new iz(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(_.formatter=o(p),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new rz(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new lz(o(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",function(S){for(var x=arguments.length,A=new Array(x>1?x-1:0),O=1;O<x;O++)A[O-1]=arguments[O];e.emit(S,...A)}),this.modules.languageDetector&&(_.languageDetector=o(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=o(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new Fh(this.services,this.options),this.translator.on("*",function(S){for(var x=arguments.length,A=new Array(x>1?x-1:0),O=1;O<x;O++)A[O-1]=arguments[O];e.emit(S,...A)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,i||(i=vc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const h=Aa(),f=()=>{const p=(g,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(_),i(g,_)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),h}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vc;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],a=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>a(h)),this.options.preload&&this.options.preload.forEach(c=>a(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(e,n,i){const r=Aa();return e||(e=this.languages),n||(n=this.options.ns),i||(i=vc),this.services.backendConnector.reload(e,n,o=>{r.resolve(),i(o)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&YP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;const r=Aa();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},a=(h,f)=>{f?(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),n&&n(h,function(){return i.t(...arguments)})},c=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const f=typeof h=="string"?h:this.services.languageUtils.getBestMatchFromCodes(h);f&&(this.language||o(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,p=>{a(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,n,i){var r=this;const o=function(a,c){let h;if(typeof c!="object"){for(var f=arguments.length,p=new Array(f>2?f-2:0),g=2;g<f;g++)p[g-2]=arguments[g];h=r.options.overloadTranslationOptionHandler([a,c].concat(p))}else h={...c};h.lng=h.lng||o.lng,h.lngs=h.lngs||o.lngs,h.ns=h.ns||o.ns,h.keyPrefix=h.keyPrefix||i||o.keyPrefix;const _=r.options.keySeparator||".";let S;return h.keyPrefix&&Array.isArray(a)?S=a.map(x=>`${h.keyPrefix}${_}${x}`):S=h.keyPrefix?`${h.keyPrefix}${_}${a}`:a,r.t(S,h)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=i,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(c,h)=>{const f=this.services.backendConnector.state[`${c}|${h}`];return f===-1||f===2};if(n.precheck){const c=n.precheck(this,a);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!r||a(o,e)))}loadNamespaces(e,n){const i=Aa();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),n&&n(r)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Aa();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],o=e.filter(a=>r.indexOf(a)<0);return o.length?(this.options.preload=r.concat(o),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Xw(n0());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new $l(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vc;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new $l(r);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i&&(o.store=new Jw(this.store.data,r),o.services.resourceStore=o.store),o.translator=new Fh(o.services,r),o.translator.on("*",function(c){for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];o.emit(c,...f)}),o.init(r,n),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const en=$l.createInstance();en.createInstance=$l.createInstance;en.createInstance;en.dir;en.init;en.loadResources;en.reloadResources;en.use;en.changeLanguage;en.getFixedT;en.t;en.exists;en.setDefaultNamespace;en.hasLoadedNamespace;en.loadNamespaces;en.loadLanguages;function cz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function hz(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(Hl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dz(t){var e=hz(t,"string");return Hl(e)=="symbol"?e:e+""}function r0(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,dz(i.key),i)}}function fz(t,e,n){return e&&r0(t.prototype,e),n&&r0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var XP=[],pz=XP.forEach,mz=XP.slice;function gz(t){return pz.call(mz.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var s0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,_z=function(e,n,i){var r=i||{};r.path=r.path||"/";var o=encodeURIComponent(n),a="".concat(e,"=").concat(o);if(r.maxAge>0){var c=r.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(c))}if(r.domain){if(!s0.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(r.domain)}if(r.path){if(!s0.test(r.path))throw new TypeError("option path is invalid");a+="; Path=".concat(r.path)}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite){var h=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(h){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},o0={create:function(e,n,i,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+i*60*1e3)),r&&(o.domain=r),document.cookie=_z(e,encodeURIComponent(n),o)},read:function(e){for(var n="".concat(e,"="),i=document.cookie.split(";"),r=0;r<i.length;r++){for(var o=i[r];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},vz={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var i=o0.read(e.lookupCookie);i&&(n=i)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&o0.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},yz={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=i.substring(1),o=r.split("&"),a=0;a<o.length;a++){var c=o[a].indexOf("=");if(c>0){var h=o[a].substring(0,c);h===e.lookupQuerystring&&(n=o[a].substring(c+1))}}}return n}},La=null,a0=function(){if(La!==null)return La;try{La=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{La=!1}return La},wz={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&a0()){var i=window.localStorage.getItem(e.lookupLocalStorage);i&&(n=i)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&a0()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},Oa=null,l0=function(){if(Oa!==null)return Oa;try{Oa=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Oa=!1}return Oa},Ez={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&l0()){var i=window.sessionStorage.getItem(e.lookupSessionStorage);i&&(n=i)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&l0()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},Tz={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)n.push(navigator.languages[i]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Sz={name:"htmlTag",lookup:function(e){var n,i=e.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},Pz={name:"path",lookup:function(e){var n;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof i[e.lookupFromPathIndex]!="string")return;n=i[e.lookupFromPathIndex].replace("/","")}else n=i[0].replace("/","")}return n}},Iz={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};function bz(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var eI=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};cz(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return fz(t,[{key:"init",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=gz(i,this.options||{},bz()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(vz),this.addDetector(yz),this.addDetector(wz),this.addDetector(Ez),this.addDetector(Tz),this.addDetector(Sz),this.addDetector(Pz),this.addDetector(Iz)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var i=this;n||(n=this.options.order);var r=[];return n.forEach(function(o){if(i.detectors[o]){var a=i.detectors[o].lookup(i.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.map(function(o){return i.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(n,i){var r=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(function(o){r.detectors[o]&&r.detectors[o].cacheUserLanguage(n,r.options)}))}}]),t}();eI.type="languageDetector";en.use(FM).use(eI).init({debug:!0,fallbackLng:"EN",interpolation:{escapeValue:!1},detection:{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag","path","subdomain"],caches:["cookie","localStorage"]},resources:{EN:{translation:{about_us_a_brand_leader:"A Brand Leader",about_us_p1:"Offering the most powerful portfolio in the industry, our over 30 brands and nearly  8,700 properties across 139 countries and territories give people more ways to connect, experience and expand their world.",about_us_reception:"Reception",about_us_Tel_No:"Tel.No.:",about_us_Booking_department:"Booking department",about_us_Core_Values_Heritage:"Core Values & Heritage",about_us_p2:"Founded by J. Willard and Alice Marriott, and guided by family leadership since 1927,their principles remain embedded in the companys culture and in everything we do today.",about_us_Company_Strategy:"Company Strategy",about_us_p3:"Our Growing Forward strategy encapsulates our company priorities, rooted in our core values, and guides us as we deliver on the promise of Marriotts unique brand of hospitality around the world.",about_us_Diversity_Inclusion:"Diversity & Inclusion",about_us_p4:"Diversity and inclusion is fundamental to our core values and strategic business goals. Taking care of people and their well-being is our most precious cultural inheritance.",about_us_Sustainability_Social_Impact:"Sustainability & Social Impact",about_us_p5:"Guided by our sustainability and social impact platform, Serve 360: Doing Good in Every Direction, Marriott International commits to creating positive and sustainable impact wherever we do business.",booking_form:"Book a Room",booking_start_date:"Choose Start Date:",booking_end_date:"Choose End Date:",booking_room:"Choose Room:",booking_submit:"Book",ContactUs:"Contact Us",Submit:"Submit",ContactFormPlaceholderName:"Name",ContactFormPlaceholderMessage:"Message",Links:"Links",MainPage:"Main page",AboutUs:"About us",FooterContactUs:"Contact us",SocialMedia:"Social Media",Contact:"Contact",AllRightsReserved:"2024 Sol Hotel. All rights reserved.",Login:"Login",Password:"Password",BookNow:"Book Now",OurRooms:"Our Rooms",HeaderContactUs:"Contact Us",HeaderLogin:"Login",HeaderLogOut:"Log Out",LocationText:`The building, whose architecture refers to the style of a 
                    seaside villa, is located on the main communication route 
                    of the Tri-City, and at the same time right next to the 
                    Aquapark and only 250 m from the sandy beach. The hotel 
                    has 50 rooms. On its premises there is the Aquarella 
                    Restaurant, serving European cuisine and 3 conference rooms.`,PageNotFound:"404 - Page Not Found",confused:"Confused? We are too.",LinkToHomePage1:"You can go back to the",homepage:"homepage",LinkToHomePage2:"to get back on track.",discountHeader:"RECEIVE AN EXTRA 10% DISCOUNT",discountHeader2:"Sign up to the newsletter and have all the promos in your inbox the moment they are published.",discountEmail:"Enter your Email",discountConsent:`I hereby agree to receive commercial information (newsletter) 
                    from Sol Hotel with its registered office in Tajna Gra (01-100) al. Nieznana 5 
                    (hereinafter referred to as the Company) by electronic means to the e-mail address provided 
                    in the form. I understand that I may withdraw my consent at any time and that such withdrawal 
                    shall not affect the lawfulness of processing based on consent before its withdrawal.`,LanguageSelector:"Choose a language",roomDescriptionHeader:"SEE OUR COMFORTABLE ROOM",roomDescriptionText:`The hotel has 85 rooms, including 74 standard rooms, 6 premium rooms and 5 suites. Our rooms are equipped 
                    with large, comfortable beds, which ensure a restful night's sleep. Standard facilities include: telephone 
                    with a free wake-up call on demand, LCD satellite TV, free Wi-Fi and tea and coffee making facilities as well 
                    as free mineral water. Bathrooms are equipped with showers or bathtubs. For extra comfort, each bathroom has 
                    a hairdryer, slippers, and bathrobes. To ensure our guests' best possible rest, all rooms are equipped with 
                    blackout curtains.`,roomDescriptionHeader2:"Among our rooms you will find: ",roomDescriptionWifi:"Free room Wi-Fi internet",roomDescriptionRefridgerator:"Refridgerator",roomDescriptionTelephone:"Telephone",roomDescriptionWater:"Free mineral water",roomDescriptionAir:"Air conditioning",roomDescriptionDesk:"Desk",roomDescriptionTowels:"Towels",roomDescriptionHairdryer:"Hair dryer",roomDescriptionBookFor:"Book for",roomDescriptionPerNight:"$/night",roomDescriptionSpace:"Space:",roomDescriptionMaxAmountGuests:"Max amount of guests:",roomDescriptionBookNow:"Book Now:",LoginSignIn:"Sign In",LoginLogin:"Login",LoginNoAccount:"You do not have an account?",LoginSignup:"Sign up",LoginPlaceholderPassword:"Password",LoginPlaceholderLogin:"Login",RegisterSignup:"Sign Up",RegisterJoin:"Join",RegisterAlreadyAccount:"Already have an account?",RegisterSignin:"Sign in"}},PL:{translation:{about_us_a_brand_leader:'Lider marki"',about_us_p1:"Oferujc najpotniejszy portfel w brany, nasze ponad 30 marek i prawie 8 700 obiektw w 139 krajach i terytoriach daj ludziom wicej sposobw na nawizanie kontaktu, dowiadczenie i poszerzenie swojego wiata.",about_us_reception:"Recepcja",about_us_Tel_No:"Numer telefonu:",about_us_Booking_department:"Dzia rezerwacji",about_us_Core_Values_Heritage:"Wartoci fundamentale i dziedzictwo",about_us_p2:"Zaoona przez J. Willarda i Alice Marriott, a kierowana przez rodzinne przywdztwo od 1927 roku, ich zasady pozostaj osadzone w kulturze firmy i we wszystkim, co robimy dzisiaj.",about_us_Company_Strategy:"Strategia firmy",about_us_p3:"Nasza strategia Rozwoju Przyszoci obejmuje priorytety naszej firmy, zakorzenione w naszych wartociach fundamentalnych, i prowadzi nas podczas realizacji obietnicy unikalnej marki gocinnoci Marriott na caym wiecie.",about_us_Diversity_Inclusion:"Rnorodno i Inkluzywnoc",about_us_p4:"Rnorodno i inkluzywno s fundamentalne dla naszych wartoci podstawowych i strategicznych celw biznesowych. Troska o ludzi i ich dobrostan stanowi nasze najcenniejsze dziedzictwo kulturowe.",about_us_Sustainability_Social_Impact:"Zrwnowaono i wpyw spoeczny",about_us_p5:"Podajc za nasz platform zrwnowaonego rozwoju i wpywu spoecznego, Serve 360: Robienie Dobrego we Wszystkich Kierunkach, Marriott International zobowizuje si do tworzenia pozytywnego i trwaego wpywu wszdzie tam, gdzie prowadzimy dziaalno.",booking_form:"Zarezerwuj pokj",booking_start_date:"Wybierz dat rozpoczcia:",booking_end_date:"Wybierz dat zakoczenia:",booking_room:"Wybierz pokj:",booking_submit:"Zarezerwuj",ContactUs:"Napisz do nas",Submit:"Wylij",ContactFormPlaceholderName:"Imi",ContactFormPlaceholderMessage:"Wiadomo",Links:"Linki",MainPage:"Strona gwna",AboutUs:"O nas",FooterContactUs:"Skontaktuj si z nami",SocialMedia:"Media spoecznociowe",Contact:"Kontakt",AllRightsReserved:"2024 Hotel Sol. Wszelkie prawa zastrzeone.",Login:"Login",Password:"Haso",BookNow:"Rezerwuj teraz",OurRooms:"Nasze pokoje",HeaderContactUs:"Napisz do nas",HeaderLogin:"Zaloguj si",HeaderLogOut:"Wyloguj si",LocationText:"Budynek, ktrego architektura nawizuje do stylu nadmorskiej willi, znajduje si przy gwnej drodze komunikacyjnej Trjmiasta, a jednoczenie tu obok Aquaparku i zaledwie 250 m od piaszczystej play. Hotel posiada 50 pokoi. Na jego terenie znajduje si restauracja Aquarella, serwujca kuchni europejsk oraz 3 sale konferencyjne.",PageNotFound:"404 - Strona nie znaleziona",confused:"Zdezorientowani? My te.",LinkToHomePage1:"Moesz wrci do",homepage:"strony gwnej",LinkToHomePage2:"eby wrci na waciw ciek.",discountHeader:"OTRZYMAJ DODATKOW ZNIK 10%",discountHeader2:"Zapisz si do newslettera i otrzymuj wszystkie promocje bezporednio do swojej skrzynki odbiorczej w momencie ich publikacji.",discountEmail:"Wpisz swj adres e-mail",discountConsent:`Owiadczam, e zgadzam si na otrzymywanie informacji handlowych (newslettera) od Hotelu Sol 
                    z siedzib w Tajnej Grze (01-100) al. Nieznana 5 (dalej zwanej Spk) za pomoc rodkw elektronicznych 
                    na podany w formularzu adres e-mail. Rozumiem, e mog w dowolnym momencie wycofa swoj zgod, a takie wycofanie nie bdzie miao wpywu na 
                    zgodno z prawem przetwarzania opartego na zgodzie przed jej wycofaniem.`,LanguageSelector:"Wybierz jzyk",roomDescriptionHeader:"ZOBACZ NASZ WYGODNY POKJ",roomDescriptionText:`Hotel dysponuje 85 pokojami, w tym 74 pokojami standardowymi, 
                    6 pokojami premium i 5 apartamentami. Nasze pokoje s wyposaone w due, wygodne ka, 
                    ktre zapewniaj spokojny sen. Standardowe udogodnienia obejmuj: 
                    telefon z bezpatnym budzikiem na yczenie, telewizor LCD z satelitarn telewizj, 
                    darmowe Wi-Fi oraz moliwo parzenia herbaty i kawy, a take bezpatn wod mineraln. 
                    azienki s wyposaone w prysznice lub wanny. Dla dodatkowego komfortu kada azienka wyposaona 
                    jest w suszark do wosw, kapcie i szlafroki. Aby zapewni naszym gociom najlepszy moliwy odpoczynek, 
                    wszystkie pokoje s wyposaone w zasony zaciemniajce.`,roomDescriptionHeader2:"Wrd naszych pokoi znajdziesz: ",roomDescriptionWifi:"Bezpatny internet Wi-Fi w pokojach",roomDescriptionRefridgerator:"Lodwka",roomDescriptionTelephone:"Telefon",roomDescriptionWater:"Darmowa woda mineralna",roomDescriptionAir:"Klimatyzacja",roomDescriptionDesk:"Biurko",roomDescriptionTowels:"Rczniki",roomDescriptionHairdryer:"Suszarka do wosw",roomDescriptionBookFor:"Rezerwuj za",roomDescriptionPerNight:"$/noc",roomDescriptionSpace:"Przestrze:",roomDescriptionMaxAmountGuests:"Maksymalna liczba goci:",roomDescriptionBookNow:"Rezerwuj:",LoginSignIn:"Zaloguj si",LoginLogin:"Zaloguj",LoginNoAccount:"Nie masz konta?",LoginSignup:"Zarejestruj si",LoginPlaceholderPassword:"Haso",LoginPlaceholderLogin:"Nazwa uytkownika",RegisterSignup:"Zarejestruj si",RegisterJoin:"Docz",RegisterAlreadyAccount:"Masz ju konto?",RegisterSignin:"Zaloguj si",RegisterPlaceholderPassword:"Haso",RegisterPlaceholderName:"Nazwa uytkownika"}}}});Xf.createRoot(document.getElementById("root")).render(k.jsx(sl.StrictMode,{children:k.jsx(Dj,{children:k.jsx(sj,{children:k.jsx(aj,{children:k.jsx(Vj,{})})})})}));
